{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u535a\u5ba2","text":""},{"location":"contact/","title":"Contact","text":"<p>\u7537\u4eba\u81f3\u6b7b\u662f\u5c11\u5e74\uff01</p>"},{"location":"link/","title":"Link","text":"<p>ddddkw\u7684\u535a\u5ba2</p> <p>wujunhao\u7684\u535a\u5ba2</p> <p>sleepybear\u7684\u535a\u5ba2</p> <p>\u6768\u6d77\u6ce2\u7684\u535a\u5ba2</p>"},{"location":"2024/11/25/jvm%E6%95%85%E9%9A%9C%E5%88%86%E6%9E%90%E5%8F%8A%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%80%E4%BD%BF%E7%94%A8jstack%E5%AE%9A%E4%BD%8D%E7%BA%BF%E7%A8%8B%E5%A0%86%E6%A0%88%E4%BF%A1%E6%81%AF%E8%BD%AC%E8%BD%BD/","title":"JVM\u6545\u969c\u5206\u6790\u53ca\u6027\u80fd\u4f18\u5316\u7cfb\u5217\u4e4b\u4e00\uff1a\u4f7f\u7528jstack\u5b9a\u4f4d\u7ebf\u7a0b\u5806\u6808\u4fe1\u606f(\u8f6c\u8f7d)","text":"","tags":["jvm","\u6027\u80fd\u4f18\u5316","jstack"]},{"location":"2024/11/25/jvm%E6%95%85%E9%9A%9C%E5%88%86%E6%9E%90%E5%8F%8A%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%80%E4%BD%BF%E7%94%A8jstack%E5%AE%9A%E4%BD%8D%E7%BA%BF%E7%A8%8B%E5%A0%86%E6%A0%88%E4%BF%A1%E6%81%AF%E8%BD%AC%E8%BD%BD/#\u57fa\u672c\u6982\u5ff5","title":"\u57fa\u672c\u6982\u5ff5","text":"<p>\u5728\u5bf9Java\u5185\u5b58\u6cc4\u6f0f\u8fdb\u884c\u5206\u6790\u7684\u65f6\u5019\uff0c\u9700\u8981\u5bf9jvm\u8fd0\u884c\u671f\u95f4\u7684\u5185\u5b58\u5360\u7528\u3001\u7ebf\u7a0b\u6267\u884c\u7b49\u60c5\u51b5\u8fdb\u884c\u8bb0\u5f55\u7684dump\u6587\u4ef6\uff0c\u5e38\u7528\u7684\u4e3b\u8981\u6709thread dump\u548cheap dump\u3002</p> <ul> <li>thread dump:\u4e3b\u8981\u8bb0\u5f55JVM\u5728\u67d0\u4e00\u65f6\u523b\u5404\u4e2a\u7ebf\u7a0b\u6267\u884c\u7684\u60c5\u51b5\uff0c\u4ee5\u6808\u7684\u5f62\u5f0f\u663e\u793a\uff0c\u662f\u4e00\u4e2a\u6587\u672c\u6587\u4ef6\u3002\u901a\u8fc7\u5bf9thread dump\u6587\u4ef6\u53ef\u4ee5\u5206\u6790\u51fa\u7a0b\u5e8f\u7684\u95ee\u9898\u51fa\u73b0\u5728\u4ec0\u4e48\u5730\u65b9\uff0c\u4ece\u800c\u5b9a\u4f4d\u5177\u4f53\u7684\u4ee3\u7801\u7136\u540e\u8fdb\u884c\u4fee\u6b63\u3002thread dump\u9700\u8981\u7ed3\u5408\u5360\u7528\u7cfb\u7edf\u8d44\u6e90\u7684\u7ebf\u7a0bid\u8fdb\u884c\u5206\u6790\u624d\u6709\u610f\u4e49\u3002</li> <li>heap dump:\u4e3b\u8981\u8bb0\u5f55\u4e86\u5728\u67d0\u4e00\u65f6\u523bJVM\u5806\u4e2d\u5bf9\u8c61\u4f7f\u7528\u7684\u60c5\u51b5\uff0c\u5373\u67d0\u4e2a\u65f6\u523bJVM\u5806\u7684\u5feb\u7167\uff0c\u662f\u4e00\u4e2a\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u4e3b\u8981\u7528\u4e8e\u5206\u6790\u54ea\u4e9b\u5bf9\u8c61\u5360\u7528\u4e86\u592a\u5bf9\u7684\u5806\u7a7a\u95f4\uff0c\u4ece\u800c\u53d1\u73b0\u5bfc\u81f4\u5185\u5b58\u6cc4\u6f0f\u7684\u5bf9\u8c61\u3002</li> </ul> <p>\u4e0a\u9762\u4e24\u79cddump\u6587\u4ef6\u90fd\u5177\u6709\u5b9e\u65f6\u6027\uff0c\u56e0\u6b64\u9700\u8981\u5728\u670d\u52a1\u5668\u51fa\u73b0\u95ee\u9898\u7684\u65f6\u5019\u751f\u6210\uff0c\u5e76\u4e14\u591a\u751f\u6210\u51e0\u4e2a\u6587\u4ef6\uff0c\u65b9\u4fbf\u8fdb\u884c\u5bf9\u6bd4\u5206\u6790\u3002\u4e0b\u9762\u6211\u4eec\u5148\u6765\u8bf4\u4e00\u4e0b\u5982\u4f55\u751f\u6210 thread dump\u3002</p>","tags":["jvm","\u6027\u80fd\u4f18\u5316","jstack"]},{"location":"2024/11/25/jvm%E6%95%85%E9%9A%9C%E5%88%86%E6%9E%90%E5%8F%8A%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%80%E4%BD%BF%E7%94%A8jstack%E5%AE%9A%E4%BD%8D%E7%BA%BF%E7%A8%8B%E5%A0%86%E6%A0%88%E4%BF%A1%E6%81%AF%E8%BD%AC%E8%BD%BD/#\u4f7f\u7528jstack\u751f\u6210thread-dump","title":"\u4f7f\u7528jstack\u751f\u6210thread dump","text":"<p>\u5f53\u670d\u52a1\u5668\u51fa\u73b0\u9ad8CPU\u7684\u65f6\u5019\uff0c\u9996\u5148\u6267\u884c </p> <p>top -c \u547d\u4ee4\u52a8\u6001\u663e\u793a\u8fdb\u7a0b\u53ca\u5360\u7528\u8d44\u6e90\u7684\u6392\u884c\uff0c\u5982\u4e0b\u56fe\uff1a</p> <p>\u200b    </p> <p>top\u540e\u9762\u7684\u53c2\u6570</p> <p>-c\u53ef\u4ee5\u663e\u793a\u8fdb\u7a0b\u8be6\u7ec6\u7684\u4fe1\u606f\u3002</p> <p>top\u547d\u4ee4\u6267\u884c\u7684\u65f6\u5019\u8fd8\u53ef\u4ee5\u6267\u884c\u4e00\u4e9b\u5feb\u6377\u952e\uff1a</p> <ul> <li>1:\u5bf9\u4e8e\u591a\u6838\u670d\u52a1\u5668\uff0c\u53ef\u4ee5\u663e\u793a\u5404\u4e2aCPU\u5360\u7528\u8d44\u6e90\u7684\u60c5\u51b5</li> <li>shift+h:\u663e\u793a\u6240\u6709\u7684\u7ebf\u7a0b\u4fe1\u606f</li> <li>shift+w\u5c06\u5f53\u524dtop\u547d\u4ee4\u7684\u8bbe\u7f6e\u4fdd\u5b58\u5230~/.toprc\u6587\u4ef6\u4e2d\uff0c\u8fd9\u6837\u4e0d\u7528\u6bcf\u6b21\u90fd\u6267\u884c\u5feb\u6377\u952e\u4e86</li> </ul> <p>\u4ee5\u4e0a\u56fe\u4e3a\u4f8b\uff0cpid\u4e3a1503\u7684\u8fdb\u7a0b\u5360\u7528\u4e86\u5927\u91cf\u7684CPU\u8d44\u6e90\uff0c\u63a5\u4e0b\u6765\u9700\u8981\u5c06\u5360\u7528CPU\u6700\u9ad8\u8fdb\u7a0b\u4e2d\u7684\u7ebf\u7a0b\u6253\u5370\u51fa\u6765\uff0c\u53ef\u4ee5\u7528 </p> <p>top -bn1 -H -p  \u547d\u4ee4\uff0c\u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a</p> <p>\u200b    </p> <p>\u4e0a\u9762 -bn1 \u53c2\u6570\u7684\u542b\u4e49\u662f\u53ea\u8f93\u51fa\u4e00\u6b21\u7ed3\u679c\uff0c\u800c\u4e0d\u662f\u663e\u793a\u4e00\u4e2a\u52a8\u6001\u7684\u7ed3\u679c\u3002</p> <p>\u6211\u4e2a\u4eba\u8bf7\u559c\u6b22\u7528 ps -mp  -o THREAD,tid,time | sort -k2r \u547d\u4ee4\u67e5\u770b\uff0c\u540e\u9762\u7684sort\u53c2\u6570\u6839\u636e\u7ebf\u7a0b\u5360\u7528\u7684cpu\u6bd4\u4f8b\u8fdb\u884c\u6392\u5e8f\uff0c\u7ed3\u679c\u5982\u4e0b\uff1a</p> <p>\u200b    </p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u6e05\u695a\u4eca\u5929\u7684\u4e3b\u89d2 </p> <p>jstack\uff0c\u8fd9\u662f\u4e00\u4e2a\u5728JDK5\u5f00\u59cb\u63d0\u4f9b\u7684\u5185\u7f6e\u5de5\u5177\uff0c\u53ef\u4ee5\u6253\u5370\u6307\u5b9a\u8fdb\u7a0b\u4e2d\u7ebf\u7a0b\u8fd0\u884c\u7684\u72b6\u6001\uff0c\u5305\u62ec\u7ebf\u7a0b\u6570\u91cf\u3001\u662f\u5426\u5b58\u5728\u6b7b\u9501\u3001\u8d44\u6e90\u7ade\u4e89\u60c5\u51b5\u548c\u7ebf\u7a0b\u7684\u72b6\u6001\u7b49\u7b49\u3002\u6709\u4e0b\u9762\u7684\u51e0\u4e2a\u5e38\u7528\u7684\u53c2\u6570\uff1a</p> <ul> <li>-l:\u957f\u5217\u8868\uff0c\u6253\u5370\u5173\u4e8e\u9501\u7684\u9644\u52a0\u4fe1\u606f</li> <li>-m: \u6253\u5370java\u548cjni\u6846\u67b6\u7684\u6240\u6709\u6808\u4fe1\u606f</li> </ul> <p>\u56e0\u4e3athread id\u5728\u6808\u4fe1\u606f\u4e2d\u662f\u4ee5\u5341\u516d\u8fdb\u5236\u7684\u5f62\u5f0f\u663e\u793a\u7684\uff0c\u56e0\u6b64\u9700\u8981\u4f7f\u7528 </p> <p>printf \"%x \\n\"  \u547d\u4ee4\u5c06\u73b0\u573aid\u8f6c\u6210\u5341\u516d\u8fdb\u5236\u7684\u503c\uff0c\u7136\u540e\u6267\u884c </p> <p>jstack -l  | grep  -A 10 \u547d\u4ee4\u663e\u793a\u51fa\u9519\u7684\u5806\u6808\u4fe1\u606f\uff0c\u5982\u4e0b\u56fe\uff1a</p> <p>\u200b    </p> <p>\u4e0a\u9762\u547d\u4ee4\u4e2d -A 10 \u53c2\u6570\u7528\u6765\u6307\u5b9a\u663e\u793a\u884c\u6570\uff0c\u5426\u5219\u53ea\u4f1a\u663e\u793a\u4e00\u884c\u4fe1\u606f\u3002</p> <p>\u8fd9\u6837\u901a\u8fc7\u4e0a\u56fe\uff0c\u53ef\u4ee5\u5f88\u5feb\u5730\u5b9a\u4f4d\u5230\u7a0b\u5e8f\u95ee\u9898\u7684\u4ee3\u7801\uff0c\u7136\u540e\u5bf9\u4ee3\u7801\u8fdb\u884c\u5206\u6790\u548c\u6539\u8fdb\u5373\u53ef\u3002\u6ce8\u610f\uff1a\u9700\u8981\u5728\u591a\u4e2a\u65f6\u95f4\u6bb5\u63d0\u51fa\u591a\u4e2a Thread Dump\u4fe1\u606f\uff0c\u7136\u540e\u7efc\u5408\u8fdb\u884c\u5bf9\u6bd4\u5206\u6790\uff0c\u5355\u72ec\u5206\u6790\u4e00\u4e2a\u6587\u4ef6\u662f\u6ca1\u6709\u610f\u4e49\u7684\u3002</p>","tags":["jvm","\u6027\u80fd\u4f18\u5316","jstack"]},{"location":"2024/11/25/jvm%E6%95%85%E9%9A%9C%E5%88%86%E6%9E%90%E5%8F%8A%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%80%E4%BD%BF%E7%94%A8jstack%E5%AE%9A%E4%BD%8D%E7%BA%BF%E7%A8%8B%E5%A0%86%E6%A0%88%E4%BF%A1%E6%81%AF%E8%BD%AC%E8%BD%BD/#\u751f\u6210shell\u6587\u4ef6","title":"\u751f\u6210shell\u6587\u4ef6","text":"<p>\u4e0a\u9762\u8bb2\u8ff0\u4e86\u6574\u4e2a\u7684\u5206\u6790\u8fc7\u7a0b\uff0c\u4e0d\u8fc7\u6240\u6709\u7684\u547d\u4ee4\u5c31\u662f\u5b9e\u65f6\u7684\uff0c\u6240\u4ee5\u6700\u597d\u521b\u5efa\u4e00\u4e2ashell\u811a\u672c\u77ac\u95f4\u6267\u884c\u5b8c\u6210\uff0c\u4e0b\u9762\u5bf9 \u5f53CPU\u98d9\u9ad8\u65f6\uff0c\u5b83\u5728\u505a\u4ec0\u4e48 \u8fd9\u7bc7\u6587\u7ae0\u4e2d\u6240\u63d0\u4f9b\u7684shell\u8fdb\u884c\u4e86\u6539\u8fdb\u5982\u4e0b\uff1a</p> <pre><code>#!/bin/bash\nif [ $# -le 0 ]; then\n    echo \"usage: $0 &lt;pid&gt; [line-number]\"\n    exit 1\nfi\n\n# java home\nif test -z $JAVA_HOME \nthen\n    JAVA_HOME='/usr/local/jdk'\nfi\n\n#pid\npid=$1\n# checking pid\nif test -z \"$($JAVA_HOME/bin/jps -l | cut -d '' -f 1 | grep $pid)\"\nthen\n    echo \"process of $pid is not exists\"\n    exit\nfi\n\n#line number\nlinenum=$2\nif test -z $linenum\nthen\n    linenum=10\nfi\n\nstackfile=stack$pid.dump\nthreadsfile=threads$pid.dump\n\n# generate java stack\n$JAVA_HOME/bin/jstack -l $pid &gt;&gt; $stackfile\nps -mp $pid -o THREAD,tid,time | sort -k2r | awk '{if ($1 !=\"USER\" &amp;&amp; $2 != \"0.0\" &amp;&amp; $8 !=\"-\") print $8;}' | xargs printf \"%x\\n\" &gt;&gt; $threadsfile\ntids=\"$(cat $threadsfile)\"\nfor tid in $tids\ndo\n    echo \"------------------------------ ThreadId ($tid) ------------------------------\"\n    cat $stackfile | grep 0x$tid -A $linenum\ndone\n\nrm -f $stackfile $threadsfile\n</code></pre>","tags":["jvm","\u6027\u80fd\u4f18\u5316","jstack"]},{"location":"2024/11/25/jvm%E6%95%85%E9%9A%9C%E5%88%86%E6%9E%90%E5%8F%8A%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%89jstat%E5%91%BD%E4%BB%A4%E7%9A%84%E4%BD%BF%E7%94%A8%E5%8F%8Avm-thread%E5%88%86%E6%9E%90%E8%BD%AC%E8%BD%BD/","title":"JVM\u6545\u969c\u5206\u6790\u53ca\u6027\u80fd\u4f18\u5316\u7cfb\u5217\u4e4b\u4e09\uff1ajstat\u547d\u4ee4\u7684\u4f7f\u7528\u53caVM Thread\u5206\u6790(\u8f6c\u8f7d)","text":"","tags":["jvm","\u6027\u80fd\u4f18\u5316","jstat"]},{"location":"2024/11/25/jvm%E6%95%85%E9%9A%9C%E5%88%86%E6%9E%90%E5%8F%8A%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%89jstat%E5%91%BD%E4%BB%A4%E7%9A%84%E4%BD%BF%E7%94%A8%E5%8F%8Avm-thread%E5%88%86%E6%9E%90%E8%BD%AC%E8%BD%BD/#\u4f7f\u7528jstat\u547d\u4ee4","title":"\u4f7f\u7528jstat\u547d\u4ee4","text":"<p>\u5f53\u670d\u52a1\u5668CPU100%\u7684\u65f6\u5019\uff0c\u901a\u8fc7\u5b9a\u4f4d\u5360\u7528\u8d44\u6e90\u6700\u5927\u7684\u7ebf\u7a0b\u5b9a\u4f4d\u5230 VM Thread\uff1a</p> <pre><code>\"VM Thread\" prio=10 tid=0x00007fbea80d3800 nid=0x5e9 runnable\n</code></pre> <p>\u8fd9\u4e2a\u65f6\u5019\u9700\u8981\u4f7f\u7528 jstat -gc    \u547d\u4ee4\u67e5\u770bgc\u7684\u4fe1\u606f\uff0c\u663e\u793a\u7ed3\u679c\u5982\u4e0b</p> <p></p> <pre><code>S0C    S1C    S0U    S1U      EC       EU      OC         OU       PC        PU       YGC     YGCT    FGC   FGCT       GCT\n64.0   64.0   0.0    0.0   332992.0   0.0    666304.0   73192.5   83968.0   83967.9   6893   17.576  6882   2705.923  2723.499\n</code></pre> <p>\u7ed3\u679c\u4e2d\u6bcf\u4e2a\u9879\u76ee\u7684\u542b\u4e49\u53ef\u4ee5\u53c2\u8003\u5b98\u65b9\u5bf9jstat\u7684\u6587\u6863\uff0c\u7b80\u5355\u7ffb\u8bd1\u5982\u4e0b\uff1a</p> <ul> <li>S0C: Young Generation\u7b2c\u4e00\u4e2asurvivor space\u7684\u5185\u5b58\u5927\u5c0f (kB).</li> <li>S1C: Young Generation\u7b2c\u4e8c\u4e2asurvivor space\u7684\u5185\u5b58\u5927\u5c0f (kB).</li> <li>S0U: Young Generation\u7b2c\u4e00\u4e2aSurvivor space\u5f53\u524d\u5df2\u4f7f\u7528\u7684\u5185\u5b58\u5927\u5c0f (kB).</li> <li>S1U: Young Generation\u7b2c\u4e8c\u4e2aSurvivor space\u5f53\u524d\u5df2\u7ecf\u4f7f\u7528\u7684\u5185\u5b58\u5927\u5c0f (kB).</li> <li>EC: Young Generation\u4e2deden space\u7684\u5185\u5b58\u5927\u5c0f (kB).</li> <li>EU: Young Generation\u4e2dEden space\u5f53\u524d\u5df2\u4f7f\u7528\u7684\u5185\u5b58\u5927\u5c0f (kB).</li> <li>OC: Old Generation\u7684\u5185\u5b58\u5927\u5c0f (kB).</li> <li>OU: Old Generation\u5f53\u524d\u5df2\u4f7f\u7528\u7684\u5185\u5b58\u5927\u5c0f (kB).</li> <li>PC: Permanent Generation\u7684\u5185\u5b58\u5927\u5c0f (kB)</li> <li>PU: Permanent Generation\u5f53\u524d\u5df2\u4f7f\u7528\u7684\u5185\u5b58\u5927\u5c0f (kB).</li> <li>YGC: \u4ece\u542f\u52a8\u5230\u91c7\u6837\u65f6Young Generation GC\u7684\u6b21\u6570</li> <li>YGCT: \u4ece\u542f\u52a8\u5230\u91c7\u6837\u65f6Young Generation GC\u6240\u7528\u7684\u65f6\u95f4 (s).</li> <li>FGC: \u4ece\u542f\u52a8\u5230\u91c7\u6837\u65f6Old Generation GC\u7684\u6b21\u6570.</li> <li>FGCT: \u4ece\u542f\u52a8\u5230\u91c7\u6837\u65f6Old Generation GC\u6240\u7528\u7684\u65f6\u95f4 (s).</li> <li>GCT: \u4ece\u542f\u52a8\u5230\u91c7\u6837\u65f6GC\u6240\u7528\u7684\u603b\u65f6\u95f4 (s).</li> </ul> <p>JDK8\u7684\u7ed3\u679c\u7a0d\u5fae\u6709\u6240\u4e0d\u540c\uff0c\u7ed3\u679c\u542b\u4e49\u53ef\u4ee5\u53c2\u8003\uff1ahttp://docs.oracle.com/javase/8/docs/technotes/tools/unix/jstat.html</p>","tags":["jvm","\u6027\u80fd\u4f18\u5316","jstat"]},{"location":"2024/11/25/jvm%E6%95%85%E9%9A%9C%E5%88%86%E6%9E%90%E5%8F%8A%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%89jstat%E5%91%BD%E4%BB%A4%E7%9A%84%E4%BD%BF%E7%94%A8%E5%8F%8Avm-thread%E5%88%86%E6%9E%90%E8%BD%AC%E8%BD%BD/#jvm\u5185\u5b58\u6a21\u578b","title":"JVM\u5185\u5b58\u6a21\u578b","text":"<p>\u4e0a\u9762\u4e2d\u7684Young Generation\u3001Permanent Generation\u548cOld Generation\u7b49\u6982\u5ff5\u6709\u4e00\u4e9b\u6df7\u4e71\uff0c\u8fd9\u91cc\u7b80\u8981\u7684\u8fdb\u884c\u8bf4\u660e\u3002\u7b80\u5355\u6765\u8bf4\uff0cJVM\u5185\u5b58\u7531\u5806\uff08Heap\uff09\u548c\u975e\u5806\uff08Non-heap\uff09\u5185\u5b58\u7ec4\u6210\uff0c\u524d\u8005\u5171\u8fd0\u884c\u5728JVM\u4e4b\u4e0a\u7684\u7a0b\u5e8f\u4f7f\u7528\uff0c\u540e\u8005\u4f9bJVM\u81ea\u5df1\u4f7f\u7528\u3002</p> <p>\u200b    </p> <p>\u5806\u5185\u5b58\u7684\u7ec4\u6210\u5982\u4e0b\uff1a</p> <p>\u200b    </p> <p>\u975e\u5806\u5185\u5b58\u7531 Permanent Generation \u548c Code Cache \u4e24\u90e8\u5206\u7ec4\u6210\uff1a</p> <ul> <li>Permanent Generation\uff08\u6301\u4e45\u4ee3\uff09: \u4fdd\u5b58\u865a\u62df\u673a\u81ea\u5df1\u7684\u9759\u6001(refective)\u6570\u636e\uff0c\u4e3b\u8981\u5b58\u653e\u52a0\u8f7d\u7684Class\u7c7b\u7ea7\u522b\u9759\u6001\u5bf9\u8c61\u5982class\u672c\u8eab\uff0cmethod\uff0cfield\u7b49\u7b49\u3002permanent generation\u7a7a\u95f4\u4e0d\u8db3\u4f1a\u5f15\u53d1full GC\uff1b</li> <li>Code Cache: \u7528\u4e8e\u7f16\u8bd1\u548c\u4fdd\u5b58\u672c\u5730\u4ee3\u7801\uff08native code\uff09\u7684\u5185\u5b58\uff0cJVM\u5185\u90e8\u5904\u7406\u6216\u4f18\u5316\u3002</li> </ul>","tags":["jvm","\u6027\u80fd\u4f18\u5316","jstat"]},{"location":"2024/11/25/jvm%E6%95%85%E9%9A%9C%E5%88%86%E6%9E%90%E5%8F%8A%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%89jstat%E5%91%BD%E4%BB%A4%E7%9A%84%E4%BD%BF%E7%94%A8%E5%8F%8Avm-thread%E5%88%86%E6%9E%90%E8%BD%AC%E8%BD%BD/#jvm\u5185\u5b58\u53c2\u6570\u8bbe\u7f6e","title":"JVM\u5185\u5b58\u53c2\u6570\u8bbe\u7f6e","text":"<p>\u5806\u5185\u5b58\u8bbe\u7f6e</p> <ul> <li>\u5806\u5185\u5b58\uff08\u603b\u7684\uff09\u7531 -Xms \u548c -Xmx \u5206\u522b\u8bbe\u7f6e\u6700\u5c0f\u548c\u6700\u5927\u5806\u5185\u5b58</li> <li>New Generation \u7531 -Xmn \u8bbe\u7f6e\uff0c-XX:SurvivorRatio=m \u8bbe\u7f6e Eden\u548c \u4e24\u4e2aSurvivor\u533a\u7684\u5927\u5c0f\u6bd4\u503c\uff1b-XX:NewRatio=n \u8bbe\u7f6e New Generation \u548c Old Generation \u7684\u5927\u5c0f\u6bd4\u503c\u3002</li> <li>\u6bcf\u4e2a\u7ebf\u7a0b\u7684\u5806\u6808\u5927\u5c0f\u7531 \u00b7-Xss\u00b7 \u8bbe\u7f6e\uff0cJDK5.0\u4ee5\u540e\u6bcf\u4e2a\u7ebf\u7a0b\u5806\u6808\u5927\u5c0f\u4e3a1M\uff0c\u4ee5\u524d\u6bcf\u4e2a\u7ebf\u7a0b\u5806\u6808\u5927\u5c0f\u4e3a256K\u3002\u5728\u76f8\u540c\u7269\u7406\u5185\u5b58\u4e0b\uff0c\u51cf\u5c0f\u8fd9\u4e2a\u503c\u80fd\u751f\u6210\u66f4\u591a\u7684\u7ebf\u7a0b\u3002\u4f46\u662f\u64cd\u4f5c\u7cfb\u7edf\u5bf9\u4e00\u4e2a\u8fdb\u7a0b\u5185\u7684\u7ebf\u7a0b\u6570\u8fd8\u662f\u6709\u9650\u5236\u7684\uff0c\u4e0d\u80fd\u65e0\u9650\u751f\u6210\uff0c\u7ecf\u9a8c\u503c\u57283000~5000\u5de6\u53f3\u3002</li> </ul> <p>\u975e\u5806\u5185\u5b58\u8bbe\u7f6e</p> <p>\u975e\u5806\u5185\u5b58\u7531<code>-XX:PermSize=n</code> \u548c<code>-XX:MaxPermSize=n</code>\u5206\u522b\u8bbe\u7f6e\u6700\u5c0f\u548c\u6700\u5927\u975e\u5806\u5185\u5b58\u5927\u5c0f</p> <p>\u65e5\u5fd7\u5206\u6790</p> <p>\u4ecb\u7ecd\u5b8c\u4e0a\u9762\u7684\u6982\u5ff5\u4e4b\u540e\uff0c\u6211\u4eec\u518d\u6765\u770b\u6700\u4e0a\u9762\u7684\u65e5\u5fd7\u4fe1\u606f\uff0c\u6709\u4e24\u4e2a\u5730\u65b9\u6709\u95ee\u9898\uff1a\u4e00\u662fFGC\uff08\u5b8c\u5168GC\uff09\u7684\u6570\u91cf\u592a\u5927\u4e86\uff0c\u6b63\u5e38\u6765\u8bf4FGC\u5e94\u8be5\u5360\u6574\u4e2aGC\uff08YGC+FGC\uff09\u76841%\u52305%\u624d\u6b63\u5e38\uff0c\u4e0a\u9762\u65e5\u5fd7\u4e0a\u5b8c\u5168GC\u7684\u6b21\u6570\u592a\u591a\u4e86\uff1b\u4e8c\u662f\u65e5\u5fd7\u4e2dPU\u7684\u503c\u592a\u5927\u4e86\uff0c\u57fa\u672c\u4e0a\u5df2\u7ecf\u8fbe\u5230\u8bbe\u7f6e\u7684PC\u4e86\uff0c\u56e0\u6b64\u9700\u8981\u589e\u5927MaxPermSize\u7684\u503c\u3002\u4e0d\u8fc7\u8fd9\u53ea\u662f\u6743\u5b9c\u4e4b\u8ba1\uff0c\u51fa\u73b0\u8fd9\u4e48\u5927\u7684\u975e\u5806\u5185\u5b58\uff0c\u80af\u5b9a\u4ec0\u4e48\u5730\u65b9\u51fa\u73b0\u4e86\u95ee\u9898\uff0c\u8fd8\u9700\u8981\u8fdb\u4e00\u6b65\u627e\u5230\u5360\u7528\u5185\u5b58\u7684\u539f\u56e0\uff0c\u8fd9\u4e5f\u662f\u540e\u9762\u6587\u7ae0\u6240\u8981\u8bf4\u7684\u3002</p>","tags":["jvm","\u6027\u80fd\u4f18\u5316","jstat"]},{"location":"2024/06/07/%E6%80%8E%E4%B9%88%E7%BC%96%E5%86%99dtd%E6%96%87%E4%BB%B6/","title":"\u600e\u4e48\u7f16\u5199DTD\u6587\u4ef6","text":"<p>\u7f16\u5199DTD\uff08\u6587\u6863\u7c7b\u578b\u5b9a\u4e49\uff0cDocument Type Definition\uff09\u662f\u4e00\u79cd\u65b9\u5f0f\u6765\u5b9a\u4e49XML\u6587\u6863\u7684\u7ed3\u6784\u3001\u5143\u7d20\u3001\u5c5e\u6027\u4ee5\u53ca\u5143\u7d20\u95f4\u7684\u5173\u7cfb\u3002DTD\u5b9a\u4e49\u53ef\u4ee5\u5185\u5d4c\u5728XML\u6587\u6863\u4e2d\uff0c\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u4e00\u4e2a\u5916\u90e8\u6587\u4ef6\u4f9b\u591a\u4e2aXML\u6587\u6863\u5f15\u7528\u3002\u4e0b\u9762\u662f\u7f16\u5199DTD\u7684\u57fa\u672c\u6b65\u9aa4\u548c\u8bed\u6cd5\u793a\u4f8b\uff1a</p>","tags":["dtd","xml"]},{"location":"2024/06/07/%E6%80%8E%E4%B9%88%E7%BC%96%E5%86%99dtd%E6%96%87%E4%BB%B6/#\u57fa\u672c\u7ed3\u6784","title":"\u57fa\u672c\u7ed3\u6784","text":"<p>DTD\u53ef\u4ee5\u5206\u4e3a\u4e24\u79cd\u5f62\u5f0f\uff1a\u5185\u90e8DTD\u548c\u5916\u90e8DTD\u3002</p>","tags":["dtd","xml"]},{"location":"2024/06/07/%E6%80%8E%E4%B9%88%E7%BC%96%E5%86%99dtd%E6%96%87%E4%BB%B6/#\u5185\u90e8dtd","title":"\u5185\u90e8DTD","text":"<p>\u76f4\u63a5\u5728XML\u6587\u6863\u4e2d\u5b9a\u4e49DTD\uff0c\u4f4d\u4e8eXML\u58f0\u660e\u4e4b\u540e\uff0c\u6587\u6863\u5143\u7d20\u4e4b\u524d\u3002</p> <pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;!DOCTYPE \u6839\u5143\u7d20\u540d\u79f0 [\n    &lt;!-- DTD\u7684\u5185\u5bb9 --&gt;\n]&gt;\n&lt;\u6839\u5143\u7d20\u540d\u79f0&gt;\n    &lt;!-- XML\u6587\u6863\u5185\u5bb9 --&gt;\n&lt;/\u6839\u5143\u7d20\u540d\u79f0&gt;\n</code></pre>","tags":["dtd","xml"]},{"location":"2024/06/07/%E6%80%8E%E4%B9%88%E7%BC%96%E5%86%99dtd%E6%96%87%E4%BB%B6/#\u5916\u90e8dtd","title":"\u5916\u90e8DTD","text":"<p>\u5916\u90e8DTD\u5b58\u50a8\u5728\u5355\u72ec\u7684.dtd\u6587\u4ef6\u4e2d\uff0cXML\u6587\u6863\u901a\u8fc7DOCTYPE\u58f0\u660e\u5f15\u7528\u5b83\u3002</p> <pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;!DOCTYPE \u6839\u5143\u7d20\u540d\u79f0 SYSTEM \"\u5916\u90e8DTD\u6587\u4ef6\u8def\u5f84.dtd\"&gt;\n&lt;\u6839\u5143\u7d20\u540d\u79f0&gt;\n    &lt;!-- XML\u6587\u6863\u5185\u5bb9 --&gt;\n&lt;/\u6839\u5143\u7d20\u540d\u79f0&gt;\n</code></pre> <p>\u6216\u8005\u4f7f\u7528PUBLIC\u5173\u952e\u5b57\u6307\u5b9aDTD\u7684\u516c\u5171\u6807\u8bc6\u7b26\u548c\u7cfb\u7edf\u6807\u8bc6\u7b26\uff1a</p> <pre><code>&lt;!DOCTYPE \u6839\u5143\u7d20\u540d\u79f0 PUBLIC \"DTD\u516c\u5171\u6807\u8bc6\u7b26\" \"\u5916\u90e8DTD\u6587\u4ef6\u8def\u5f84.dtd\"&gt;\n</code></pre>","tags":["dtd","xml"]},{"location":"2024/06/07/%E6%80%8E%E4%B9%88%E7%BC%96%E5%86%99dtd%E6%96%87%E4%BB%B6/#dtd\u5143\u7d20\u5b9a\u4e49","title":"DTD\u5143\u7d20\u5b9a\u4e49","text":"<ul> <li>\u5143\u7d20\u58f0\u660e\uff1a</li> <li>\u65e0\u5b50\u5143\u7d20\uff1a<code>&lt;!ELEMENT \u5143\u7d20\u540d\u79f0 EMPTY&gt;</code></li> <li>\u6709\u6587\u672c\u5185\u5bb9\uff1a<code>&lt;!ELEMENT \u5143\u7d20\u540d\u79f0 (#PCDATA)&gt;</code></li> <li>\u6709\u5b50\u5143\u7d20\uff1a<code>&lt;!ELEMENT \u5143\u7d20\u540d\u79f0 (\u5b50\u5143\u7d201, \u5b50\u5143\u7d202, ..., \u5b50\u5143\u7d20N)&gt;</code></li> <li>\u5b50\u5143\u7d20\u53ef\u9009\uff1a\u5728\u5b50\u5143\u7d20\u540e\u52a0\u95ee\u53f7<code>?</code>\uff0c\u8868\u793a\u8be5\u5143\u7d20\u53ef\u6709\u53ef\u65e0\uff0c\u5982<code>(\u5b50\u5143\u7d201, \u5b50\u5143\u7d202?)</code></li> <li>\u5b50\u5143\u7d20\u53ef\u91cd\u590d\uff1a\u5728\u5b50\u5143\u7d20\u540e\u52a0\u661f\u53f7<code>*</code>\u6216\u52a0\u52a0\u53f7<code>+</code>\uff0c\u8868\u793a\u8be5\u5143\u7d20\u53ef\u4ee5\u91cd\u590d\u591a\u6b21\u6216\u81f3\u5c11\u4e00\u6b21\uff0c\u5982<code>(\u5b50\u5143\u7d201, \u5b50\u5143\u7d202*)</code></li> <li>\u5c5e\u6027\u58f0\u660e\uff1a</li> <li>\u4f7f\u7528<code>&lt;!ATTLIST \u5143\u7d20\u540d\u79f0 \u5c5e\u6027\u540d \u5c5e\u6027\u7c7b\u578b \u9ed8\u8ba4\u503c&gt;</code>\u683c\u5f0f\u3002</li> <li>\u5c5e\u6027\u7c7b\u578b\u53ef\u4ee5\u662f<code>CDATA</code>\uff08\u4efb\u610f\u6587\u672c\uff09\u3001<code>ID</code>\uff08\u552f\u4e00\u6807\u8bc6\u7b26\uff09\u3001<code>IDREF</code>\uff08\u5f15\u7528\u5176\u4ed6\u5143\u7d20\u7684ID\uff09\u3001<code>ENUMERATED</code>\uff08\u679a\u4e3e\u503c\uff09\u7b49\u3002</li> <li>\u9ed8\u8ba4\u503c\u53ef\u4ee5\u662f<code>#REQUIRED</code>\uff08\u5fc5\u987b\u63d0\u4f9b\uff09\u3001<code>#IMPLIED</code>\uff08\u53ef\u9009\uff09\u3001\u5177\u4f53\u503c\u7b49\u3002</li> </ul>","tags":["dtd","xml"]},{"location":"2024/06/07/%E6%80%8E%E4%B9%88%E7%BC%96%E5%86%99dtd%E6%96%87%E4%BB%B6/#\u793a\u4f8b","title":"\u793a\u4f8b","text":"<p>\u5047\u8bbe\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2a\u7b80\u5355\u7684\u56fe\u4e66\u76ee\u5f55DTD\uff0c\u5305\u542b\u4e66\u7c4d\uff08book\uff09\u548c\u7ae0\u8282\uff08chapter\uff09\u3002</p> <p>\u5916\u90e8DTD\u6587\u4ef6\uff08books.dtd\uff09:</p> <pre><code>&lt;!ELEMENT catalog (book+)&gt;\n&lt;!ELEMENT book (title, author+, chapter*)&gt;\n&lt;!ELEMENT title (#PCDATA)&gt;\n&lt;!ELEMENT author (#PCDATA)&gt;\n&lt;!ELEMENT chapter (#PCDATA)&gt;\n</code></pre> <p>XML\u6587\u6863:</p> <pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;!DOCTYPE catalog SYSTEM \"books.dtd\"&gt;\n&lt;catalog&gt;\n    &lt;book&gt;\n        &lt;title&gt;\u793a\u4f8b\u4e66\u540d&lt;/title&gt;\n        &lt;author&gt;\u4f5c\u8005A&lt;/author&gt;\n        &lt;author&gt;\u4f5c\u8005B&lt;/author&gt;\n        &lt;chapter&gt;\u7b2c\u4e00\u7ae0&lt;/chapter&gt;\n        &lt;chapter&gt;\u7b2c\u4e8c\u7ae0&lt;/chapter&gt;\n    &lt;/book&gt;\n    &lt;!-- \u66f4\u591a\u4e66\u7c4d... --&gt;\n&lt;/catalog&gt;\n</code></pre> <p>\u8fd9\u4e2a\u4f8b\u5b50\u5c55\u793a\u4e86\u5982\u4f55\u5b9a\u4e49\u4e00\u4e2aXML\u6587\u6863\u7684\u7ed3\u6784\uff0c\u5305\u62ec\u54ea\u4e9b\u5143\u7d20\u662f\u5fc5\u9700\u7684\uff0c\u54ea\u4e9b\u662f\u53ef\u9009\u7684\uff0c\u4ee5\u53ca\u5b83\u4eec\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u901a\u8fc7DTD\uff0c\u53ef\u4ee5\u786e\u4fddXML\u6587\u6863\u9075\u5faa\u7279\u5b9a\u7684\u7ed3\u6784\u548c\u89c4\u5219\u3002</p>","tags":["dtd","xml"]},{"location":"2024/12/01/g1%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E8%BD%AC%E8%BD%BD/","title":"G1\u5783\u573e\u6536\u96c6\u5668(\u8f6c\u8f7d)","text":"","tags":["java","g1"]},{"location":"2024/12/01/g1%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E8%BD%AC%E8%BD%BD/#\u8bf4\u660e","title":"\u8bf4\u660e","text":"<p>concurrent: \u5e76\u53d1, \u591a\u4e2a\u7ebf\u7a0b\u534f\u540c\u505a\u540c\u4e00\u4ef6\u4e8b\u60c5(\u6709\u72b6\u6001)</p> <p>parallel: \u5e76\u884c, \u591a\u4e2a\u7ebf\u7a0b\u5404\u505a\u5404\u7684\u4e8b\u60c5(\u4e92\u76f8\u95f4\u65e0\u5171\u4eab\u72b6\u6001)</p> <p>\u5728GC\u9886\u57df: concurrent\u7b97\u6cd5\u6307GC\u7ebf\u7a0b\u548c\u4e1a\u52a1\u7ebf\u7a0b\u80fd\u5e76\u53d1\u6267\u884c\uff1b parallel\u6307GC\u7ebf\u7a0b\u4e4b\u95f4\u7684\u5e76\u884c\u3002</p> <p>\u53c2\u8003: What\u2019s the difference between concurrency and parallelism</p>","tags":["java","g1"]},{"location":"2024/12/01/g1%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E8%BD%AC%E8%BD%BD/#\u76ee\u7684","title":"\u76ee\u7684","text":"<p>\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528G1,\u53ca\u5728 Hotspot JVM \u4e2d\u600e\u4e48\u4f7f\u7528G1\u5783\u573e\u6536\u96c6\u5668\u3002 \u60a8\u5c06\u4e86\u89e3 G1 \u6536\u96c6\u5668\u7684\u5185\u90e8\u539f\u7406, \u5207\u6362\u4e3a G1 \u6536\u96c6\u5668\u7684\u547d\u4ee4\u884c\u53c2\u6570, \u4ee5\u53ca\u8ba9\u5176\u8bb0\u5f55GC\u65e5\u5fd7\u7684\u9009\u9879\u3002</p>","tags":["java","g1"]},{"location":"2024/12/01/g1%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E8%BD%AC%E8%BD%BD/#\u7b80\u4ecb","title":"\u7b80\u4ecb","text":"<p>\u672c\u6587\u6db5\u76d6\u4e86Java\u865a\u62df\u673a(JVM, Java Virtual Machine)\u4e2d G1 \u7684\u57fa\u7840\u77e5\u8bc6\u3002</p> <p>1\u3001\u7b2c\u4e00\u90e8\u5206, \u7b80\u5355\u6982\u8ff0JVM\u7684\u540c\u65f6\u4ecb\u7ecd\u4e86\u5783\u573e\u6536\u96c6\u548c\u6027\u80fd.2\u3001\u63a5\u4e0b\u6765\u8bb2\u8ff0\u4e86 Hotspot JVM \u4e2d CMS \u6536\u96c6\u5668\u662f\u5982\u4f55\u5de5\u4f5c\u7684.3\u3001\u63a5\u7740\u518d\u4e00\u6b65\u4e00\u6b65\u5730\u6307\u5bfc\u5728 Hotspot JVM \u4e2d\u4f7f\u7528G1\u8fdb\u884c\u5783\u573e\u56de\u6536\u7684\u5de5\u4f5c\u65b9\u5f0f.4\u3001\u4e4b\u540e\u7684\u4e00\u4e2a\u5c0f\u8282\u4ecb\u7ecd G1 \u5783\u573e\u6536\u96c6\u5668\u53ef\u7528\u7684\u547d\u4ee4\u884c\u53c2\u6570.5\u3001\u6700\u540e,\u60a8\u5c06\u4e86\u89e3\u5982\u4f55\u914d\u7f6e\u4f7fG1\u6536\u96c6\u5668\u8bb0\u5f55\u65e5\u5fd7.</p> <p>\u786c\u4ef6\u4e0e\u8f6f\u4ef6\u73af\u5883\u9700\u6c42</p> <p>\u4e0b\u9762\u662f \u786c\u4ef6\u4e0e\u8f6f\u4ef6\u73af\u5883\u9700\u6c42 \u6e05\u5355:</p> <ul> <li>\u4e00\u53f0PC\u673a, \u8fd0\u884c Windows XP \u4ee5\u4e0a\u64cd\u4f5c\u7cfb\u7edf, Mac OS X \u6216\u8005 Linux \u90fd\u53ef\u4ee5. \u6ce8\u610f,\u56e0\u4e3a\u4f5c\u8005\u5728Windows 7\u4e0a\u8fdb\u884c\u5f00\u53d1\u548c\u6d4b\u8bd5, \u5c1a\u672a\u5728\u6240\u6709\u5e73\u53f0\u4e0a\u5b8c\u6210\u6d4b\u8bd5\u3002 \u4f46\u5728 OS X\u548cLinux \u4e0a\u5e94\u8be5\u4e5f\u662f\u6b63\u5e38\u7684\u3002\u6700\u597d\u914d\u7f6e\u4e86\u591a\u6838CPU.</li> <li>Java 7 Update 9 \u6216\u66f4\u9ad8\u7248\u672c</li> <li>\u6700\u65b0\u7684 Java 7 Demos and Samples Zip \u6587\u4ef6</li> </ul> <p>\u51c6\u5907\u6761\u4ef6</p> <p>\u5728\u5f00\u59cb\u5b66\u4e60\u672c\u6559\u7a0b\u4e4b\u524d, \u4f60\u9700\u8981:</p> <ul> <li>\u4e0b\u8f7d\u5e76\u5b89\u88c5\u6700\u65b0\u7684 Java JDK (JDK 7 u9 \u6216 \u4ee5\u540e\u7684\u7248\u672c):</li> <li>Java 7 JDK \u4e0b\u8f7d\u9875\u9762</li> <li>\u4e0b\u8f7d\u5e76\u5b89\u88c5 Demos and Samples (\u793a\u4f8b\u4e0e\u6837\u4f8b) zip \u6587\u4ef6, \u4e0b\u8f7d\u9875\u9762\u548cJDK\u76f8\u540c. \u7136\u540e\u89e3\u538b\u5230\u5408\u9002\u7684\u4f4d\u7f6e. \u5982:</li> <li>C:\\javademos</li> </ul>","tags":["java","g1"]},{"location":"2024/12/01/g1%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E8%BD%AC%E8%BD%BD/#java-\u6280\u672f-\u548c-jvm","title":"Java \u6280\u672f \u548c JVM","text":"","tags":["java","g1"]},{"location":"2024/12/01/g1%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E8%BD%AC%E8%BD%BD/#java-\u6982\u8ff0","title":"Java \u6982\u8ff0","text":"<p>Java \u662f Sun Microsystems \u516c\u53f8\u57281995\u5e74\u53d1\u5e03\u7684\u4e00\u95e8\u7f16\u7a0b\u8bed\u8a00. \u540c\u65f6\u4e5f\u662f\u4e00\u4e2a\u8fd0\u884cJava\u7a0b\u5e8f\u7684\u5e95\u5c42\u5e73\u53f0. \u63d0\u4f9b\u5de5\u5177\u3001\u6e38\u620f\u548c\u4f01\u4e1a\u5e94\u7528\u7a0b\u5e8f\u652f\u6301\u3002Java \u8fd0\u884c\u5728\u5168\u4e16\u754c\u8d85\u8fc78.5\u4ebf\u7684PC,\u4ee5\u53ca\u6570\u5341\u4ebf\u7684\u667a\u80fd\u8bbe\u5907\u4e0a,\u5305\u62ec mobile \u548c TV. Java \u662f\u7531\u8bb8\u591a\u5173\u952e\u90e8\u4ef6\u7ec4\u6210\u7684\u4e00\u4e2a\u6574\u4f53, \u7edf\u79f0\u4e3aJava\u5e73\u53f0\u3002</p> <p>JRE(Java Runtime Edition)</p> <p>\u4e00\u822c\u6765\u8bf4\u4e0b\u8f7d\u4e86Java\u4ee5\u540e, \u4f60\u5c31\u5f97\u5230\u4e86\u4e00\u4e2aJava\u8fd0\u884c\u65f6: Java Runtime Environment (JRE). JRE \u7531Java\u865a\u62df\u673a Java Virtual Machine (JVM), Java \u5e73\u53f0\u6838\u5fc3\u7c7b(core classes), \u4ee5\u53ca Java\u5e73\u53f0\u652f\u6301\u5e93\u7ec4\u6210. \u5fc5\u987b\u6709\u8fd9\u4e09\u5927\u7ec4\u4ef6\u7684\u652f\u6301\u624d\u80fd\u5728\u4f60\u7684\u7535\u8111\u4e0a\u8fd0\u884c Java \u7a0b\u5e8f. \u4f8b\u5982 Java 7, \u53ef\u4ee5\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u4f5c\u4e3a\u684c\u9762\u5e94\u7528\u7a0b\u5e8f\u8fd0\u884c, \u8fd8\u53ef\u4ee5\u901a\u8fc7 Java Web Start \u4eceWeb\u4e0a\u5b89\u88c5, \u6216\u8005\u662f\u4f5c\u4e3a\u5d4c\u5165\u5f0fWeb\u7a0b\u5e8f\u5728\u6d4f\u89c8\u5668\u4e2d\u8fd0\u884c (\u901a\u8fc7 JavaFX).</p> <p>Java \u7f16\u7a0b\u8bed\u8a00</p> <p>Java \u662f\u4e00\u95e8\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u8bed\u8a00(object-oriented programming language), \u5305\u6db5\u4ee5\u4e0b\u7279\u6027.</p> <ul> <li>Platform Independence \u2013 Java \u5e94\u7528\u7a0b\u5e8f\u88ab\u7f16\u8bd1\u4e3a\u5b57\u8282\u7801(bytecode)\u5b58\u653e\u5230 class \u6587\u4ef6\u4e2d, \u7531JVM\u52a0\u8f7d. \u56e0\u4e3a\u7a0b\u5e8f\u5728 JVM \u4e2d\u8fd0\u884c, \u6240\u4ee5\u53ef\u4ee5\u8de8\u5e73\u53f0\u8fd0\u884c\u5728\u5404\u79cd\u64cd\u4f5c\u7cfb\u7edf/\u8bbe\u5907\u4e0a.</li> <li>Object-Oriented \u2013 Java \u662f\u4e00\u95e8\u9762\u5411\u5bf9\u8c61\u7684\u8bed\u8a00, \u7ee7\u627f\u4e86 C \u548c C++ \u7684\u5f88\u591a\u7279\u6027,\u5e76\u5728\u6b64\u57fa\u7840\u4e0a\u8fdb\u884c\u6269\u5145\u548c\u4f18\u5316.</li> <li>Automatic Garbage Collection \u2013 Java\u5bf9\u5185\u5b58\u8fdb\u884c \u81ea\u52a8\u5206\u914d(allocates) \u548c\u81ea\u52a8\u91ca\u653e(deallocates). \u6240\u4ee5\u7a0b\u5e8f\u4e0d\u518d\u6267\u884c\u8fd9\u4e00\u7e41\u7410\u7684\u4efb\u52a1(\u5176\u5b9e\u81ea\u52a8\u5185\u5b58\u56de\u6536,\u66f4\u591a\u7684\u597d\u5904\u662f\u51cf\u5c11\u4e86\u7f16\u7a0b\u9700\u8981\u91cd\u590d\u5904\u7406\u7684\u8fd9\u79cd\u7ec6\u8282,\u53e6\u4e00\u4e2a\u4f8b\u5b50\u662f\u5bf9JDBC\u7684\u5c01\u88c5).</li> <li>Rich Standard Library \u2013 Java\u5305\u542b\u5927\u91cf\u7684\u6807\u51c6\u5bf9\u8c61,\u53ef\u4ee5\u6267\u884c\u8bf8\u5982\u8f93\u5165\u8f93\u51fa(input/output), \u7f51\u7edc\u64cd\u4f5c\u4ee5\u53ca\u65e5\u671f\u5904\u7406\u7b49\u4efb\u52a1.</li> </ul> <p>JDK(Java Development Kit)</p> <p>JDK \u662f\u7528\u6765\u5f00\u53d1Java\u7a0b\u5e8f\u7684\u4e00\u7cfb\u5217\u5de5\u5177\u96c6. \u901a\u8fc7JDK, \u4f60\u53ef\u4ee5\u7f16\u8bd1\u7528Java\u8bed\u8a00\u4e66\u5199\u7684\u7a0b\u5e8f, \u5e76\u5728 JVM \u4e2d\u8fd0\u884c. \u53e6\u5916, JDK \u8fd8\u63d0\u4f9b\u4e86\u6253\u5305(packaging)\u548c\u5206\u53d1(distributing)\u7a0b\u5e8f\u7684\u5de5\u5177.</p> <p>JDK \u548c JRE \u4f7f\u7528\u540c\u6837\u7684 Java Application Programming Interfaces (Java API).Java API \u662f\u9884\u5148\u6253\u5305\u597d\u4ee5\u4f9b\u7a0b\u5e8f\u5458\u7528\u6765\u5f00\u53d1\u7a0b\u5e8f\u7684\u7c7b\u5e93\u96c6\u5408. \u901a\u8fc7 Java API \u4f7f\u5f97\u5f88\u591a\u5e38\u89c4\u4efb\u52a1\u53ef\u4ee5\u5f88\u8f7b\u677e\u7684\u5c31\u5b8c\u6210,\u5982 \u5b57\u7b26\u4e32\u64cd\u4f5c(string manipulation), \u65f6\u95f4\u65e5\u671f\u5904\u7406(date/time processing), \u7f51\u7edc\u7f16\u7a0b(networking), \u4ee5\u53ca\u5b9e\u73b0\u5404\u79cd\u6570\u636e\u7ed3\u6784(data structures, \u5982 lists, maps, stacks, and queues).</p> <p>JVM(Java Virtual Machine)</p> <p>Java Virtual Machine (JVM) \u662f\u4e00\u53f0\u62bd\u8c61\u7684\u8ba1\u7b97\u673a(abstract computing machine). JVM \u672c\u8d28\u662f\u4e00\u4e2a\u7a0b\u5e8f, \u4f46\u5728\u8fd0\u884c\u4e8eJVM\u4e0a\u7684\u7a0b\u5e8f\u770b\u6765, \u4ed6\u5c31\u50cf\u4e00\u53f0\u771f\u5b9e\u673a\u5668\u4e00\u6837. \u8fd9\u6837, Java\u7a0b\u5e8f\u5c31\u80fd\u4f7f\u7528\u76f8\u540c\u7684\u63a5\u53e3\u548c\u5e93. \u6bcf\u79cd\u7279\u5b9a\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u7684 JVM \u5b9e\u73b0, \u90fd\u5c06 Java \u7a0b\u5e8f\u6307\u4ee4\u8f6c\u6362\u4e3a\u672c\u5730\u673a\u5668\u7684\u6307\u4ee4(instructions)\u548c\u547d\u4ee4(commands). \u7531\u6b64,\u5b9e\u73b0\u4e86Java\u7a0b\u5e8f\u7684\u5e73\u53f0\u72ec\u7acb\u6027.</p> <p>Java\u865a\u62df\u673a\u7684\u7b2c\u4e00\u4e2a\u539f\u578b\u5b9e\u73b0,\u7531 Sun Microsystems, Inc. \u5b8c\u6210, \u5728\u4e00\u53f0\u624b\u6301\u8bbe\u5907\u4e0a\u7528\u8f6f\u4ef6\u6a21\u62df\u4e86 Java\u865a\u62df\u673a\u6307\u4ee4\u96c6, \u7c7b\u4f3c\u4e8e\u4eca\u5929\u7684 PDA(Personal Digital Assistant). Oracle \u5f53\u524d\u5728\u79fb\u52a8\u8bbe\u5907,\u684c\u9762\u7cfb\u7edf\u548c\u670d\u52a1\u5668\u4e0a\u90fd\u63d0\u4f9b\u4e86Java\u865a\u62df\u673a\u5b9e\u73b0, \u4f46Java\u865a\u62df\u673a\u4e0d\u9650\u5236\u4f7f\u7528\u4efb\u4f55\u7279\u5b9a\u7684\u6280\u672f,\u786c\u4ef6,\u6216\u64cd\u4f5c\u7cfb\u7edf\u3002JVM\u4e5f\u4e0d\u4e00\u5b9a\u90fd\u662f\u57fa\u4e8e\u8f6f\u4ef6\u7684,\u4f60\u53ef\u4ee5\u76f4\u63a5\u5728\u786c\u4ef6CPU\u4e0a\u5b9e\u73b0JVM\u6307\u4ee4, \u8fd8\u53ef\u4ee5\u82af\u7247\u4e0a\u5b9e\u73b0,\u6216\u8005\u91c7\u7528 microcode \u7684\u65b9\u5f0f\u6765\u5b9e\u73b0.</p> <p>Java \u865a\u62df\u673a\u5b8c\u5168\u4e0d\u5173\u5fc3Java\u8bed\u8a00\u7684\u7ec6\u8282, \u53ea\u8bc6\u522b class \u6587\u4ef6\u8fd9\u79cd\u7279\u5b9a\u7684\u4e8c\u8fdb\u5236\u683c\u5f0f. \u4e00\u4e2a class \u6587\u4ef6\u5305\u542b Java\u865a\u62df\u673a\u6307\u4ee4(\u6216\u79f0\u4e4b\u4e3a\u5b57\u8282\u7801 bytecode) \u53ca\u7b26\u53f7\u53d8\u91cf\u8868(symbol table), \u8fd8\u6709\u4e00\u4e9b\u8f85\u52a9\u4fe1\u606f.</p> <p>\u57fa\u4e8e\u5b89\u5168\u6027\u8003\u8651, Java\u865a\u62df\u673a\u5bf9 class \u6587\u4ef6\u4e2d\u7684\u4ee3\u7801\u6267\u884c \u5f3a\u8bed\u6cd5\u68c0\u67e5\u548c\u7ec4\u6210\u7ed3\u6784\u89c4\u8303\u9650\u5236. \u65e2\u7136\u865a\u62df\u673a\u6709\u8fd9\u79cd\u7279\u5f81, \u90a3\u4e48\u4efb\u4f55\u4e00\u95e8\u7f16\u7a0b\u8bed\u8a00,\u53ea\u8981\u80fd\u7f16\u8bd1\u4e3a\u5408\u6cd5\u7684 class \u6587\u4ef6\uff0c\u90fd\u53ef\u4ee5\u52a0\u8f7d\u5230 Java\u865a\u62df\u673a \u91cc\u9762\u6267\u884c\u3002\u7531\u4e8e\u5177\u6709\u901a\u7528\u6027,\u8de8\u5e73\u53f0\u7279\u6027, \u5176\u4ed6\u8bed\u8a00\u7684\u5b9e\u73b0\u8005\u53ef\u4ee5\u628aJava\u865a\u62df\u673a\u4f5c\u4e3a\u8be5\u8bed\u8a00\u7684\u52a0\u8f7d\u6267\u884c\u5de5\u5177\u3002(1) The Java Virtual Machine</p>","tags":["java","g1"]},{"location":"2024/12/01/g1%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E8%BD%AC%E8%BD%BD/#\u63a2\u7d22-jvm-\u4f53\u7cfb\u67b6\u6784","title":"\u63a2\u7d22 JVM \u4f53\u7cfb\u67b6\u6784","text":"<p>Hotspot \u67b6\u6784</p> <p>HotSpot JVM \u6709\u4e00\u4e2a\u7a33\u5b9a\u5f3a\u608d\u7684\u67b6\u6784, \u652f\u6301\u5f3a\u5927\u7684\u529f\u80fd\u4e0e\u7279\u6027, \u5177\u5907\u5b9e\u73b0\u9ad8\u6027\u80fd\u548c\u5927\u89c4\u6a21\u53ef\u4f38\u7f29\u6027\u7684\u80fd\u529b\u3002\u4f8b\u5982,HotSpot JVM JIT\u7f16\u8bd1\u5668\u80fd\u52a8\u6001\u8fdb\u884c\u4f18\u5316\u751f\u6210\u3002\u6362\u53e5\u8bdd\u8bf4,\u4ed6\u4eec\u8fd0\u884cJava\u7a0b\u5e8f\u65f6,\u4f1a\u9488\u5bf9\u5e95\u5c42\u7cfb\u7edf\u67b6\u6784\u52a8\u6001\u751f\u6210\u9ad8\u6027\u80fd\u7684\u672c\u5730\u673a\u5668\u6307\u4ee4\u3002\u6b64\u5916,\u901a\u8fc7\u6210\u719f\u7684\u6f14\u8fdb\u548c\u8fd0\u884c\u65f6\u73af\u5883\u7684\u6301\u7eed\u5de5\u7a0b,\u52a0\u4e0a\u591a\u7ebf\u7a0b\u5783\u573e\u6536\u96c6\u5668,HotSpot JVM\u5373\u4f7f\u5b9e\u5728\u5927\u578b\u8ba1\u7b97\u673a\u7cfb\u7edf\u4e0a\u4e5f\u80fd\u83b7\u5f97\u5f88\u9ad8\u7684\u4f38\u7f29\u6027.</p> <p>\u200b    </p> <p>JVM \u7684\u4e3b\u8981\u7ec4\u4ef6\u5305\u62ec: \u7c7b\u52a0\u8f7d\u5668(class loader), \u8fd0\u884c\u65f6\u6570\u636e\u533a(runtime data areas), \u4ee5\u53ca\u6267\u884c\u5f15\u64ce(execution engine).</p> <p>Hotspot \u5173\u952e\u90e8\u5206</p> <p>\u4e0e\u6027\u80fd(performance)\u6709\u5173\u7684\u90e8\u5206\u662f JVM \u6700\u91cd\u8981\u7684\u7ec4\u4ef6,\u4e0b\u56fe\u4e2d\u7528\u9ad8\u4eae\u7684\u989c\u8272\u6765\u663e\u793a.</p> <p>\u200b    </p> <p>\u5bf9JVM\u8fdb\u884c\u6027\u80fd\u8c03\u4f18\u65f6\u6709\u4e09\u5927\u7ec4\u4ef6\u9700\u8981\u91cd\u70b9\u5173\u6ce8\u3002\u5806(Heap)\u662f\u5b58\u653e\u5bf9\u8c61\u7684\u5185\u5b58\u7a7a\u95f4\u3002\u8fd9\u4e2a\u533a\u57df\u7531JVM\u542f\u52a8\u65f6\u9009\u62e9\u7684\u5783\u573e\u6536\u96c6\u5668\u8fdb\u884c\u7ba1\u7406\u3002\u5927\u591a\u6570\u8c03\u4f18\u53c2\u6570\u90fd\u662f\u8c03\u6574\u5806\u5185\u5b58\u7684\u5927\u5c0f,\u4ee5\u53ca\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u9009\u62e9\u6700\u5408\u9002\u7684\u5783\u573e\u6536\u96c6\u5668. JIT\u7f16\u8bd1\u5668\u4e5f\u5bf9\u6027\u80fd\u6709\u5f88\u5927\u7684\u5f71\u54cd, \u4f46\u65b0\u7248\u672c\u7684JVM\u8c03\u4f18\u4e2d\u5f88\u5c11\u9700\u8981\u5173\u6ce8.</p>","tags":["java","g1"]},{"location":"2024/12/01/g1%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E8%BD%AC%E8%BD%BD/#\u6027\u80fd\u57fa\u7840","title":"\u6027\u80fd\u57fa\u7840","text":"<p>\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u5bf9 Java \u7a0b\u5e8f\u8fdb\u884c\u8c03\u4f18, \u4e3b\u8981\u5173\u6ce8\u4e24\u4e2a\u76ee\u6807\u4e4b\u4e00: \u54cd\u5e94\u901f\u5ea6(responsiveness) \u548c/\u6216 \u541e\u5410\u91cf(throughput). \u4e0b\u9762\u7684\u6559\u7a0b\u4e2d\u6211\u4eec\u5c06\u8bb2\u8ff0\u8fd9\u4e9b\u6982\u5ff5.</p> <p>\u54cd\u5e94\u80fd\u529b(Responsiveness)</p> <p>\u54cd\u5e94\u80fd\u529b\u5c31\u662f\u7a0b\u5e8f\u6216\u7cfb\u7edf\u5bf9\u4e00\u4e2a\u8bf7\u6c42\u7684\u54cd\u5e94\u6709\u591a\u8fc5\u901f. \u6bd4\u5982:</p> <ul> <li>\u7a0b\u5e8fUI\u54cd\u5e94\u901f\u5ea6\u6709\u591a\u7075\u654f</li> <li>\u7f51\u7ad9\u9875\u9762\u54cd\u5e94\u6709\u591a\u5feb</li> <li>\u6570\u636e\u5e93\u67e5\u8be2\u6709\u591a\u5feb</li> </ul> <p>\u5bf9\u54cd\u5e94\u901f\u5ea6\u8981\u6c42\u5f88\u9ad8\u7684\u7cfb\u7edf, \u8f83\u5927\u7684\u505c\u987f\u65f6\u95f4(large pause times) \u662f\u4e0d\u53ef\u63a5\u53d7\u7684. \u91cd\u70b9\u662f\u5728\u975e\u5e38\u77ed\u7684\u65f6\u95f4\u5468\u671f\u5185\u5feb\u901f\u54cd\u5e94.</p> <p>\u541e\u5410\u91cf(Throughput)</p> <p>\u541e\u5410\u91cf\u5173\u6ce8\u5728\u4e00\u4e2a\u7279\u5b9a\u65f6\u95f4\u6bb5\u5185\u5e94\u7528\u7cfb\u7edf\u7684\u6700\u5927\u5de5\u4f5c\u91cf\u3002\u8861\u91cf\u541e\u5410\u91cf\u7684\u6307\u6807/\u793a\u4f8b\u5305\u62ec:</p> <ul> <li>\u7ed9\u5b9a\u65f6\u95f4\u5185\u5b8c\u6210\u7684\u4e8b\u52a1\u6570.</li> <li>\u6bcf\u5c0f\u65f6\u6279\u5904\u7406\u7cfb\u7edf\u80fd\u5b8c\u6210\u7684\u4f5c\u4e1a(jobs)\u6570\u91cf.</li> <li>\u6bcf\u5c0f\u65f6\u80fd\u5b8c\u6210\u591a\u5c11\u6b21\u6570\u636e\u5e93\u67e5\u8be2</li> </ul> <p>\u5728\u541e\u5410\u91cf\u65b9\u9762\u4f18\u5316\u7684\u7cfb\u7edf, \u505c\u987f\u65f6\u95f4\u957f(High pause times)\u4e5f\u662f\u53ef\u4ee5\u63a5\u53d7\u7684\u3002\u7531\u4e8e\u9ad8\u541e\u5410\u91cf\u5e94\u7528\u8fd0\u884c\u65f6\u95f4\u957f,\u6240\u4ee5\u6b64\u65f6\u66f4\u5173\u5fc3\u7684\u662f\u5982\u4f55\u5c3d\u53ef\u80fd\u5feb\u5730\u5b8c\u6210\u6574\u4e2a\u4efb\u52a1\uff0c\u800c\u4e0d\u8003\u8651\u5feb\u901f\u54cd\u5e94\u3002</p>","tags":["java","g1"]},{"location":"2024/12/01/g1%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E8%BD%AC%E8%BD%BD/#g1-\u5783\u573e\u6536\u96c6\u5668garbage-collector","title":"G1 \u5783\u573e\u6536\u96c6\u5668(Garbage Collector)","text":"","tags":["java","g1"]},{"location":"2024/12/01/g1%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E8%BD%AC%E8%BD%BD/#g1-\u5783\u573e\u6536\u96c6\u5668","title":"G1 \u5783\u573e\u6536\u96c6\u5668","text":"<p>G1 (Garbage-First)\u662f\u4e00\u6b3e\u9762\u5411\u670d\u52a1\u5668\u7684\u5783\u573e\u6536\u96c6\u5668,\u4e3b\u8981\u9488\u5bf9\u914d\u5907\u591a\u9897\u5904\u7406\u5668\u53ca\u5927\u5bb9\u91cf\u5185\u5b58\u7684\u673a\u5668. \u4ee5\u6781\u9ad8\u6982\u7387\u6ee1\u8db3GC\u505c\u987f\u65f6\u95f4\u8981\u6c42\u7684\u540c\u65f6,\u8fd8\u5177\u5907\u9ad8\u541e\u5410\u91cf\u6027\u80fd\u7279\u5f81. \u5728Oracle JDK 7 update 4 \u53ca\u4ee5\u4e0a\u7248\u672c\u4e2d\u5f97\u5230\u5b8c\u5168\u652f\u6301, \u4e13\u4e3a\u4ee5\u4e0b\u5e94\u7528\u7a0b\u5e8f\u8bbe\u8ba1:</p> <ul> <li>\u53ef\u4ee5\u50cfCMS\u6536\u96c6\u5668\u4e00\u6837,GC\u64cd\u4f5c\u4e0e\u5e94\u7528\u7684\u7ebf\u7a0b\u4e00\u8d77\u5e76\u53d1\u6267\u884c</li> <li>\u7d27\u51d1\u7684\u7a7a\u95f2\u5185\u5b58\u533a\u95f4\u4e14\u6ca1\u6709\u5f88\u957f\u7684GC\u505c\u987f\u65f6\u95f4.</li> <li>\u9700\u8981\u53ef\u9884\u6d4b\u7684GC\u6682\u505c\u8017\u65f6.</li> <li>\u4e0d\u60f3\u727a\u7272\u592a\u591a\u541e\u5410\u91cf\u6027\u80fd.</li> <li>\u542f\u52a8\u540e\u4e0d\u9700\u8981\u8bf7\u6c42\u66f4\u5927\u7684Java\u5806.</li> </ul> <p>G1\u7684\u957f\u671f\u76ee\u6807\u662f\u53d6\u4ee3CMS(Concurrent Mark-Sweep Collector, \u5e76\u53d1\u6807\u8bb0-\u6e05\u9664). \u56e0\u4e3a\u7279\u6027\u7684\u4e0d\u540c\u4f7fG1\u6210\u4e3a\u6bd4CMS\u66f4\u597d\u7684\u89e3\u51b3\u65b9\u6848. \u4e00\u4e2a\u533a\u522b\u662f,G1\u662f\u4e00\u6b3e\u538b\u7f29\u578b\u7684\u6536\u96c6\u5668.G1\u901a\u8fc7\u6709\u6548\u7684\u538b\u7f29\u5b8c\u5168\u907f\u514d\u4e86\u5bf9\u7ec6\u5fae\u7a7a\u95f2\u5185\u5b58\u7a7a\u95f4\u7684\u5206\u914d,\u4e0d\u7528\u4f9d\u8d56\u4e8eregions\uff0c\u8fd9\u4e0d\u4ec5\u5927\u5927\u7b80\u5316\u4e86\u6536\u96c6\u5668\uff0c\u800c\u4e14\u8fd8\u6d88\u9664\u4e86\u6f5c\u5728\u7684\u5185\u5b58\u788e\u7247\u95ee\u9898\u3002\u9664\u538b\u7f29\u4ee5\u5916\uff0cG1\u7684\u5783\u573e\u6536\u96c6\u505c\u987f\u4e5f\u6bd4CMS\u5bb9\u6613\u4f30\u8ba1\uff0c\u4e5f\u5141\u8bb8\u7528\u6237\u81ea\u5b9a\u4e49\u6240\u5e0c\u671b\u7684\u505c\u987f\u53c2\u6570(pause targets)</p> <p>G1 \u64cd\u4f5c\u6982\u8ff0</p> <p>\u4e0a\u4e00\u4ee3\u7684\u5783\u573e\u6536\u96c6\u5668(\u4e32\u884cserial, \u5e76\u884cparallel, \u4ee5\u53caCMS)\u90fd\u628a\u5806\u5185\u5b58\u5212\u5206\u4e3a\u56fa\u5b9a\u5927\u5c0f\u7684\u4e09\u4e2a\u90e8\u5206: \u5e74\u8f7b\u4ee3(young generation), \u5e74\u8001\u4ee3(old generation), \u4ee5\u53ca\u6301\u4e45\u4ee3(permanent generation).</p> <p>\u200b    </p> <p>\u5185\u5b58\u4e2d\u7684\u6bcf\u4e2a\u5bf9\u8c61\u90fd\u5b58\u653e\u5728\u8fd9\u4e09\u4e2a\u533a\u57df\u4e2d\u7684\u4e00\u4e2a.</p> <p>\u800c G1 \u6536\u96c6\u5668\u91c7\u7528\u4e00\u79cd\u4e0d\u540c\u7684\u65b9\u5f0f\u6765\u7ba1\u7406\u5806\u5185\u5b58.</p> <p>\u200b    </p> <p>\u5806\u5185\u5b58\u88ab\u5212\u5206\u4e3a\u591a\u4e2a\u5927\u5c0f\u76f8\u7b49\u7684 heap \u533a,\u6bcf\u4e2aheap\u533a\u90fd\u662f\u903b\u8f91\u4e0a\u8fde\u7eed\u7684\u4e00\u6bb5\u5185\u5b58(virtual memory). \u5176\u4e2d\u4e00\u90e8\u5206\u533a\u57df\u88ab\u5f53\u6210\u8001\u4e00\u4ee3\u6536\u96c6\u5668\u76f8\u540c\u7684\u89d2\u8272(eden, survivor, old), \u4f46\u6bcf\u4e2a\u89d2\u8272\u7684\u533a\u57df\u4e2a\u6570\u90fd\u4e0d\u662f\u56fa\u5b9a\u7684\u3002\u8fd9\u5728\u5185\u5b58\u4f7f\u7528\u4e0a\u63d0\u4f9b\u4e86\u66f4\u591a\u7684\u7075\u6d3b\u6027\u3002</p> <p>G1\u6267\u884c\u5783\u573e\u56de\u6536\u7684\u5904\u7406\u65b9\u5f0f\u4e0eCMS\u76f8\u4f3c. G1\u5728\u5168\u5c40\u6807\u8bb0\u9636\u6bb5(global marking phase)\u5e76\u53d1\u6267\u884c, \u4ee5\u786e\u5b9a\u5806\u5185\u5b58\u4e2d\u54ea\u4e9b\u5bf9\u8c61\u662f\u5b58\u6d3b\u7684\u3002\u6807\u8bb0\u9636\u6bb5\u5b8c\u6210\u540e,G1\u5c31\u53ef\u4ee5\u77e5\u9053\u54ea\u4e9bheap\u533a\u7684empty\u7a7a\u95f4\u6700\u5927\u3002\u5b83\u4f1a\u9996\u5148\u56de\u6536\u8fd9\u4e9b\u533a,\u901a\u5e38\u4f1a\u5f97\u5230\u5927\u91cf\u7684\u81ea\u7531\u7a7a\u95f4. \u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u8fd9\u79cd\u5783\u573e\u6536\u96c6\u65b9\u6cd5\u53eb\u505aGarbage-First(\u5783\u573e\u4f18\u5148)\u7684\u539f\u56e0\u3002\u987e\u540d\u601d\u4e49, G1\u5c06\u7cbe\u529b\u96c6\u4e2d\u653e\u5728\u53ef\u80fd\u5e03\u6ee1\u53ef\u6536\u56de\u5bf9\u8c61\u7684\u533a\u57df, \u53ef\u56de\u6536\u5bf9\u8c61(reclaimable objects)\u4e5f\u5c31\u662f\u6240\u8c13\u7684\u5783\u573e. G1\u4f7f\u7528\u6682\u505c\u9884\u6d4b\u6a21\u578b(pause prediction model)\u6765\u8fbe\u5230\u7528\u6237\u5b9a\u4e49\u7684\u76ee\u6807\u6682\u505c\u65f6\u95f4,\u5e76\u6839\u636e\u76ee\u6807\u6682\u505c\u65f6\u95f4\u6765\u9009\u62e9\u6b64\u6b21\u8fdb\u884c\u5783\u573e\u56de\u6536\u7684heap\u533a\u57df\u6570\u91cf.</p> <p>\u88abG1\u6807\u8bb0\u4e3a\u9002\u5408\u56de\u6536\u7684heap\u533a\u5c06\u4f7f\u7528\u8f6c\u79fb(evacuation)\u7684\u65b9\u5f0f\u8fdb\u884c\u5783\u573e\u56de\u6536. G1\u5c06\u4e00\u4e2a\u6216\u591a\u4e2aheap\u533a\u57df\u4e2d\u7684\u5bf9\u8c61\u62f7\u8d1d\u5230\u5176\u4ed6\u7684\u5355\u4e2a\u533a\u57df\u4e2d,\u5e76\u5728\u6b64\u8fc7\u7a0b\u4e2d\u538b\u7f29\u548c\u91ca\u653e\u5185\u5b58. \u5728\u591a\u6838CPU\u4e0a\u8f6c\u79fb\u662f\u5e76\u884c\u6267\u884c\u7684(parallel on multi-processors), \u8fd9\u6837\u80fd\u51cf\u5c11\u505c\u987f\u65f6\u95f4\u5e76\u589e\u52a0\u541e\u5410\u91cf. \u56e0\u6b64,\u6bcf\u6b21\u5783\u573e\u6536\u96c6\u65f6, G1\u90fd\u4f1a\u6301\u7eed\u4e0d\u65ad\u5730\u51cf\u5c11\u788e\u7247, \u5e76\u4e14\u5728\u7528\u6237\u7ed9\u5b9a\u7684\u6682\u505c\u65f6\u95f4\u5185\u6267\u884c. \u8fd9\u6bd4\u4ee5\u524d\u7684\u65b9\u6cd5\u5f3a\u5927\u4e86\u5f88\u591a. CMS\u5783\u573e\u6536\u96c6\u5668(Concurrent Mark Sweep,\u5e76\u53d1\u6807\u8bb0\u6e05\u7406)\u4e0d\u8fdb\u884c\u538b\u7f29. ParallelOld \u5783\u573e\u6536\u96c6\u53ea\u5bf9\u6574\u4e2a\u5806\u6267\u884c\u538b\u7f29,\u4ece\u800c\u5bfc\u81f4\u76f8\u5f53\u957f\u7684\u6682\u505c\u65f6\u95f4\u3002</p> <p>\u9700\u8981\u5f3a\u8c03\u7684\u662f, G1\u5e76\u4e0d\u662f\u4e00\u6b3e\u5b9e\u65f6\u5783\u573e\u6536\u96c6\u5668(real-time collector). \u80fd\u4ee5\u6781\u9ad8\u7684\u6982\u7387\u5728\u8bbe\u5b9a\u7684\u76ee\u6807\u6682\u505c\u65f6\u95f4\u5185\u5b8c\u6210,\u4f46\u4e0d\u4fdd\u8bc1\u7edd\u5bf9\u5728\u8fd9\u4e2a\u65f6\u95f4\u5185\u5b8c\u6210\u3002 \u57fa\u4e8e\u4ee5\u524d\u6536\u96c6\u7684\u5404\u79cd\u76d1\u63a7\u6570\u636e, G1\u4f1a\u6839\u636e\u7528\u6237\u6307\u5b9a\u7684\u76ee\u6807\u65f6\u95f4\u6765\u9884\u4f30\u80fd\u56de\u6536\u591a\u5c11\u4e2aheap\u533a. \u56e0\u6b64,\u6536\u96c6\u5668\u6709\u4e00\u4e2a\u76f8\u5f53\u7cbe\u786e\u7684heap\u533a\u8017\u65f6\u8ba1\u7b97\u6a21\u578b,\u5e76\u6839\u636e\u8be5\u6a21\u578b\u6765\u786e\u5b9a\u5728\u7ed9\u5b9a\u65f6\u95f4\u5185\u53bb\u56de\u6536\u54ea\u4e9bheap\u533a.</p> <p>\u6ce8\u610f G1\u5206\u4e3a\u4e24\u4e2a\u9636\u6bb5: \u5e76\u53d1\u9636\u6bb5(concurrent, \u4e0e\u5e94\u7528\u7ebf\u7a0b\u4e00\u8d77\u8fd0\u884c, \u5982: \u7ec6\u5316 refinement\u3001\u6807\u8bb0 marking\u3001\u6e05\u7406 cleanup) \u548c \u5e76\u884c\u9636\u6bb5(parallel, \u591a\u7ebf\u7a0b\u6267\u884c, \u5982: \u505c\u6b62\u6240\u6709JVM\u7ebf\u7a0b, stop the world). \u800c FullGC(\u5b8c\u6574\u5783\u573e\u6536\u96c6)\u4ecd\u7136\u662f\u5355\u7ebf\u7a0b\u7684, \u4f46\u5982\u679c\u8fdb\u884c\u9002\u5f53\u7684\u8c03\u4f18,\u5219\u5e94\u7528\u7a0b\u5e8f\u5e94\u8be5\u80fd\u591f\u907f\u514d full GC\u3002</p> <p>G1 \u7684\u5185\u5b58\u5360\u7528(Footprint)</p> <p>\u5982\u679c\u4ece ParallelOldGC \u6216\u8005 CMS\u6536\u96c6\u5668\u8fc1\u79fb\u5230 G1, \u60a8\u53ef\u80fd\u4f1a\u770b\u5230JVM\u8fdb\u7a0b\u5360\u7528\u66f4\u591a\u7684\u5185\u5b58(a larger JVM process size). \u8fd9\u5728\u5f88\u5927\u7a0b\u5ea6\u4e0a\u4e0e \u201caccounting\u201d \u6570\u636e\u7ed3\u6784\u6709\u5173, \u5982 Remembered Sets \u548c Collection Sets.</p> <p>Remembered Sets \u7b80\u79f0 RSets, \u8ddf\u8e2a\u6307\u5411\u67d0\u4e2aheap\u533a\u5185\u7684\u5bf9\u8c61\u5f15\u7528. \u5806\u5185\u5b58\u4e2d\u7684\u6bcf\u4e2a\u533a\u90fd\u6709\u4e00\u4e2a RSet. RSet \u4f7fheap\u533a\u80fd\u5e76\u884c\u72ec\u7acb\u5730\u8fdb\u884c\u5783\u573e\u96c6\u5408. RSets\u7684\u603b\u4f53\u5f71\u54cd\u5c0f\u4e8e5%.</p> <p>Collection Sets \u7b80\u79f0 CSets, \u6536\u96c6\u96c6\u5408, \u5728\u4e00\u6b21GC\u4e2d\u5c06\u6267\u884c\u5783\u573e\u56de\u6536\u7684heap\u533a. GC\u65f6\u5728CSet\u4e2d\u7684\u6240\u6709\u5b58\u6d3b\u6570\u636e(live data)\u90fd\u4f1a\u88ab\u8f6c\u79fb(\u590d\u5236/\u79fb\u52a8). \u96c6\u5408\u4e2d\u7684heap\u533a\u53ef\u4ee5\u662f Eden, survivor, \u548c/\u6216 old generation. CSets\u6240\u5360\u7528\u7684JVM\u5185\u5b58\u5c0f\u4e8e1%.</p> <p>\u63a8\u8350\u4f7f\u7528 G1 \u7684\u573a\u666f(Recommended Use Cases)</p> <p>G1\u7684\u9996\u8981\u76ee\u6807\u662f\u4e3a\u9700\u8981\u5927\u91cf\u5185\u5b58\u7684\u7cfb\u7edf\u63d0\u4f9b\u4e00\u4e2a\u4fdd\u8bc1GC\u4f4e\u5ef6\u8fdf\u7684\u89e3\u51b3\u65b9\u6848. \u4e5f\u5c31\u662f\u8bf4\u5806\u5185\u5b58\u57286GB\u53ca\u4ee5\u4e0a,\u7a33\u5b9a\u548c\u53ef\u9884\u6d4b\u7684\u6682\u505c\u65f6\u95f4\u5c0f\u4e8e0.5\u79d2.</p> <p>\u5982\u679c\u5e94\u7528\u7a0b\u5e8f\u5177\u6709\u5982\u4e0b\u7684\u4e00\u4e2a\u6216\u591a\u4e2a\u7279\u5f81,\u90a3\u4e48\u5c06\u5783\u573e\u6536\u96c6\u5668\u4eceCMS\u6216ParallelOldGC\u5207\u6362\u5230G1\u5c06\u4f1a\u5927\u5927\u63d0\u5347\u6027\u80fd.</p> <ul> <li>Full GC \u6b21\u6570\u592a\u9891\u7e41\u6216\u8005\u6d88\u8017\u65f6\u95f4\u592a\u957f.</li> <li>\u5bf9\u8c61\u5206\u914d\u7684\u9891\u7387\u6216\u4ee3\u6570\u63d0\u5347(promotion)\u663e\u8457\u53d8\u5316.</li> <li>\u53d7\u591f\u4e86\u592a\u957f\u7684\u5783\u573e\u56de\u6536\u6216\u5185\u5b58\u6574\u7406\u65f6\u95f4(\u8d85\u8fc70.5~1\u79d2)</li> </ul> <p>\u6ce8\u610f: \u5982\u679c\u6b63\u5728\u4f7f\u7528CMS\u6216ParallelOldGC,\u800c\u5e94\u7528\u7a0b\u5e8f\u7684\u5783\u573e\u6536\u96c6\u505c\u987f\u65f6\u95f4\u5e76\u4e0d\u957f,\u90a3\u4e48\u7ee7\u7eed\u4f7f\u7528\u73b0\u5728\u7684\u5783\u573e\u6536\u96c6\u5668\u662f\u4e2a\u597d\u4e3b\u610f. \u4f7f\u7528\u6700\u65b0\u7684JDK\u65f6\u5e76\u4e0d\u8981\u6c42\u5207\u6362\u5230G1\u6536\u96c6\u5668\u3002</p>","tags":["java","g1"]},{"location":"2024/12/01/g1%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E8%BD%AC%E8%BD%BD/#cms\u7684gc\u6982\u8ff0","title":"CMS\u7684GC\u6982\u8ff0","text":"","tags":["java","g1"]},{"location":"2024/12/01/g1%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E8%BD%AC%E8%BD%BD/#\u5206\u4ee3gcgenerational-gc\u4e0e-cms","title":"\u5206\u4ee3GC(Generational GC)\u4e0e CMS","text":"<p>\u5e76\u53d1\u6807\u8bb0\u6e05\u7406(CMS, Concurrent Mark Sweep)\u6536\u96c6\u5668(\u4e5f\u79f0\u4e3a\u591a\u5e76\u53d1\u4f4e\u6682\u505c\u7684\u6536\u96c6\u5668)\u56de\u6536\u8001\u5e74\u4ee3\u5185\u5b58(tenured generation). \u5b83\u5c06\u5783\u573e\u56de\u6536\u4e2d\u7684\u7edd\u5927\u90e8\u5206\u5de5\u4f5c\u4e0e\u5e94\u7528\u7a0b\u5e8f\u7684\u7ebf\u7a0b\u4e00\u8d77\u5e76\u53d1\u6267\u884c,\u4ee5\u671f\u80fd\u6700\u5c0f\u5316\u6682\u505c\u65f6\u95f4. \u901a\u5e38\u591a\u5e76\u53d1\u4f4e\u6682\u505c\u6536\u96c6\u5668\u6536\u96c6\u5668\u4e0d\u590d\u5236\u6216\u4e5f\u4e0d\u538b\u7f29\u5b58\u6d3b\u7684\u5bf9\u8c61. \u5783\u573e\u56de\u6536\u4e0d\u79fb\u52a8\u5b58\u6d3b\u7684\u5bf9\u8c61, \u5982\u679c\u4ea7\u751f\u5185\u5b58\u788e\u7247\u95ee\u9898,\u5c31\u4f1a\u5206\u914d/\u5360\u7528\u66f4\u5927\u7684\u5806\u5185\u5b58\u7a7a\u95f4\u3002</p> <p>\u6ce8\u610f: \u5e74\u8f7b\u4ee3\u4f7f\u7528\u7684CMS\u6536\u96c6\u5668\u4e5f\u548c\u5e76\u884c\u6536\u96c6\u5668\u91c7\u7528\u4e00\u6837\u7684\u7b97\u6cd5.</p> <p>CMS \u5783\u573e\u6536\u96c6\u9636\u6bb5\u5212\u5206(Collection Phases)</p> <p>CMS\u6536\u96c6\u5668\u5728\u8001\u5e74\u4ee3\u5806\u5185\u5b58\u7684\u56de\u6536\u4e2d\u6267\u884c\u5206\u4e3a\u4ee5\u4e0b\u9636\u6bb5:</p> \u9636\u6bb5 \u8bf4\u660e (1) \u521d\u59cb\u6807\u8bb0 (Initial Mark) (Stop the World Event,\u6240\u6709\u5e94\u7528\u7ebf\u7a0b\u6682\u505c) \u5728\u8001\u5e74\u4ee3(old generation)\u4e2d\u7684\u5bf9\u8c61, \u5982\u679c\u4ece\u5e74\u8f7b\u4ee3(young generation)\u4e2d\u80fd\u8bbf\u95ee\u5230, \u5219\u88ab \u201c\u6807\u8bb0,marked\u201d \u4e3a\u53ef\u8fbe\u7684(reachable).\u5bf9\u8c61\u5728\u65e7\u4e00\u4ee3\u201c\u6807\u5fd7\u201d\u53ef\u4ee5\u5305\u62ec\u8fd9\u4e9b\u5bf9\u8c61\u53ef\u80fd\u53ef\u4ee5\u4ece\u5e74\u8f7b\u4e00\u4ee3\u3002\u6682\u505c\u65f6\u95f4\u4e00\u822c\u6301\u7eed\u65f6\u95f4\u8f83\u77ed,\u76f8\u5bf9\u5c0f\u7684\u6536\u96c6\u6682\u505c\u65f6\u95f4. (2) \u5e76\u53d1\u6807\u8bb0 (Concurrent Marking) \u5728Java\u5e94\u7528\u7a0b\u5e8f\u7ebf\u7a0b\u8fd0\u884c\u7684\u540c\u65f6\u904d\u5386\u8001\u5e74\u4ee3(tenured generation)\u7684\u53ef\u8fbe\u5bf9\u8c61\u56fe\u3002\u626b\u63cf\u4ece\u88ab\u6807\u8bb0\u7684\u5bf9\u8c61\u5f00\u59cb,\u76f4\u5230\u904d\u5386\u5b8c\u4eceroot\u53ef\u8fbe\u7684\u6240\u6709\u5bf9\u8c61. \u8c03\u6574\u5668(mutators)\u5728\u5e76\u53d1\u9636\u6bb5\u76842\u30013\u30015\u9636\u6bb5\u6267\u884c,\u5728\u8fd9\u4e9b\u9636\u6bb5\u4e2d\u65b0\u5206\u914d\u7684\u6240\u6709\u5bf9\u8c61(\u5305\u62ec\u88ab\u63d0\u5347\u7684\u5bf9\u8c61)\u90fd\u7acb\u523b\u6807\u8bb0\u4e3a\u5b58\u6d3b\u72b6\u6001. (3) \u518d\u6b21\u6807\u8bb0(Remark) (Stop the World Event, \u6240\u6709\u5e94\u7528\u7ebf\u7a0b\u6682\u505c) \u67e5\u627e\u5728\u5e76\u53d1\u6807\u8bb0\u9636\u6bb5\u6f0f\u8fc7\u7684\u5bf9\u8c61\uff0c\u8fd9\u4e9b\u5bf9\u8c61\u662f\u5728\u5e76\u53d1\u6536\u96c6\u5668\u5b8c\u6210\u5bf9\u8c61\u8ddf\u8e2a\u4e4b\u540e\u7531\u5e94\u7528\u7ebf\u7a0b\u66f4\u65b0\u7684. (4) \u5e76\u53d1\u6e05\u7406(Concurrent Sweep) \u56de\u6536\u5728\u6807\u8bb0\u9636\u6bb5(marking phases)\u786e\u5b9a\u4e3a\u4e0d\u53ef\u53ca\u7684\u5bf9\u8c61. \u6b7b\u5bf9\u8c61\u7684\u56de\u6536\u5c06\u6b64\u5bf9\u8c61\u5360\u7528\u7684\u7a7a\u95f4\u589e\u52a0\u5230\u4e00\u4e2a\u7a7a\u95f2\u5217\u8868(free list),\u4f9b\u4ee5\u540e\u7684\u5206\u914d\u4f7f\u7528\u3002\u6b7b\u5bf9\u8c61\u7684\u5408\u5e76\u53ef\u80fd\u5728\u6b64\u65f6\u53d1\u751f. \u8bf7\u6ce8\u610f,\u5b58\u6d3b\u7684\u5bf9\u8c61\u5e76\u6ca1\u6709\u88ab\u79fb\u52a8. (5) \u91cd\u7f6e(Resetting) \u6e05\u7406\u6570\u636e\u7ed3\u6784,\u4e3a\u4e0b\u4e00\u4e2a\u5e76\u53d1\u6536\u96c6\u505a\u51c6\u5907. <p>CMS\u7684GC\u6b65\u9aa4</p> <p>\u63a5\u4e0b\u6765,\u8ba9\u6211\u4eec\u4e00\u6b65\u6b65\u5730\u8bb2\u8ff0CMS\u6536\u96c6\u5668\u7684\u64cd\u4f5c.</p> <p>1\u3001 CMS\u7684\u5806\u5185\u5b58\u7ed3\u6784(Heap Structure)</p> <p>\u5806\u5185\u5b58\u88ab\u5206\u4e3a3\u4e2a\u7a7a\u95f4.</p> <p>\u200b    </p> <p>\u5e74\u8f7b\u4ee3(Young generation)\u5206\u4e3a 1\u4e2a\u65b0\u751f\u4ee3\u7a7a\u95f4(Eden)\u548c2\u4e2a\u5b58\u6d3b\u533a(survivor spaces). \u8001\u5e74\u4ee3(Old generation)\u662f\u4e00\u5927\u5757\u8fde\u7eed\u7684\u7a7a\u95f4, \u5783\u573e\u56de\u6536(Object collection)\u5c31\u5730\u89e3\u51b3(is done in place), \u9664\u4e86 Full GC, \u5426\u5219\u4e0d\u4f1a\u8fdb\u884c\u538b\u7f29(compaction).</p> <p>2\u3001 CMS\u5e74\u8f7b\u4ee3(Young) GC \u7684\u5de5\u4f5c\u65b9\u5f0f</p> <p>\u5e74\u8f7b\u4ee3(young generation)\u7528\u9ad8\u4eae\u7684\u7eff\u8272\u8868\u793a, \u8001\u5e74\u4ee3(old generation)\u7528\u84dd\u8272\u8868\u793a\u3002\u5982\u679c\u7a0b\u5e8f\u8fd0\u884c\u4e86\u4e00\u6bb5\u65f6\u95f4,\u90a3\u4e48 CMS \u770b\u8d77\u6765\u5c31\u50cf\u4e0b\u56fe\u8fd9\u4e2a\u6837\u5b50. \u5bf9\u8c61\u6563\u843d\u5728\u8001\u5e74\u4ee3\u4e2d\u7684\u5404\u5904\u5730\u65b9.</p> <p>\u200b    </p> <p>\u5728\u4f7f\u7528 CMS \u65f6, \u8001\u5e74\u4ee3\u7684\u5bf9\u8c61\u56de\u6536\u5c31\u5730\u8fdb\u884c(deallocated in place). \u4ed6\u4eec\u4e0d\u4f1a\u88ab\u79fb\u52a8\u5230\u5176\u4ed6\u5730\u65b9. \u9664\u4e86 Full GC, \u5426\u5219\u5185\u5b58\u7a7a\u95f4\u4e0d\u4f1a\u8fdb\u884c\u538b\u7f29.</p> <p>3\u3001 \u5e74\u8f7b\u4ee3\u5783\u573e\u56de\u6536(Young Generation Collection)</p> <p>Eden\u533a\u548csurvivor\u533a\u4e2d\u7684\u5b58\u6d3b\u5bf9\u8c61\u88ab\u62f7\u8d1d\u5230\u53e6\u4e00\u4e2a\u7a7a\u7684survivor \u533a. \u5b58\u6d3b\u65f6\u95f4\u66f4\u957f,\u8fbe\u5230\u9600\u503c\u7684\u5bf9\u8c61\u4f1a\u88ab\u63d0\u5347\u5230\u8001\u5e74\u4ee3(promoted to old generation).</p> <p>\u200b    </p> <p>4\u3001 \u5e74\u8f7b\u4ee3(Young) GC \u4e4b\u540e</p> <p>\u5e74\u8f7b\u4ee3(Young)\u8fdb\u884c\u4e00\u6b21\u5783\u573e\u56de\u6536\u4e4b\u540e, Eden \u533a\u88ab\u6e05\u7406\u5e72\u51c0(cleared),\u4e24\u4e2a survivor \u533a\u4e2d\u7684\u4e00\u4e2a\u4e5f\u88ab\u6e05\u7406\u5e72\u51c0\u4e86. \u5982\u4e0b\u56fe\u6240\u793a:</p> <p>\u200b    </p> <p>\u56fe\u4e2d\u65b0\u63d0\u5347\u7684\u5bf9\u8c61\u7528\u6df1\u84dd\u8272\u6765\u6807\u8bc6. \u7eff\u8272\u7684\u90e8\u5206\u662f\u5e74\u8f7b\u4ee3\u4e2d\u5b58\u6d3b\u7684\u5bf9\u8c61,\u4f46\u8fd8\u6ca1\u88ab\u63d0\u5347\u5230\u8001\u5e74\u4ee3\u4e2d.</p> <p>5\u3001 CMS\u7684\u8001\u5e74\u4ee3\u56de\u6536(Old Generation Collection)</p> <p>\u4e24\u6b21stop the world\u4e8b\u4ef6\u53d1\u751f\u5728: \u521d\u59cb\u6807\u8bb0(initial mark)\u4ee5\u53ca\u91cd\u65b0\u6807\u8bb0(remark)\u9636\u6bb5. \u5f53\u8001\u5e74\u4ee3\u8fbe\u5230\u4e00\u5b9a\u7684\u5360\u6709\u7387\u65f6,CMS\u5783\u573e\u56de\u6536\u5668\u5c31\u5f00\u59cb\u5de5\u4f5c.</p> <p>\u200b    </p> <p>(1) \u521d\u59cb\u6807\u8bb0(Initial mark)\u9636\u6bb5\u7684\u505c\u987f\u65f6\u95f4\u5f88\u77ed,\u5728\u6b64\u9636\u6bb5\u5b58\u6d3b\u7684(live,reachable,\u53ef\u53ca\u7684) \u5bf9\u8c61\u88ab\u8bb0\u4e0b\u6765. (2) \u5e76\u53d1\u6807\u8bb0(Concurrent marking)\u5728\u7a0b\u5e8f\u7ee7\u7eed\u8fd0\u884c\u7684\u540c\u65f6\u627e\u51fa\u5b58\u6d3b\u7684\u5bf9\u8c61. \u6700\u540e, \u5728\u7b2c(3)\u9636\u6bb5(remark phase), \u67e5\u627e\u5728\u7b2c(2)\u9636\u6bb5(concurrent marking)\u4e2d\u9519\u8fc7\u7684\u5bf9\u8c61.</p> <p>6\u3001 \u8001\u5e74\u4ee3\u56de\u6536 \u2013 \u5e76\u53d1\u6e05\u7406(Concurrent Sweep)</p> <p>\u5728\u524d\u9762\u9636\u6bb5\u672a\u88ab\u6807\u8bb0\u7684\u5bf9\u8c61\u5c06\u4f1a\u5c31\u5730\u91ca\u653e(deallocated in place). \u6b64\u5904\u6ca1\u6709\u538b\u7f29(compaction).</p> <p>\u200b    </p> <p>\u5907\u6ce8: \u672a\u6807\u8bb0(Unmarked)\u7684\u5bf9\u8c61 == \u5df2\u6b7b\u5bf9\u8c61(Dead Objects)</p> <p>7\u3001 \u8001\u5e74\u4ee3\u56de\u6536 \u2013 \u6e05\u7406\u4e4b\u540e(After Sweeping)</p> <p>\u5728\u7b2c(4)\u6b65(Sweeping phase)\u4e4b\u540e, \u53ef\u4ee5\u770b\u5230\u5f88\u591a\u5185\u5b58\u88ab\u91ca\u653e\u4e86. \u8fd8\u5e94\u8be5\u6ce8\u610f\u5230,\u8fd9\u91cc\u5e76\u6ca1\u6709\u6267\u884c\u5185\u5b58\u538b\u7f29\u6574\u7406(no compaction).</p> <p>\u200b    </p> <p>\u6700\u540e, CMS \u6536\u96c6\u5668\u8fdb\u5165(move through)\u7b2c(5)\u9636\u6bb5, \u91cd\u7f6e(resetting phase), \u7136\u540e\u7b49\u5019\u4e0b\u4e00\u6b21\u7684GC\u9600\u503c\u5230\u6765(GC threshold).</p>","tags":["java","g1"]},{"location":"2024/12/01/g1%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E8%BD%AC%E8%BD%BD/#g1\u5783\u573e\u6536\u96c6\u5668\u6982\u8ff0","title":"G1\u5783\u573e\u6536\u96c6\u5668\u6982\u8ff0","text":"","tags":["java","g1"]},{"location":"2024/12/01/g1%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E8%BD%AC%E8%BD%BD/#\u4e00\u6b65\u6b65\u4ecb\u7ecdg1","title":"\u4e00\u6b65\u6b65\u4ecb\u7ecdG1","text":"<p>G1\u6536\u96c6\u5668\u91c7\u7528\u4e00\u79cd\u4e0d\u540c\u7684\u65b9\u5f0f\u6765\u5206\u914d\u5806. \u4e0b\u9762\u901a\u8fc7\u56fe\u89e3\u7684\u65b9\u5f0f\u4e00\u6b65\u6b65\u5730\u8bb2\u8ff0G1\u7cfb\u7edf.</p> <p>1\u3001 G1\u7684\u5806\u5185\u5b58\u7ed3\u6784</p> <p>\u5806\u5185\u5b58\u88ab\u5212\u5206\u4e3a\u56fa\u5b9a\u5927\u5c0f\u7684\u591a\u4e2a\u533a\u57df.</p> <p>\u200b    </p> <p>\u6bcf\u4e2aheap\u533a(Region)\u7684\u5927\u5c0f\u5728JVM\u542f\u52a8\u65f6\u5c31\u786e\u5b9a\u4e86. JVM \u901a\u5e38\u751f\u6210 2000 \u4e2a\u5de6\u53f3\u7684heap\u533a, \u6839\u636e\u5806\u5185\u5b58\u7684\u603b\u5927\u5c0f,\u533a\u7684size\u8303\u56f4\u5141\u8bb8\u4e3a 1Mb \u5230 32Mb.</p> <p>2\u3001 G1 \u5806\u7a7a\u95f4\u5206\u914d</p> <p>\u5b9e\u9645\u4e0a,\u8fd9\u4e9b\u533a\u57df(regions)\u88ab\u6620\u5c04\u4e3a\u903b\u8f91\u4e0a\u7684 Eden, Survivor, \u548c old generation(\u8001\u5e74\u4ee3)\u7a7a\u95f4.</p> <p>\u200b    </p> <p>\u56fe\u4e2d\u7684\u989c\u8272\u6807\u8bc6\u4e86\u6bcf\u4e00\u4e2a\u533a\u57df\u5c5e\u4e8e\u54ea\u4e2a\u89d2\u8272. \u5b58\u6d3b\u7684\u5bf9\u8c61\u4ece\u4e00\u5757\u533a\u57df\u8f6c\u79fb(\u590d\u5236\u6216\u79fb\u52a8)\u5230\u53e6\u4e00\u5757\u533a\u57df\u3002\u8bbe\u8ba1\u6210 heap \u533a\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u5e76\u884c\u5730\u8fdb\u884c\u5783\u573e\u56de\u6536(\u7684\u540c\u65f6\u505c\u6b62/\u6216\u4e0d\u505c\u6b62\u5176\u4ed6\u5e94\u7528\u7a0b\u5e8f\u7ebf\u7a0b).</p> <p>\u5982\u56fe\u6240\u793a,heap\u533a\u53ef\u4ee5\u5206\u914d\u4e3a Eden, Survivor, \u6216 old generation(\u8001\u5e74\u4ee3)\u533a. \u6b64\u5916,\u8fd8\u6709\u7b2c\u56db\u79cd\u7c7b\u578b\u7684\u5bf9\u8c61\u88ab\u79f0\u4e3a\u5de8\u65e0\u9738\u533a\u57df(Humongous regions),\u8fd9\u79cd\u5de8\u65e0\u9738\u533a\u662f\u8bbe\u8ba1\u4e86\u7528\u6765\u4fdd\u5b58\u6bd4\u6807\u51c6\u5757(standard region)\u592750%\u53ca\u4ee5\u4e0a\u7684\u5bf9\u8c61, \u5b83\u4eec\u5b58\u50a8\u5728\u4e00\u7ec4\u8fde\u7eed\u7684\u533a\u4e2d. \u6700\u540e\u4e00\u4e2a\u7c7b\u578b\u662f\u5806\u5185\u5b58\u4e2d\u7684\u672a\u4f7f\u7528\u533a(unused areas).</p> <p>\u5907\u6ce8: \u622a\u6b62\u82f1\u6587\u539f\u6587\u53d1\u8868\u65f6,\u5de8\u65e0\u9738\u5bf9\u8c61\u7684\u56de\u6536\u8fd8\u6ca1\u6709\u5f97\u5230\u4f18\u5316. \u56e0\u6b64,\u60a8\u5e94\u8be5\u5c3d\u91cf\u907f\u514d\u521b\u5efa\u592a\u5927(\u5927\u4e8e32MB?)\u7684\u5bf9\u8c61.</p> <p>3\u3001 G1\u4e2d\u7684\u5e74\u8f7b\u4ee3(Young Generation)</p> <p>\u5806\u88ab\u5206\u4e3a\u5927\u7ea62000\u4e2a\u533a. \u6700\u5c0fsize\u4e3a1 Mb, \u6700\u5927size\u4e3a 32Mb. \u84dd\u8272\u7684\u533a\u4fdd\u5b58\u8001\u5e74\u4ee3\u5bf9\u8c61,\u7eff\u8272\u533a\u57df\u4fdd\u5b58\u5e74\u8f7b\u4ee3\u5bf9\u8c61.</p> <p>\u200b    </p> <p>\u6ce8\u610fG1\u4e2d\u5404\u4ee3\u7684heap\u533a\u4e0d\u50cf\u8001\u4e00\u4ee3\u5783\u573e\u6536\u96c6\u5668\u4e00\u6837\u8981\u6c42\u5404\u90e8\u5206\u662f\u8fde\u7eed\u7684.</p> <p>4\u3001 G1\u4e2d\u7684\u4e00\u6b21\u5e74\u8f7b\u4ee3GC</p> <p>\u5b58\u6d3b\u7684\u5bf9\u8c61\u88ab\u8f6c\u79fb(copied or moved)\u5230\u4e00\u4e2a/\u6216\u591a\u4e2a\u5b58\u6d3b\u533a(survivor regions). \u5982\u679c\u5b58\u6d3b\u65f6\u95f4\u8fbe\u5230\u9600\u503c,\u8fd9\u90e8\u5206\u5bf9\u8c61\u5c31\u4f1a\u88ab\u63d0\u5347\u5230\u8001\u5e74\u4ee3(promoted to old generation regions).</p> <p>\u200b    </p> <p>\u6b64\u65f6\u4f1a\u6709\u4e00\u6b21 stop the world(STW)\u6682\u505c. \u4f1a\u8ba1\u7b97\u51fa Eden\u5927\u5c0f\u548c survivor \u5927\u5c0f,\u7ed9\u4e0b\u4e00\u6b21\u5e74\u8f7b\u4ee3GC\u4f7f\u7528. \u6e05\u5355\u7edf\u8ba1\u4fe1\u606f(Accounting)\u4fdd\u5b58\u4e86\u7528\u6765\u8f85\u52a9\u8ba1\u7b97size. \u8bf8\u5982\u6682\u505c\u65f6\u95f4\u76ee\u6807\u4e4b\u7c7b\u7684\u4e1c\u897f\u4e5f\u4f1a\u7eb3\u5165\u8003\u8651.</p> <p>\u8fd9\u79cd\u65b9\u6cd5\u4f7f\u5f97\u8c03\u6574\u5404\u4ee3\u533a\u57df\u7684\u5c3a\u5bf8\u5f88\u5bb9\u6613, \u8ba9\u5176\u66f4\u5927\u6216\u66f4\u5c0f\u4e00\u4e9b\u4ee5\u6ee1\u8db3\u9700\u8981.</p> <p>5\u3001 G1\u7684\u4e00\u6b21\u5e74\u8f7b\u4ee3GC\u5b8c\u6210\u540e</p> <p>\u5b58\u6d3b\u5bf9\u8c61\u88ab\u8f6c\u79fb\u5230\u5b58\u6d3b\u533a(survivor regions) \u6216 \u8001\u5e74\u4ee3(old generation regions).</p> <p>\u200b    </p> <p>\u521a\u521a\u88ab\u63d0\u5347\u4e0a\u6765\u7684\u5bf9\u8c61\u7528\u6df1\u7eff\u8272\u663e\u793a. Survivor \u533a\u7528\u7eff\u8272\u8868\u793a.</p> <p>\u603b\u7ed3\u8d77\u6765,G1\u7684\u5e74\u8f7b\u4ee3\u6536\u96c6\u5f52\u7eb3\u5982\u4e0b:</p> <ul> <li>\u5806\u4e00\u6574\u5757\u5185\u5b58\u7a7a\u95f4,\u88ab\u5206\u4e3a\u591a\u4e2aheap\u533a(regions).</li> <li>\u5e74\u8f7b\u4ee3\u5185\u5b58\u7531\u4e00\u7ec4\u4e0d\u8fde\u7eed\u7684heap\u533a\u7ec4\u6210. \u8fd9\u4f7f\u5f97\u5728\u9700\u8981\u65f6\u5f88\u5bb9\u6613\u8fdb\u884c\u5bb9\u91cf\u8c03\u6574.</li> <li>\u5e74\u8f7b\u4ee3\u7684\u5783\u573e\u6536\u96c6,\u6216\u8005\u53eb young GCs, \u4f1a\u6709 stop the world \u4e8b\u4ef6. \u5728\u64cd\u4f5c\u65f6\u6240\u6709\u7684\u5e94\u7528\u7a0b\u5e8f\u7ebf\u7a0b\u90fd\u4f1a\u88ab\u6682\u505c(stopped).</li> <li>\u5e74\u8f7b\u4ee3 GC \u901a\u8fc7\u591a\u7ebf\u7a0b\u5e76\u884c\u8fdb\u884c.</li> <li>\u5b58\u6d3b\u7684\u5bf9\u8c61\u88ab\u62f7\u8d1d\u5230\u65b0\u7684 survivor \u533a\u6216\u8005\u8001\u5e74\u4ee3.</li> </ul>","tags":["java","g1"]},{"location":"2024/12/01/g1%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E8%BD%AC%E8%BD%BD/#old-generation-collection-with-g1","title":"Old Generation Collection with G1","text":"<p>\u548c CMS \u6536\u96c6\u5668\u76f8\u4f3c, G1 \u6536\u96c6\u5668\u4e5f\u88ab\u8bbe\u8ba1\u4e3a\u7528\u6765\u5bf9\u8001\u5e74\u4ee3\u7684\u5bf9\u8c61\u8fdb\u884c\u4f4e\u5ef6\u8fdf(low pause)\u7684\u5783\u573e\u6536\u96c6. \u4e0b\u8868\u63cf\u8ff0\u4e86G1\u6536\u96c6\u5668\u5728\u8001\u5e74\u4ee3\u8fdb\u884c\u5783\u573e\u56de\u6536\u7684\u5404\u4e2a\u9636\u6bb5.</p> <p>G1 \u6536\u96c6\u9636\u6bb5 \u2013 \u5e76\u53d1\u6807\u8bb0\u5468\u671f\u9636\u6bb5(Concurrent Marking Cycle Phases)</p> <p>G1 \u6536\u96c6\u5668\u5728\u8001\u5e74\u4ee3\u5806\u5185\u5b58\u4e2d\u6267\u884c\u4e0b\u9762\u7684\u8fd9\u4e9b\u9636\u6bb5. \u6ce8\u610f\u6709\u4e9b\u9636\u6bb5\u4e5f\u662f\u5e74\u8f7b\u4ee3\u5783\u573e\u6536\u96c6\u7684\u4e00\u90e8\u5206.</p> \u9636\u6bb5 \u8bf4\u660e (1) \u521d\u59cb\u6807\u8bb0(Initial Mark) (Stop the World Event,\u6240\u6709\u5e94\u7528\u7ebf\u7a0b\u6682\u505c) \u6b64\u65f6\u4f1a\u6709\u4e00\u6b21 stop the world(STW)\u6682\u505c\u4e8b\u4ef6. \u5728G1\u4e2d, \u8fd9\u9644\u52a0\u5728(piggybacked on)\u4e00\u6b21\u6b63\u5e38\u7684\u5e74\u8f7b\u4ee3GC. \u6807\u8bb0\u53ef\u80fd\u6709\u5f15\u7528\u6307\u5411\u8001\u5e74\u4ee3\u5bf9\u8c61\u7684survivor\u533a(\u6839regions). (2) \u626b\u63cf\u6839\u533a\u57df(Root Region Scanning) \u626b\u63cf survivor \u533a\u4e2d\u5f15\u7528\u5230\u8001\u5e74\u4ee3\u7684\u5f15\u7528. \u8fd9\u4e2a\u9636\u6bb5\u5e94\u7528\u7a0b\u5e8f\u7684\u7ebf\u7a0b\u4f1a\u7ee7\u7eed\u8fd0\u884c. \u5728\u5e74\u8f7b\u4ee3GC\u53ef\u80fd\u53d1\u751f\u4e4b\u524d\u6b64\u9636\u6bb5\u5fc5\u987b\u5b8c\u6210. (3) \u5e76\u53d1\u6807\u8bb0(Concurrent Marking) \u5728\u6574\u4e2a\u5806\u4e2d\u67e5\u627e\u6d3b\u7740\u7684\u5bf9\u8c61. \u6b64\u9636\u6bb5\u5e94\u7528\u7a0b\u5e8f\u7684\u7ebf\u7a0b\u6b63\u5728\u8fd0\u884c. \u6b64\u9636\u6bb5\u53ef\u4ee5\u88ab\u5e74\u8f7b\u4ee3GC\u6253\u65ad(interrupted). (4) \u518d\u6b21\u6807\u8bb0(Remark) (Stop the World Event,\u6240\u6709\u5e94\u7528\u7ebf\u7a0b\u6682\u505c) \u5b8c\u6210\u5806\u5185\u5b58\u4e2d\u5b58\u6d3b\u5bf9\u8c61\u7684\u6807\u8bb0. \u4f7f\u7528\u4e00\u4e2a\u53eb\u505a snapshot-at-the-beginning(SATB, \u8d77\u59cb\u5feb\u7167)\u7684\u7b97\u6cd5, \u8be5\u7b97\u6cd5\u6bd4CMS\u6240\u4f7f\u7528\u7684\u7b97\u6cd5\u8981\u5feb\u901f\u7684\u591a. (5) \u6e05\u7406(Cleanup) (Stop the World Event,\u6240\u6709\u5e94\u7528\u7ebf\u7a0b\u6682\u505c,\u5e76\u53d1\u6267\u884c)\u5728\u5b58\u6d3b\u5bf9\u8c61\u548c\u5b8c\u5168\u7a7a\u95f2\u7684\u533a\u57df\u4e0a\u6267\u884c\u7edf\u8ba1(accounting). (Stop the world)\u64e6\u5199 Remembered Sets. (Stop the world)\u91cd\u7f6e\u7a7aheap\u533a\u5e76\u5c06\u4ed6\u4eec\u8fd4\u8fd8\u7ed9\u7a7a\u95f2\u5217\u8868(free list). (Concurrent, \u5e76\u53d1) (*) \u62f7\u8d1d(Copying) (Stop the World Event,\u6240\u6709\u5e94\u7528\u7ebf\u7a0b\u6682\u505c) \u4ea7\u751fSTW\u4e8b\u4ef6\u6765\u8f6c\u79fb\u6216\u62f7\u8d1d\u5b58\u6d3b\u7684\u5bf9\u8c61\u5230\u65b0\u7684\u672a\u4f7f\u7528\u7684heap\u533a(new unused regions). \u53ea\u5728\u5e74\u8f7b\u4ee3\u53d1\u751f\u65f6\u65e5\u5fd7\u4f1a\u8bb0\u5f55\u4e3a <code>[GC pause (young)]</code>. \u5982\u679c\u5728\u5e74\u8f7b\u4ee3\u548c\u8001\u5e74\u4ee3\u4e00\u8d77\u6267\u884c\u5219\u4f1a\u88ab\u65e5\u5fd7\u8bb0\u5f55\u4e3a <code>[GC Pause (mixed)]</code>. <p>G1\u8001\u5e74\u4ee3\u6536\u96c6\u6b65\u9aa4</p> <p>\u987a\u7740\u5b9a\u4e49\u7684\u9636\u6bb5,\u8ba9\u6211\u4eec\u770b\u770bG1\u6536\u96c6\u5668\u5982\u4f55\u5904\u7406\u8001\u5e74\u4ee3(old generation).</p> <p>6\u3001 \u521d\u59cb\u6807\u8bb0\u9636\u6bb5(Initial Marking Phase)</p> <p>\u5b58\u6d3b\u5bf9\u8c61\u7684\u521d\u59cb\u6807\u8bb0\u88ab\u56fa\u5b9a\u5728\u5e74\u8f7b\u4ee3\u5783\u573e\u6536\u96c6\u91cc\u9762. \u5728\u65e5\u5fd7\u4e2d\u88ab\u8bb0\u4e3a GC pause (young)(inital-mark)\u3002</p> <p>\u200b    </p> <p>7\u3001 \u5e76\u53d1\u6807\u8bb0\u9636\u6bb5(Concurrent Marking Phase)</p> <p>\u5982\u679c\u627e\u5230\u7a7a\u7684\u533a\u57df(\u5982\u7528\u7ea2\u53c9\u201cX\u201d\u6807\u793a\u7684\u533a\u57df), \u5219\u4f1a\u5728 Remark \u9636\u6bb5\u7acb\u5373\u79fb\u9664. \u5f53\u7136,\u201d\u6e05\u5355(accounting)\u201d\u4fe1\u606f\u51b3\u5b9a\u4e86\u6d3b\u8dc3\u5ea6(liveness)\u7684\u8ba1\u7b97.</p> <p>\u200b    </p> <p>8\u3001 \u518d\u6b21\u6807\u8bb0\u9636\u6bb5(Remark Phase)</p> <p>\u7a7a\u7684\u533a\u57df\u88ab\u79fb\u9664\u5e76\u56de\u6536\u3002\u73b0\u5728\u8ba1\u7b97\u6240\u6709\u533a\u57df\u7684\u6d3b\u8dc3\u5ea6(Region liveness).</p> <p>\u200b    </p> <p>9\u3001 \u62f7\u8d1d/\u6e05\u7406\u9636\u6bb5(Copying/Cleanup)</p> <p>G1\u9009\u62e9\u201c\u6d3b\u8dc3\u5ea6(liveness)\u201d\u6700\u4f4e\u7684\u533a\u57df, \u8fd9\u4e9b\u533a\u57df\u53ef\u4ee5\u6700\u5feb\u7684\u5b8c\u6210\u56de\u6536. \u7136\u540e\u8fd9\u4e9b\u533a\u57df\u548c\u5e74\u8f7b\u4ee3GC\u5728\u540c\u65f6\u88ab\u5783\u573e\u6536\u96c6 . \u5728\u65e5\u5fd7\u88ab\u6807\u8bc6\u4e3a [GC pause (mixed)]. \u6240\u4ee5\u5e74\u8f7b\u4ee3\u548c\u8001\u5e74\u4ee3\u90fd\u5728\u540c\u4e00\u65f6\u95f4\u88ab\u5783\u573e\u6536\u96c6.</p> <p>\u200b    </p> <p>10\u3001\u62f7\u8d1d/\u6e05\u7406\u4e4b\u540e(After Copying/Cleanup)</p> <p>\u6240\u9009\u62e9\u7684\u533a\u57df\u88ab\u6536\u96c6\u548c\u538b\u7f29\u5230\u4e0b\u56fe\u6240\u793a\u7684\u6df1\u84dd\u8272\u533a\u57df\u548c\u6df1\u7eff\u8272\u533a\u57df.</p> <p>\u200b    </p> <p>\u8001\u5e74\u4ee3GC(Old Generation GC)\u603b\u7ed3</p> <p>\u603b\u7ed3\u4e0b\u6765,G1\u5bf9\u8001\u5e74\u4ee3\u7684GC\u6709\u5982\u4e0b\u51e0\u4e2a\u5173\u952e\u70b9:</p> <ul> <li> <p>\u5e76\u53d1\u6807\u8bb0\u6e05\u7406\u9636\u6bb5(Concurrent Marking Phase)</p> </li> <li> <ul> <li>\u6d3b\u8dc3\u5ea6\u4fe1\u606f\u5728\u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u5019\u88ab\u5e76\u884c\u8ba1\u7b97\u51fa\u6765</li> </ul> </li> <li>\u6d3b\u8dc3\u5ea6(liveness)\u4fe1\u606f\u6807\u8bc6\u51fa\u54ea\u4e9b\u533a\u57df\u5728\u8f6c\u79fb\u6682\u505c\u671f\u95f4\u6700\u9002\u5408\u56de\u6536.</li> <li> <p>\u4e0d\u50cfCMS\u4e00\u6837\u6709\u6e05\u7406\u9636\u6bb5(sweeping phase).</p> </li> <li> <p>\u518d\u6b21\u6807\u8bb0\u9636\u6bb5(Remark Phase)</p> </li> <li> <ul> <li>\u4f7f\u7528\u7684 Snapshot-at-the-Beginning (SATB, \u5f00\u59cb\u5feb\u7167) \u7b97\u6cd5\u6bd4\u8d77 CMS\u6240\u7528\u7684\u7b97\u6cd5\u8981\u5feb\u5f97\u591a.</li> </ul> </li> <li> <p>\u5b8c\u5168\u7a7a\u7684\u533a\u57df\u76f4\u63a5\u88ab\u56de\u6536.</p> </li> <li> <p>\u62f7\u8d1d/\u6e05\u7406\u9636\u6bb5(Copying/Cleanup Phase)</p> </li> <li> <ul> <li>\u5e74\u8f7b\u4ee3\u4e0e\u8001\u5e74\u4ee3\u540c\u65f6\u8fdb\u884c\u56de\u6536.</li> </ul> </li> <li>\u8001\u5e74\u4ee3\u7684\u9009\u62e9\u57fa\u4e8e\u5176\u6d3b\u8dc3\u5ea6(liveness).</li> </ul>","tags":["java","g1"]},{"location":"2024/12/01/g1%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E8%BD%AC%E8%BD%BD/#\u547d\u4ee4\u884c\u53c2\u6570\u4e0e\u6700\u4f73\u5b9e\u8df5","title":"\u547d\u4ee4\u884c\u53c2\u6570\u4e0e\u6700\u4f73\u5b9e\u8df5","text":"","tags":["java","g1"]},{"location":"2024/12/01/g1%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E8%BD%AC%E8%BD%BD/#\u547d\u4ee4\u884c\u53c2\u6570\u4e0e\u6700\u4f73\u5b9e\u8df5_1","title":"\u547d\u4ee4\u884c\u53c2\u6570\u4e0e\u6700\u4f73\u5b9e\u8df5","text":"<p>\u5728\u672c\u8282\u4e2d,\u8ba9\u6211\u4eec\u770b\u770bG1\u7684\u5404\u79cd\u547d\u4ee4\u884c\u9009\u9879.</p> <p>\u547d\u4ee4\u884c\u57fa\u672c\u53c2\u6570</p> <p>\u8981\u542f\u7528 G1 \u6536\u96c6\u5668\u8bf7\u4f7f\u7528: -XX:+UseG1GC</p> <p>\u4e0b\u9762\u662f\u542f\u52a8 Java2Demo\u793a\u4f8b\u7a0b\u5e8f\u7684\u547d\u4ee4\u884c\u793a\u4f8b. Java2Demo\u4f4d\u4e8e\u4e0b\u8f7d JDK demos and samples \u540e\u89e3\u538b\u7684\u6587\u4ef6\u5939\u4e2d:</p> <p>java -Xmx50m -Xms50m -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -jar c:\\javademos\\demo\\jfc\\Java2D\\Java2demo.jar</p> <p>\u5173\u952e\u547d\u4ee4\u884c\u5f00\u5173</p> <p>-XX:+UseG1GC \u2013 \u8ba9 JVM \u4f7f\u7528 G1 \u5783\u573e\u6536\u96c6\u5668.</p> <p>-XX:MaxGCPauseMillis=200 \u2013 \u8bbe\u7f6e\u6700\u5927GC\u505c\u987f\u65f6\u95f4(GC pause time)\u6307\u6807(target). \u8fd9\u662f\u4e00\u4e2a\u8f6f\u6027\u6307\u6807(soft goal), JVM \u4f1a\u5c3d\u529b\u53bb\u8fbe\u6210\u8fd9\u4e2a\u76ee\u6807. \u6240\u4ee5\u6709\u65f6\u5019\u8fd9\u4e2a\u76ee\u6807\u5e76\u4e0d\u80fd\u8fbe\u6210. \u9ed8\u8ba4\u503c\u4e3a 200 \u6beb\u79d2.</p> <p>-XX:InitiatingHeapOccupancyPercent=45 \u2013 \u542f\u52a8\u5e76\u53d1GC\u65f6\u7684\u5806\u5185\u5b58\u5360\u7528\u767e\u5206\u6bd4. G1\u7528\u5b83\u6765\u89e6\u53d1\u5e76\u53d1GC\u5468\u671f,\u57fa\u4e8e\u6574\u4e2a\u5806\u7684\u4f7f\u7528\u7387,\u800c\u4e0d\u53ea\u662f\u67d0\u4e00\u4ee3\u5185\u5b58\u7684\u4f7f\u7528\u6bd4\u4f8b\u3002\u503c\u4e3a 0 \u5219\u8868\u793a\u201c\u4e00\u76f4\u6267\u884cGC\u5faa\u73af)\u2019. \u9ed8\u8ba4\u503c\u4e3a 45 (\u4f8b\u5982, \u5168\u90e8\u7684 45% \u6216\u8005\u4f7f\u7528\u4e8645%).</p> <p>\u6700\u4f73\u5b9e\u8df5</p> <p>\u5728\u4f7f\u7528 G1 \u4f5c\u4e3a\u5783\u573e\u6536\u96c6\u5668\u65f6,\u4f60\u5e94\u8be5\u9075\u5faa\u4e0b\u9762\u8fd9\u4e9b\u6700\u4f73\u5b9e\u8df5\u7684\u6307\u5bfc.</p> <p>\u4e0d\u8981\u8bbe\u7f6e\u5e74\u8f7b\u4ee3\u7684\u5927\u5c0f(Young Generation Size)</p> <p>\u5047\u82e5\u901a\u8fc7 -Xmn \u663e\u5f0f\u5730\u6307\u5b9a\u4e86\u5e74\u8f7b\u4ee3\u7684\u5927\u5c0f, \u5219\u4f1a\u5e72\u6270\u5230 G1\u6536\u96c6\u5668\u7684\u9ed8\u8ba4\u884c\u4e3a.</p> <ul> <li>G1\u5728\u5783\u573e\u6536\u96c6\u65f6\u5c06\u4e0d\u518d\u5173\u5fc3\u6682\u505c\u65f6\u95f4\u6307\u6807. \u6240\u4ee5\u4ece\u672c\u8d28\u4e0a\u8bf4,\u8bbe\u7f6e\u5e74\u8f7b\u4ee3\u7684\u5927\u5c0f\u5c06\u7981\u7528\u6682\u505c\u65f6\u95f4\u76ee\u6807.</li> <li>G1\u5728\u5fc5\u8981\u65f6\u4e5f\u4e0d\u80fd\u591f\u589e\u52a0\u6216\u8005\u7f29\u5c0f\u5e74\u8f7b\u4ee3\u7684\u7a7a\u95f4. \u56e0\u4e3a\u5927\u5c0f\u662f\u56fa\u5b9a\u7684,\u6240\u4ee5\u5bf9\u66f4\u6539\u5927\u5c0f\u65e0\u80fd\u4e3a\u529b.</li> </ul> <p>\u54cd\u5e94\u65f6\u95f4\u6307\u6807(Response Time Metrics)</p> <p>\u8bbe\u7f6e XX:MaxGCPauseMillis= \u65f6\u4e0d\u5e94\u8be5\u4f7f\u7528\u5e73\u5747\u54cd\u5e94\u65f6\u95f4(ART, average response time) \u4f5c\u4e3a\u6307\u6807,\u800c\u5e94\u8be5\u8003\u8651\u4f7f\u7528\u76ee\u6807\u65f6\u95f4\u768490%\u6216\u8005\u66f4\u5927\u4f5c\u4e3a\u54cd\u5e94\u65f6\u95f4\u6307\u6807. \u4e5f\u5c31\u662f\u8bf490%\u7684\u7528\u6237(\u5ba2\u6237\u7aef/?)\u8bf7\u6c42\u54cd\u5e94\u65f6\u95f4\u4e0d\u4f1a\u8d85\u8fc7\u9884\u8bbe\u7684\u76ee\u6807\u503c. \u8bb0\u4f4f,\u6682\u505c\u65f6\u95f4\u53ea\u662f\u4e00\u4e2a\u76ee\u6807,\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u603b\u662f\u5f97\u5230\u6ee1\u8db3.</p> <p>\u4ec0\u4e48\u662f\u8f6c\u79fb\u5931\u8d25(Evacuation Failure)?</p> <p>\u5bf9 survivors \u6216 promoted objects \u8fdb\u884cGC\u65f6\u5982\u679cJVM\u7684heap\u533a\u4e0d\u8db3\u5c31\u4f1a\u53d1\u751f\u63d0\u5347\u5931\u8d25(promotion failure). \u5806\u5185\u5b58\u4e0d\u80fd\u7ee7\u7eed\u6269\u5145,\u56e0\u4e3a\u5df2\u7ecf\u8fbe\u5230\u6700\u5927\u503c\u4e86. \u5f53\u4f7f\u7528 -XX:+PrintGCDetails \u65f6\u5c06\u4f1a\u5728GC\u65e5\u5fd7\u4e2d\u663e\u793a to-space overflow (to-\u7a7a\u95f4\u6ea2\u51fa)\u3002</p> <p>\u8fd9\u662f\u5f88\u6602\u8d35\u7684\u64cd\u4f5c!</p> <ul> <li>GC\u4ecd\u7ee7\u7eed\u6240\u4ee5\u7a7a\u95f4\u5fc5\u987b\u88ab\u91ca\u653e.</li> <li>\u62f7\u8d1d\u5931\u8d25\u7684\u5bf9\u8c61\u5fc5\u987b\u88ab\u653e\u5230\u6b63\u786e\u7684\u4f4d\u7f6e(tenured in place).</li> <li>CSet\u6307\u5411\u533a\u57df\u4e2d\u7684\u4efb\u4f55 RSets \u66f4\u65b0\u90fd\u5fc5\u987b\u91cd\u65b0\u751f\u6210(regenerated).</li> <li>\u6240\u6709\u8fd9\u4e9b\u6b65\u9aa4\u90fd\u662f\u4ee3\u4ef7\u9ad8\u6602\u7684.</li> </ul> <p>\u5982\u4f55\u907f\u514d\u8f6c\u79fb\u5931\u8d25(Evacuation Failure)</p> <p>\u8981\u907f\u514d\u907f\u514d\u8f6c\u79fb\u5931\u8d25, \u8003\u8651\u91c7\u7eb3\u4e0b\u5217\u9009\u9879.</p> <ul> <li> <p>\u589e\u52a0\u5806\u5185\u5b58\u5927\u5c0f</p> </li> <li> <ul> <li>\u589e\u52a0 -XX:G1ReservePercent=n, \u5176\u9ed8\u8ba4\u503c\u662f 10.</li> </ul> </li> <li> <p>G1\u521b\u5efa\u4e86\u4e00\u4e2a\u5047\u5929\u82b1\u677f(false ceiling),\u5728\u9700\u8981\u66f4\u5927 \u2018to-space\u2019 \u7684\u60c5\u51b5\u4e0b\u4f1a\u5c1d\u8bd5\u4ece\u4fdd\u7559\u5185\u5b58\u83b7\u53d6(leave the reserve memory free).</p> </li> <li> <p>\u66f4\u65e9\u542f\u52a8\u6807\u8bb0\u5468\u671f(marking cycle)</p> </li> <li> <p>\u901a\u8fc7\u91c7\u7528 -XX:ConcGCThreads=n \u9009\u9879\u589e\u52a0\u6807\u8bb0\u7ebf\u7a0b(marking threads)\u7684\u6570\u91cf.</p> </li> </ul> <p>G1 \u7684 GC \u53c2\u6570\u5b8c\u5168\u5217\u8868</p> <p>\u4e0b\u9762\u662f\u5b8c\u6574\u7684 G1 \u7684 GC \u5f00\u5173\u53c2\u6570\u5217\u8868. \u5728\u4f7f\u7528\u65f6\u8bf7\u8bb0\u4f4f\u4e0a\u9762\u6240\u8ff0\u7684\u6700\u4f73\u5b9e\u8df5.</p> \u9009\u9879/\u9ed8\u8ba4\u503c \u8bf4\u660e -XX:+UseG1GC \u4f7f\u7528 G1 (Garbage First) \u5783\u573e\u6536\u96c6\u5668 -XX:MaxGCPauseMillis=n \u8bbe\u7f6e\u6700\u5927GC\u505c\u987f\u65f6\u95f4(GC pause time)\u6307\u6807(target). \u8fd9\u662f\u4e00\u4e2a\u8f6f\u6027\u6307\u6807(soft goal), JVM \u4f1a\u5c3d\u91cf\u53bb\u8fbe\u6210\u8fd9\u4e2a\u76ee\u6807. -XX:InitiatingHeapOccupancyPercent=n \u542f\u52a8\u5e76\u53d1GC\u5468\u671f\u65f6\u7684\u5806\u5185\u5b58\u5360\u7528\u767e\u5206\u6bd4. G1\u4e4b\u7c7b\u7684\u5783\u573e\u6536\u96c6\u5668\u7528\u5b83\u6765\u89e6\u53d1\u5e76\u53d1GC\u5468\u671f,\u57fa\u4e8e\u6574\u4e2a\u5806\u7684\u4f7f\u7528\u7387,\u800c\u4e0d\u53ea\u662f\u67d0\u4e00\u4ee3\u5185\u5b58\u7684\u4f7f\u7528\u6bd4. \u503c\u4e3a 0 \u5219\u8868\u793a\u201d\u4e00\u76f4\u6267\u884cGC\u5faa\u73af\u201d. \u9ed8\u8ba4\u503c\u4e3a 45. -XX:NewRatio=n \u65b0\u751f\u4ee3\u4e0e\u8001\u751f\u4ee3(new/old generation)\u7684\u5927\u5c0f\u6bd4\u4f8b(Ratio). \u9ed8\u8ba4\u503c\u4e3a 2. -XX:SurvivorRatio=n eden/survivor \u7a7a\u95f4\u5927\u5c0f\u7684\u6bd4\u4f8b(Ratio). \u9ed8\u8ba4\u503c\u4e3a 8. -XX:MaxTenuringThreshold=n \u63d0\u5347\u5e74\u8001\u4ee3\u7684\u6700\u5927\u4e34\u754c\u503c(tenuring threshold). \u9ed8\u8ba4\u503c\u4e3a 15. -XX:ParallelGCThreads=n \u8bbe\u7f6e\u5783\u573e\u6536\u96c6\u5668\u5728\u5e76\u884c\u9636\u6bb5\u4f7f\u7528\u7684\u7ebf\u7a0b\u6570,\u9ed8\u8ba4\u503c\u968fJVM\u8fd0\u884c\u7684\u5e73\u53f0\u4e0d\u540c\u800c\u4e0d\u540c. -XX:ConcGCThreads=n \u5e76\u53d1\u5783\u573e\u6536\u96c6\u5668\u4f7f\u7528\u7684\u7ebf\u7a0b\u6570\u91cf. \u9ed8\u8ba4\u503c\u968fJVM\u8fd0\u884c\u7684\u5e73\u53f0\u4e0d\u540c\u800c\u4e0d\u540c. -XX:G1ReservePercent=n \u8bbe\u7f6e\u5806\u5185\u5b58\u4fdd\u7559\u4e3a\u5047\u5929\u82b1\u677f\u7684\u603b\u91cf,\u4ee5\u964d\u4f4e\u63d0\u5347\u5931\u8d25\u7684\u53ef\u80fd\u6027. \u9ed8\u8ba4\u503c\u662f 10. -XX:G1HeapRegionSize=n \u4f7f\u7528G1\u65f6Java\u5806\u4f1a\u88ab\u5206\u4e3a\u5927\u5c0f\u7edf\u4e00\u7684\u7684\u533a(region)\u3002\u6b64\u53c2\u6570\u53ef\u4ee5\u6307\u5b9a\u6bcf\u4e2aheap\u533a\u7684\u5927\u5c0f. \u9ed8\u8ba4\u503c\u5c06\u6839\u636e heap size \u7b97\u51fa\u6700\u4f18\u89e3. \u6700\u5c0f\u503c\u4e3a 1Mb, \u6700\u5927\u503c\u4e3a 32Mb.","tags":["java","g1"]},{"location":"2024/12/01/g1%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E8%BD%AC%E8%BD%BD/#\u8bb0\u5f55g1\u7684gc\u65e5\u5fd7","title":"\u8bb0\u5f55G1\u7684GC\u65e5\u5fd7","text":"","tags":["java","g1"]},{"location":"2024/12/01/g1%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E8%BD%AC%E8%BD%BD/#\u8bb0\u5f55g1\u7684gc\u65e5\u5fd7_1","title":"\u8bb0\u5f55G1\u7684GC\u65e5\u5fd7","text":"<p>\u6211\u4eec\u8981\u4ecb\u7ecd\u7684\u6700\u540e\u4e00\u4e2a\u4e3b\u9898\u662f\u4f7f\u7528\u65e5\u5fd7\u4fe1\u606f\u6765\u5206\u4eabG1\u6536\u96c6\u5668\u7684\u6027\u80fd. \u672c\u8282\u7b80\u8981\u4ecb\u7ecd\u5783\u573e\u6536\u96c6\u7684\u76f8\u5173\u53c2\u6570,\u4ee5\u53ca\u65e5\u5fd7\u4e2d\u6253\u5370\u7684\u76f8\u5173\u4fe1\u606f.</p> <p>\u8bbe\u7f6e\u65e5\u5fd7\u7ec6\u8282(Log Detail)</p> <p>\u53ef\u4ee5\u8bbe\u7f6e3\u79cd\u4e0d\u540c\u7684\u65e5\u5fd7\u7ea7\u522b.</p> <p>(1) -verbosegc (\u7b49\u4ef7\u4e8e -XX:+PrintGC) \u8bbe\u7f6e\u65e5\u5fd7\u7ea7\u522b\u4e3a \u597d fine.</p> <p>\u65e5\u5fd7\u8f93\u51fa\u793a\u4f8b</p> <pre><code>[GC pause (G1 Humongous Allocation) (young) (initial-mark) 24M- &gt;21M(64M), 0.2349730 secs] \n[GC pause (G1 Evacuation Pause) (mixed) 66M-&gt;21M(236M), 0.1625268 secs]                  \n</code></pre> <p>(2) -XX:+PrintGCDetails \u8bbe\u7f6e\u65e5\u5fd7\u7ea7\u522b\u4e3a \u66f4\u597d finer. \u4f7f\u7528\u6b64\u9009\u9879\u4f1a\u663e\u793a\u4ee5\u4e0b\u4fe1\u606f:</p> <ul> <li>\u6bcf\u4e2a\u9636\u6bb5\u7684 Average, Min, \u4ee5\u53ca Max \u65f6\u95f4.</li> <li>\u6839\u626b\u63cf(Root Scan), RSet \u66f4\u65b0(\u540c\u65f6\u5904\u7406\u7f13\u51b2\u533a\u4fe1\u606f), RSet\u626b\u63cf(Scan), \u5bf9\u8c61\u62f7\u8d1d(Object Copy), \u7ec8\u6b62(Termination, \u5305\u62ec\u5c1d\u8bd5\u6b21\u6570).</li> <li>\u8fd8\u663e\u793a \u201cother\u201d \u6267\u884c\u65f6\u95f4, \u6bd4\u5982\u9009\u62e9 CSet, \u5f15\u7528\u5904\u7406(reference processing), \u5f15\u7528\u6392\u961f(reference enqueuing) \u4ee5\u53ca\u91ca\u653e(freeing) CSet\u7b49.</li> <li>\u663e\u793a Eden, Survivors \u4ee5\u53ca\u603b\u7684 Heap \u5360\u7528\u4fe1\u606f(occupancies).</li> </ul> <p>\u65e5\u5fd7\u8f93\u51fa\u793a\u4f8b</p> <pre><code>[Ext Root Scanning (ms): Avg: 1.7 Min: 0.0 Max: 3.7 Diff: 3.7] \n[Eden: 818M(818M)-&gt;0B(714M) Survivors: 0B-&gt;104M Heap: 836M(4096M)-&gt;409M(4096M)]    \n</code></pre> <p>\u200b          </p> <p>(3) -XX:+UnlockExperimentalVMOptions -XX:G1LogLevel=finest \u8bbe\u7f6e\u65e5\u5fd7\u7ea7\u522b\u4e3a \u6700\u597d finest. \u548c finer \u7ea7\u522b\u7c7b\u4f3c, \u5305\u542b\u6bcf\u4e2a worker \u7ebf\u7a0b\u4fe1\u606f.</p> <pre><code>[Ext Root Scanning (ms): 2.1 2.4 2.0 0.0           \n            Avg: 1.6 Min: 0.0 Max: 2.4 Diff: 2.3]       \n[Update RS (ms):  0.4  0.2  0.4  0.0           \n             Avg: 0.2 Min: 0.0 Max: 0.4 Diff: 0.4]           \n[Processed Buffers : 5 1 10 0          \n             Sum: 16, Avg: 4, Min: 0, Max: 10, Diff: 10] \n</code></pre> <p>\u200b            </p> <p>Determining Time</p> <p>\u6709\u4e24\u4e2a\u53c2\u6570\u51b3\u5b9a\u4e86GC\u65e5\u5fd7\u4e2d\u6253\u5370\u7684\u65f6\u95f4\u663e\u793a\u5f62\u5f0f.</p> <p>(1) -XX:+PrintGCTimeStamps \u2013 \u663e\u793a\u4eceJVM\u542f\u52a8\u65f6\u7b97\u8d77\u7684\u8fd0\u884c\u65f6\u95f4.</p> <p>\u65e5\u5fd7\u8f93\u51fa\u793a\u4f8b</p> <pre><code>1.729: [GC pause (young) 46M-&gt;35M(1332M), 0.0310029 secs]  \n</code></pre> <p>(2) -XX:+PrintGCDateStamps \u2013 \u5728\u6bcf\u6761\u8bb0\u5f55\u524d\u52a0\u4e0a\u65e5\u671f\u65f6\u95f4.</p> <p>\u65e5\u5fd7\u8f93\u51fa\u793a\u4f8b</p> <pre><code>2012-05-02T11:16:32.057+0200: [GC pause (young) 46M-&gt;35M(1332M), 0.0317225 secs]     \n</code></pre> <p>\u7406\u89e3 G1 \u65e5\u5fd7</p> <p>\u4e3a\u4e86\u4f7f\u4f60\u66f4\u597d\u5730\u7406\u89e3GC\u65e5\u5fd7, \u672c\u8282\u901a\u8fc7\u5b9e\u9645\u7684\u65e5\u5fd7\u8f93\u51fa\uff0c\u5b9a\u4e49\u4e86\u8bb8\u591a\u4e13\u4e1a\u672f\u8bed. \u4e0b\u9762\u7684\u4f8b\u5b50\u663e\u793a\u4e86GC\u65e5\u5fd7\u7684\u5185\u5bb9,\u5e76\u52a0\u4e0a\u65e5\u5fd7\u4e2d\u51fa\u73b0\u7684\u672f\u8bed\u548c\u503c\u7684\u89e3\u91ca\u8bf4\u660e.</p> <p>Note: \u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u8003 Poonam Bajaj\u7684\u535a\u5ba2\uff1a G1\u5783\u573e\u56de\u6536\u65e5\u5fd7.</p> <p>G1 \u65e5\u5fd7\u76f8\u5173\u672f\u8bed</p> <ul> <li>Clear CT</li> <li>CSet</li> <li>External Root Scanning</li> <li>Free CSet</li> <li>GC Worker End</li> <li>GC Worker Other</li> <li>Object Copy</li> <li>Other</li> <li>Parallel Time</li> <li>Ref Eng</li> <li>Ref Proc</li> <li>Scanning Remembered Sets</li> <li>Termination Time</li> <li>Update Remembered Set</li> <li>Worker Start</li> </ul> <p>Parallel Time(\u5e76\u884c\u9636\u6bb5\u8017\u65f6)</p> <pre><code>414.557: [GC pause (young), 0.03039600 secs] [Parallel Time: 22.9 ms] \n[GC Worker Start (ms): 7096.0 7096.0 7096.1 7096.1 706.1 7096.1 7096.1 7096.1 7096.2 7096.2 7096.2 7096.2       \n                    Avg: 7096.1, Min: 7096.0, Max: 7096.2, Diff: 0.2]              \n</code></pre> <p>Parallel Time \u2013 \u4e3b\u8981\u5e76\u884c\u90e8\u5206\u8fd0\u884c\u505c\u987f\u7684\u6574\u4f53\u65f6\u95f4</p> <p>Worker Start \u2013 \u5404\u4e2a\u5de5\u4f5c\u7ebf\u7a0b(workers)\u542f\u52a8\u65f6\u7684\u65f6\u95f4\u6233(Timestamp)</p> <p>Note: \u65e5\u5fd7\u662f\u6839\u636e thread id \u6392\u5e8f,\u5e76\u4e14\u6bcf\u6761\u8bb0\u5f55\u90fd\u662f\u4e00\u81f4\u7684.</p> <p>External Root Scanning(\u5916\u90e8\u6839\u626b\u63cf)</p> <pre><code>[Ext Root Scanning (ms): 3.1 3.4 3.4 3.0 4.2 2.0 3.6 3.2 3.4 7.7 3.7 4.4     \n    Avg: 3.8, Min: 2.0, Max: 7.7, Diff: 5.7]  \n</code></pre> <p>External root scanning - \u626b\u63cf\u5916\u90e8\u6839\u82b1\u8d39\u7684\u65f6\u95f4(\u5982\u6307\u5411\u5806\u5185\u5b58\u7684\u7cfb\u7edf\u8bcd\u5178(system dictionary)\u7b49\u90e8\u5206)</p> <p>Update Remembered Set(\u66f4\u65b0 RSet)</p> <pre><code> [Update RS (ms): 0.1 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 Avg: 0.0, Min: 0.0, Max: 0.1, Diff: 0.1]  \n [Processed Buffers : 26 0 0 0 0 0 0 0 0 0 0 0    \n Sum: 26, Avg: 2, Min: 0, Max: 26, Diff: 26]   \n</code></pre> <p>\u200b           </p> <p>Update Remembered Set - \u5fc5\u987b\u66f4\u65b0\u5728pause\u4e4b\u524d\u5df2\u7ecf\u5b8c\u6210\u4f46\u5c1a\u672a\u5904\u7406\u7684\u7f13\u51b2. \u82b1\u8d39\u7684\u65f6\u95f4\u53d6\u51b3\u4e8ecards\u7684\u5bc6\u5ea6\u3002cards\u8d8a\u591a,\u8017\u8d39\u7684\u65f6\u95f4\u5c31\u8d8a\u957f\u3002</p> <p>Scanning Remembered Sets(\u626b\u63cf RSets)</p> <pre><code>[Scan RS (ms): 0.4 0.2 0.1 0.3 0.0 0.0 0.1 0.2 0.0 0.1 0.0 0.0 Avg: 0.1, Min: 0.0, Max: 0.4, Diff: 0.3]F     \n</code></pre> <p>Scanning Remembered Sets - \u67e5\u627e\u6307\u5411 Collection Set \u7684\u6307\u9488(pointers)</p> <p>Object Copy(\u5bf9\u8c61\u62f7\u8d1d)</p> <pre><code>  [Object Copy (ms): 16.7 16.7 16.7 16.9 16.0 18.1 16.5 16.8 16.7 12.3 16.4 15.7 Avg: 16.3, Min: 12.3, Max:  18.1, Diff: 5.8]     \n</code></pre> <p>Object copy \u2013 \u6bcf\u4e2a\u72ec\u7acb\u7684\u7ebf\u7a0b\u5728\u62f7\u8d1d\u548c\u8f6c\u79fb\u5bf9\u8c61\u65f6\u6240\u6d88\u8017\u7684\u65f6\u95f4.</p> <p>Termination Time(\u7ed3\u675f\u65f6\u95f4)</p> <pre><code> [Termination (ms): 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 \n Avg: 0.0, Min: 0.0, Max: 0.0, Diff: 0.0] [Termination Attempts : 1 1 1 1 1 1 1 1 1 1 1 1 Sum: 12, Avg: 1, Min: 1, Max: 1, Diff: 0]     \n</code></pre> <p>\u200b         </p> <p>Termination time - \u5f53worker\u7ebf\u7a0b\u5b8c\u6210\u4e86\u81ea\u5df1\u90a3\u90e8\u5206\u5bf9\u8c61\u7684\u590d\u5236\u548c\u626b\u63cf,\u5c31\u8fdb\u5165\u7ec8\u6b62\u534f\u8bae(termination protocol)\u3002\u5b83\u67e5\u627e\u672a\u5b8c\u6210\u7684\u5de5\u4f5c(looks for work to steal), \u4e00\u65e6\u5b83\u5b8c\u6210\u5c31\u4f1a\u518d\u8fdb\u5165\u7ec8\u6b62\u534f\u8bae\u3002 \u7ec8\u6b62\u5c1d\u8bd5\u8bb0\u5f55(Termination attempt counts)\u6240\u6709\u67e5\u627e\u5de5\u4f5c\u7684\u5c1d\u8bd5\u6b21\u6570(attempts to steal work).</p> <p>GC Worker End</p> <pre><code> [GC Worker End (ms): 7116.4 7116.3 7116.4 7116.3 7116.4 7116.3 7116.4 7116.4 7116.4 7116.4 7116.3 7116.3    \n Avg: 7116.4, Min: 7116.3, Max: 7116.4, Diff:   0.1] \n [GC Worker (ms): 20.4 20.3 20.3 20.2 20.3 20.2 20.2 20.2 20.3 20.2 20.1 20.1     \n Avg: 20.2, Min: 20.1, Max: 20.4, Diff: 0.3]     \n</code></pre> <p>\u200b       </p> <p>GC worker end time \u2013 \u72ec\u7acb\u7684 GC worker \u505c\u6b62\u65f6\u7684\u65f6\u95f4\u6233.</p> <p>GC worker time \u2013 \u6bcf\u4e2a\u72ec\u7acb\u7684 GC worker \u7ebf\u7a0b\u6d88\u8017\u7684\u65f6\u95f4.</p> <p>GC Worker Other</p> <pre><code>[GC Worker Other (ms): 2.6 2.6 2.7 2.7 2.7 2.7 2.7 2.8 2.8 2.8 2.8 2.8    \nAvg: 2.7, Min: 2.6, Max: 2.8, Diff: 0.2]  \n</code></pre> <p>GC worker other \u2013 \u6bcf\u4e2aGC\u7ebf\u7a0b\u4e2d\u4e0d\u80fd\u5f52\u5c5e\u5230\u4e4b\u524d\u5217\u51fa\u7684worker\u9636\u6bb5\u7684\u5176\u4ed6\u65f6\u95f4. \u8fd9\u4e2a\u503c\u5e94\u8be5\u5f88\u4f4e. \u8fc7\u53bb\u6211\u4eec\u89c1\u8fc7\u5f88\u9ad8\u7684\u503c,\u662f\u7531\u4e8eJVM\u7684\u5176\u4ed6\u90e8\u5206\u7684\u74f6\u9888\u5f15\u8d77\u7684(\u4f8b\u5982\u5728\u5206\u5c42[Tiered]\u4ee3\u7801\u7f13\u5b58[Code Cache]\u5360\u6709\u7387\u7684\u589e\u52a0)\u3002</p> <p>Clear CT</p> <pre><code>[Clear CT: 0.6 ms] \n</code></pre> <p>\u200b             </p> <p>\u6e05\u9664 RSet \u626b\u63cf\u5143\u6570\u636e(scanning meta-data)\u7684 card table \u6d88\u8017\u7684\u65f6\u95f4.</p> <p>Other</p> <pre><code>[Other: 6.8 ms]     \n</code></pre> <p>\u5176\u4ed6\u5404\u79cdGC\u6682\u505c\u7684\u8fde\u7eed\u9636\u6bb5\u82b1\u8d39\u7684\u65f6\u95f4.</p> <p>CSet</p> <pre><code>[Choose CSet: 0.1 ms]                        \n</code></pre> <p>\u6572\u5b9a\u8981\u8fdb\u884c\u5783\u573e\u56de\u6536\u7684region\u96c6\u5408\u65f6\u6d88\u8017\u7684\u65f6\u95f4. \u901a\u5e38\u5f88\u5c0f,\u5728\u5fc5\u987b\u9009\u62e9 old \u533a\u65f6\u4f1a\u7a0d\u5fae\u957f\u4e00\u70b9\u70b9.</p> <p>Ref Proc</p> <pre><code>[Ref Proc: 4.4 ms]                          \n</code></pre> <p>\u5904\u7406 soft, weak, \u7b49\u5f15\u7528\u6240\u82b1\u8d39\u7684\u65f6\u95f4,\u4e0d\u540c\u4e8e\u524d\u9762\u7684GC\u9636\u6bb5</p> <p>Ref Enq</p> <pre><code> [Ref Enq: 0.1 ms]                   \n</code></pre> <p>\u5c06 soft, weak, \u7b49\u5f15\u7528\u653e\u7f6e\u5230\u5f85\u5904\u7406\u5217\u8868(pending list)\u82b1\u8d39\u7684\u65f6\u95f4.</p> <p>Free CSet</p> <pre><code> [Free CSet: 2.0 ms]                       \n</code></pre> <p>\u91ca\u653e\u521a\u88ab\u5783\u573e\u6536\u96c6\u7684 heap\u533a\u6240\u6d88\u8017\u7684\u65f6\u95f4,\u5305\u62ec\u5bf9\u5e94\u7684remembered sets\u3002</p>","tags":["java","g1"]},{"location":"2024/12/01/g1%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E8%BD%AC%E8%BD%BD/#\u603b\u7ed3","title":"\u603b\u7ed3","text":"<p>\u5728\u6b64OBE\u4e2d, \u60a8\u5bf9Java JVM \u4e2d\u7684G1\u5783\u573e\u6536\u96c6\u5668\u6709\u4e86\u4e2a\u5927\u81f4\u7684\u4e86\u89e3\u3002\u9996\u5148\u4f60\u5b66\u5230\u4e86\u4e3a\u4f55\u5806\u548c\u5783\u573e\u6536\u96c6\u5668\u662f\u6240\u6709Java JVM\u7684\u5173\u952e\u90e8\u5206\u3002\u63a5\u4e0b\u6765\u8bb2\u8ff0\u4e86\u4f7f\u7528CMS\u548cG1\u6536\u96c6\u5668\u8fdb\u884c\u5783\u573e\u56de\u6536\u7684\u5de5\u4f5c\u65b9\u5f0f. \u63a5\u4e0b\u6765,\u60a8\u4e86\u89e3\u4e86G1\u7684\u547d\u4ee4\u884c\u53c2\u6570/\u5f00\u5173\u4ee5\u53ca\u548c\u4f7f\u7528\u5b83\u4eec\u7684\u6700\u4f73\u5b9e\u8df5\u3002\u6700\u540e,\u60a8\u4e86\u89e3\u4e86\u65e5\u5fd7\u5bf9\u8c61\u4ee5\u53caGC\u65e5\u5fd7\u4e2d\u7684\u6570\u636e\u3002</p> <p>\u5728\u672c\u6559\u7a0b\u4e2d,\u4f60\u5b66\u5230\u4e86\u8fd9\u4e9b\u77e5\u8bc6:</p> <ul> <li>Java JVM \u7684\u7ec4\u6210\u90e8\u5206</li> <li>\u5bf9 G1 \u7684\u6982\u8ff0</li> <li>\u6982\u8ff0 CMS \u5783\u573e\u6536\u96c6\u5668</li> <li>\u6982\u8ff0 G1 \u5783\u573e\u6536\u96c6\u5668</li> <li>\u547d\u4ee4\u884c\u53c2\u6570\u4e0e\u6700\u4f73\u5b9e\u8df5</li> <li>G1 \u7684\u65e5\u5fd7\u4fe1\u606f</li> </ul>","tags":["java","g1"]},{"location":"2024/12/01/http%E7%8A%B6%E6%80%81%E7%A0%81/","title":"HTTP\u72b6\u6001\u7801","text":"","tags":["http"]},{"location":"2024/12/01/http%E7%8A%B6%E6%80%81%E7%A0%81/#\u4e00http\u72b6\u6001\u7801","title":"\u4e00\u3001HTTP\u72b6\u6001\u7801","text":"<p>\u7528\u6237\u8bd5\u56fe\u901a\u8fc7 HTTP \u6216\u6587\u4ef6\u4f20\u8f93\u534f\u8bae (FTP) \u8bbf\u95ee\u4e00\u53f0\u6b63\u5728\u8fd0\u884c Internet \u4fe1\u606f\u670d\u52a1 (IIS) \u7684\u670d\u52a1\u5668\u4e0a\u7684\u5185\u5bb9\u65f6\uff0cIIS \u8fd4\u56de\u4e00\u4e2a\u8868\u793a\u8be5\u8bf7\u6c42\u7684\u72b6\u6001\u7684\u6570\u5b57\u4ee3\u7801\u3002\u8be5\u72b6\u6001\u4ee3\u7801\u8bb0\u5f55\u5728 IIS \u65e5\u5fd7\u4e2d\uff0c\u540c\u65f6\u4e5f\u53ef\u80fd\u5728 Web \u6d4f\u89c8\u5668\u6216 FTP \u5ba2\u6237\u7aef\u663e\u793a\u3002\u72b6\u6001\u4ee3\u7801\u53ef\u4ee5\u6307\u660e\u5177\u4f53\u8bf7\u6c42\u662f\u5426\u5df2\u6210\u529f\uff0c\u8fd8\u53ef\u4ee5\u63ed\u793a\u8bf7\u6c42\u5931\u8d25\u7684\u786e\u5207\u539f\u56e0\u3002</p>","tags":["http"]},{"location":"2024/12/01/http%E7%8A%B6%E6%80%81%E7%A0%81/#\u4e8c\u5e38\u89c1\u9519\u8bef\u7801","title":"\u4e8c\u3001\u5e38\u89c1\u9519\u8bef\u7801","text":"<p>200 - \u670d\u52a1\u5668\u6210\u529f\u8fd4\u56de\u7f51\u9875\uff0c\u5ba2\u6237\u7aef\u8bf7\u6c42\u5df2\u6210\u529f\u3002 </p> <p>401 - \u672a\u6388\u6743\u3002\u8bf7\u6c42\u8981\u6c42\u8eab\u4efd\u9a8c\u8bc1\u3002 \u5bf9\u4e8e\u9700\u8981\u767b\u5f55\u7684\u7f51\u9875\uff0c\u670d\u52a1\u5668\u53ef\u80fd\u8fd4\u56de\u6b64\u54cd\u5e94\u3002 </p> <p>404 - \u672a\u627e\u5230\u3002\u670d\u52a1\u5668\u627e\u4e0d\u5230\u8bf7\u6c42\u7684\u7f51\u9875\u3002 500 - \u670d\u52a1\u4e0d\u53ef\u7528</p>","tags":["http"]},{"location":"2024/12/01/http%E7%8A%B6%E6%80%81%E7%A0%81/#\u4e09\u5206\u7c7b","title":"\u4e09\u3001\u5206\u7c7b","text":"","tags":["http"]},{"location":"2024/12/01/http%E7%8A%B6%E6%80%81%E7%A0%81/#1xx\u4e34\u65f6\u54cd\u5e94-\u8868\u793a\u4e34\u65f6\u54cd\u5e94\u5e76\u9700\u8981\u8bf7\u6c42\u8005\u7ee7\u7eed\u6267\u884c\u64cd\u4f5c\u7684\u72b6\u6001\u4ee3\u7801","title":"1xx\uff08\u4e34\u65f6\u54cd\u5e94\uff09 \u8868\u793a\u4e34\u65f6\u54cd\u5e94\u5e76\u9700\u8981\u8bf7\u6c42\u8005\u7ee7\u7eed\u6267\u884c\u64cd\u4f5c\u7684\u72b6\u6001\u4ee3\u7801\u3002","text":"<p>100 \uff08\u7ee7\u7eed\uff09 \u8bf7\u6c42\u8005\u5e94\u5f53\u7ee7\u7eed\u63d0\u51fa\u8bf7\u6c42\u3002\u670d\u52a1\u5668\u8fd4\u56de\u6b64\u4ee3\u7801\u8868\u793a\u5df2\u6536\u5230\u8bf7\u6c42\u7684\u7b2c\u4e00\u90e8\u5206\uff0c\u6b63\u5728\u7b49\u5f85\u5176\u4f59\u90e8\u5206\u3002 </p> <p>101 \uff08\u5207\u6362\u534f\u8bae\uff09 \u8bf7\u6c42\u8005\u5df2\u8981\u6c42\u670d\u52a1\u5668\u5207\u6362\u534f\u8bae\uff0c\u670d\u52a1\u5668\u5df2\u786e\u8ba4\u5e76\u51c6\u5907\u5207\u6362\u3002</p>","tags":["http"]},{"location":"2024/12/01/http%E7%8A%B6%E6%80%81%E7%A0%81/#2xx-\u6210\u529f-\u8868\u793a\u6210\u529f\u5904\u7406\u4e86\u8bf7\u6c42\u7684\u72b6\u6001\u4ee3\u7801","title":"2xx \uff08\u6210\u529f\uff09 \u8868\u793a\u6210\u529f\u5904\u7406\u4e86\u8bf7\u6c42\u7684\u72b6\u6001\u4ee3\u7801\u3002","text":"<p>200 \uff08\u6210\u529f\uff09 \u670d\u52a1\u5668\u5df2\u6210\u529f\u5904\u7406\u4e86\u8bf7\u6c42\u3002\u901a\u5e38\uff0c\u8fd9\u8868\u793a\u670d\u52a1\u5668\u63d0\u4f9b\u4e86\u8bf7\u6c42\u7684\u7f51\u9875\u3002</p> <p>201 \uff08\u5df2\u521b\u5efa\uff09 \u8bf7\u6c42\u6210\u529f\u5e76\u4e14\u670d\u52a1\u5668\u521b\u5efa\u4e86\u65b0\u7684\u8d44\u6e90\u3002</p> <p>202 \uff08\u5df2\u63a5\u53d7\uff09 \u670d\u52a1\u5668\u5df2\u63a5\u53d7\u8bf7\u6c42\uff0c\u4f46\u5c1a\u672a\u5904\u7406\u3002</p> <p>203 \uff08\u975e\u6388\u6743\u4fe1\u606f\uff09 \u670d\u52a1\u5668\u5df2\u6210\u529f\u5904\u7406\u4e86\u8bf7\u6c42\uff0c\u4f46\u8fd4\u56de\u7684\u4fe1\u606f\u53ef\u80fd\u6765\u81ea\u53e6\u4e00\u6765\u6e90\u3002</p> <p>204 \uff08\u65e0\u5185\u5bb9\uff09 \u670d\u52a1\u5668\u6210\u529f\u5904\u7406\u4e86\u8bf7\u6c42\uff0c\u4f46\u6ca1\u6709\u8fd4\u56de\u4efb\u4f55\u5185\u5bb9\u3002</p> <p>205 \uff08\u91cd\u7f6e\u5185\u5bb9\uff09 \u670d\u52a1\u5668\u6210\u529f\u5904\u7406\u4e86\u8bf7\u6c42\uff0c\u4f46\u6ca1\u6709\u8fd4\u56de\u4efb\u4f55\u5185\u5bb9\u3002</p> <p>206 \uff08\u90e8\u5206\u5185\u5bb9\uff09 \u670d\u52a1\u5668\u6210\u529f\u5904\u7406\u4e86\u90e8\u5206 GET \u8bf7\u6c42\u3002</p>","tags":["http"]},{"location":"2024/12/01/http%E7%8A%B6%E6%80%81%E7%A0%81/#3xx-\u91cd\u5b9a\u5411-\u8868\u793a\u8981\u5b8c\u6210\u8bf7\u6c42\u9700\u8981\u8fdb\u4e00\u6b65\u64cd\u4f5c-\u901a\u5e38\u8fd9\u4e9b\u72b6\u6001\u4ee3\u7801\u7528\u6765\u91cd\u5b9a\u5411","title":"3xx \uff08\u91cd\u5b9a\u5411\uff09 \u8868\u793a\u8981\u5b8c\u6210\u8bf7\u6c42\uff0c\u9700\u8981\u8fdb\u4e00\u6b65\u64cd\u4f5c\u3002 \u901a\u5e38\uff0c\u8fd9\u4e9b\u72b6\u6001\u4ee3\u7801\u7528\u6765\u91cd\u5b9a\u5411\u3002","text":"<p>300 \uff08\u591a\u79cd\u9009\u62e9\uff09 \u9488\u5bf9\u8bf7\u6c42\uff0c\u670d\u52a1\u5668\u53ef\u6267\u884c\u591a\u79cd\u64cd\u4f5c\u3002\u670d\u52a1\u5668\u53ef\u6839\u636e\u8bf7\u6c42\u8005 (user agent) \u9009\u62e9\u4e00\u9879\u64cd\u4f5c\uff0c\u6216\u63d0\u4f9b\u64cd\u4f5c\u5217\u8868\u4f9b\u8bf7\u6c42\u8005\u9009\u62e9\u3002</p> <p>301 \uff08\u6c38\u4e45\u79fb\u52a8\uff09 \u8bf7\u6c42\u7684\u7f51\u9875\u5df2\u6c38\u4e45\u79fb\u52a8\u5230\u65b0\u4f4d\u7f6e\u3002\u670d\u52a1\u5668\u8fd4\u56de\u6b64\u54cd\u5e94\uff08\u5bf9 GET \u6216 HEAD \u8bf7\u6c42\u7684\u54cd\u5e94\uff09\u65f6\uff0c\u4f1a\u81ea\u52a8\u5c06\u8bf7\u6c42\u8005\u8f6c\u5230\u65b0\u4f4d\u7f6e\u3002</p> <p>302 \uff08\u4e34\u65f6\u79fb\u52a8\uff09 \u670d\u52a1\u5668\u76ee\u524d\u4ece\u4e0d\u540c\u4f4d\u7f6e\u7684\u7f51\u9875\u54cd\u5e94\u8bf7\u6c42\uff0c\u4f46\u8bf7\u6c42\u8005\u5e94\u7ee7\u7eed\u4f7f\u7528\u539f\u6709\u4f4d\u7f6e\u6765\u8fdb\u884c\u4ee5\u540e\u7684\u8bf7\u6c42\u3002</p> <p>303 \uff08\u67e5\u770b\u5176\u4ed6\u4f4d\u7f6e\uff09 \u8bf7\u6c42\u8005\u5e94\u5f53\u5bf9\u4e0d\u540c\u7684\u4f4d\u7f6e\u4f7f\u7528\u5355\u72ec\u7684 GET \u8bf7\u6c42\u6765\u68c0\u7d22\u54cd\u5e94\u65f6\uff0c\u670d\u52a1\u5668\u8fd4\u56de\u6b64\u4ee3\u7801\u3002</p> <p>304 \uff08\u672a\u4fee\u6539\uff09 \u81ea\u4ece\u4e0a\u6b21\u8bf7\u6c42\u540e\uff0c\u8bf7\u6c42\u7684\u7f51\u9875\u672a\u4fee\u6539\u8fc7\u3002\u670d\u52a1\u5668\u8fd4\u56de\u6b64\u54cd\u5e94\u65f6\uff0c\u4e0d\u4f1a\u8fd4\u56de\u7f51\u9875\u5185\u5bb9\u3002</p> <p>305 \uff08\u4f7f\u7528\u4ee3\u7406\uff09 \u8bf7\u6c42\u8005\u53ea\u80fd\u4f7f\u7528\u4ee3\u7406\u8bbf\u95ee\u8bf7\u6c42\u7684\u7f51\u9875\u3002\u5982\u679c\u670d\u52a1\u5668\u8fd4\u56de\u6b64\u54cd\u5e94\uff0c\u8fd8\u8868\u793a\u8bf7\u6c42\u8005\u5e94\u4f7f\u7528\u4ee3\u7406\u3002</p> <p>307 \uff08\u4e34\u65f6\u91cd\u5b9a\u5411\uff09 \u670d\u52a1\u5668\u76ee\u524d\u4ece\u4e0d\u540c\u4f4d\u7f6e\u7684\u7f51\u9875\u54cd\u5e94\u8bf7\u6c42\uff0c\u4f46\u8bf7\u6c42\u8005\u5e94\u7ee7\u7eed\u4f7f\u7528\u539f\u6709\u4f4d\u7f6e\u6765\u8fdb\u884c\u4ee5\u540e\u7684\u8bf7\u6c42\u3002</p>","tags":["http"]},{"location":"2024/12/01/http%E7%8A%B6%E6%80%81%E7%A0%81/#4xx\u8bf7\u6c42\u9519\u8bef-\u8fd9\u4e9b\u72b6\u6001\u4ee3\u7801\u8868\u793a\u8bf7\u6c42\u53ef\u80fd\u51fa\u9519\u59a8\u788d\u4e86\u670d\u52a1\u5668\u7684\u5904\u7406","title":"4xx\uff08\u8bf7\u6c42\u9519\u8bef\uff09 \u8fd9\u4e9b\u72b6\u6001\u4ee3\u7801\u8868\u793a\u8bf7\u6c42\u53ef\u80fd\u51fa\u9519\uff0c\u59a8\u788d\u4e86\u670d\u52a1\u5668\u7684\u5904\u7406\u3002\u2018","text":"<p>400 \uff08\u9519\u8bef\u8bf7\u6c42\uff09 \u670d\u52a1\u5668\u4e0d\u7406\u89e3\u8bf7\u6c42\u7684\u8bed\u6cd5\u3002</p> <p>401 \uff08\u672a\u6388\u6743\uff09 \u8bf7\u6c42\u8981\u6c42\u8eab\u4efd\u9a8c\u8bc1\u3002 \u5bf9\u4e8e\u9700\u8981\u767b\u5f55\u7684\u7f51\u9875\uff0c\u670d\u52a1\u5668\u53ef\u80fd\u8fd4\u56de\u6b64\u54cd\u5e94\u3002</p> <p>403 \uff08\u7981\u6b62\uff09 \u670d\u52a1\u5668\u62d2\u7edd\u8bf7\u6c42\u3002</p> <p>404 \uff08\u672a\u627e\u5230\uff09 \u670d\u52a1\u5668\u627e\u4e0d\u5230\u8bf7\u6c42\u7684\u7f51\u9875\u3002</p> <p>405 \uff08\u65b9\u6cd5\u7981\u7528\uff09 \u7981\u7528\u8bf7\u6c42\u4e2d\u6307\u5b9a\u7684\u65b9\u6cd5\u3002</p> <p>406 \uff08\u4e0d\u63a5\u53d7\uff09 \u65e0\u6cd5\u4f7f\u7528\u8bf7\u6c42\u7684\u5185\u5bb9\u7279\u6027\u54cd\u5e94\u8bf7\u6c42\u7684\u7f51\u9875\u3002</p> <p>407 \uff08\u9700\u8981\u4ee3\u7406\u6388\u6743\uff09 \u6b64\u72b6\u6001\u4ee3\u7801\u4e0e 401\uff08\u672a\u6388\u6743\uff09\u7c7b\u4f3c\uff0c\u4f46\u6307\u5b9a\u8bf7\u6c42\u8005\u5e94\u5f53\u6388\u6743\u4f7f\u7528\u4ee3\u7406\u3002</p> <p>408 \uff08\u8bf7\u6c42\u8d85\u65f6\uff09 \u670d\u52a1\u5668\u7b49\u5019\u8bf7\u6c42\u65f6\u53d1\u751f\u8d85\u65f6\u3002</p> <p>409 \uff08\u51b2\u7a81\uff09 \u670d\u52a1\u5668\u5728\u5b8c\u6210\u8bf7\u6c42\u65f6\u53d1\u751f\u51b2\u7a81\u3002\u670d\u52a1\u5668\u5fc5\u987b\u5728\u54cd\u5e94\u4e2d\u5305\u542b\u6709\u5173\u51b2\u7a81\u7684\u4fe1\u606f\u3002</p> <p>410 \uff08\u5df2\u5220\u9664\uff09 \u5982\u679c\u8bf7\u6c42\u7684\u8d44\u6e90\u5df2\u6c38\u4e45\u5220\u9664\uff0c\u670d\u52a1\u5668\u5c31\u4f1a\u8fd4\u56de\u6b64\u54cd\u5e94\u3002</p> <p>411 \uff08\u9700\u8981\u6709\u6548\u957f\u5ea6\uff09 \u670d\u52a1\u5668\u4e0d\u63a5\u53d7\u4e0d\u542b\u6709\u6548\u5185\u5bb9\u957f\u5ea6\u6807\u5934\u5b57\u6bb5\u7684\u8bf7\u6c42\u3002</p> <p>412 \uff08\u672a\u6ee1\u8db3\u524d\u63d0\u6761\u4ef6\uff09 \u670d\u52a1\u5668\u672a\u6ee1\u8db3\u8bf7\u6c42\u8005\u5728\u8bf7\u6c42\u4e2d\u8bbe\u7f6e\u7684\u5176\u4e2d\u4e00\u4e2a\u524d\u63d0\u6761\u4ef6\u3002</p> <p>413 \uff08\u8bf7\u6c42\u5b9e\u4f53\u8fc7\u5927\uff09 \u670d\u52a1\u5668\u65e0\u6cd5\u5904\u7406\u8bf7\u6c42\uff0c\u56e0\u4e3a\u8bf7\u6c42\u5b9e\u4f53\u8fc7\u5927\uff0c\u8d85\u51fa\u670d\u52a1\u5668\u7684\u5904\u7406\u80fd\u529b\u3002</p> <p>414 \uff08\u8bf7\u6c42\u7684 URI \u8fc7\u957f\uff09 \u8bf7\u6c42\u7684 URI\uff08\u901a\u5e38\u4e3a\u7f51\u5740\uff09\u8fc7\u957f\uff0c\u670d\u52a1\u5668\u65e0\u6cd5\u5904\u7406\u3002</p> <p>415 \uff08\u4e0d\u652f\u6301\u7684\u5a92\u4f53\u7c7b\u578b\uff09 \u8bf7\u6c42\u7684\u683c\u5f0f\u4e0d\u53d7\u8bf7\u6c42\u9875\u9762\u7684\u652f\u6301\u3002</p> <p>416 \uff08\u8bf7\u6c42\u8303\u56f4\u4e0d\u7b26\u5408\u8981\u6c42\uff09 \u5982\u679c\u9875\u9762\u65e0\u6cd5\u63d0\u4f9b\u8bf7\u6c42\u7684\u8303\u56f4\uff0c\u5219\u670d\u52a1\u5668\u4f1a\u8fd4\u56de\u6b64\u72b6\u6001\u4ee3\u7801\u3002</p> <p>417 \uff08\u672a\u6ee1\u8db3\u671f\u671b\u503c\uff09 \u670d\u52a1\u5668\u672a\u6ee1\u8db3\u201d\u671f\u671b\u201d\u8bf7\u6c42\u6807\u5934\u5b57\u6bb5\u7684\u8981\u6c42\u3002</p>","tags":["http"]},{"location":"2024/12/01/http%E7%8A%B6%E6%80%81%E7%A0%81/#5xx\u670d\u52a1\u5668\u9519\u8bef-\u8fd9\u4e9b\u72b6\u6001\u4ee3\u7801\u8868\u793a\u670d\u52a1\u5668\u5728\u5c1d\u8bd5\u5904\u7406\u8bf7\u6c42\u65f6\u53d1\u751f\u5185\u90e8\u9519\u8bef-\u8fd9\u4e9b\u9519\u8bef\u53ef\u80fd\u662f\u670d\u52a1\u5668\u672c\u8eab\u7684\u9519\u8bef\u800c\u4e0d\u662f\u8bf7\u6c42\u51fa\u9519","title":"5xx\uff08\u670d\u52a1\u5668\u9519\u8bef\uff09 \u8fd9\u4e9b\u72b6\u6001\u4ee3\u7801\u8868\u793a\u670d\u52a1\u5668\u5728\u5c1d\u8bd5\u5904\u7406\u8bf7\u6c42\u65f6\u53d1\u751f\u5185\u90e8\u9519\u8bef\u3002 \u8fd9\u4e9b\u9519\u8bef\u53ef\u80fd\u662f\u670d\u52a1\u5668\u672c\u8eab\u7684\u9519\u8bef\uff0c\u800c\u4e0d\u662f\u8bf7\u6c42\u51fa\u9519\u3002","text":"<p>500 \uff08\u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef\uff09 \u670d\u52a1\u5668\u9047\u5230\u9519\u8bef\uff0c\u65e0\u6cd5\u5b8c\u6210\u8bf7\u6c42\u3002</p> <p>501 \uff08\u5c1a\u672a\u5b9e\u65bd\uff09 \u670d\u52a1\u5668\u4e0d\u5177\u5907\u5b8c\u6210\u8bf7\u6c42\u7684\u529f\u80fd\u3002\u4f8b\u5982\uff0c\u670d\u52a1\u5668\u65e0\u6cd5\u8bc6\u522b\u8bf7\u6c42\u65b9\u6cd5\u65f6\u53ef\u80fd\u4f1a\u8fd4\u56de\u6b64\u4ee3\u7801\u3002</p> <p>502 \uff08\u9519\u8bef\u7f51\u5173\uff09 \u670d\u52a1\u5668\u4f5c\u4e3a\u7f51\u5173\u6216\u4ee3\u7406\uff0c\u4ece\u4e0a\u6e38\u670d\u52a1\u5668\u6536\u5230\u65e0\u6548\u54cd\u5e94\u3002</p> <p>503 \uff08\u670d\u52a1\u4e0d\u53ef\u7528\uff09 \u670d\u52a1\u5668\u76ee\u524d\u65e0\u6cd5\u4f7f\u7528\uff08\u7531\u4e8e\u8d85\u8f7d\u6216\u505c\u673a\u7ef4\u62a4\uff09\u3002\u901a\u5e38\uff0c\u8fd9\u53ea\u662f\u6682\u65f6\u72b6\u6001\u3002</p> <p>504 \uff08\u7f51\u5173\u8d85\u65f6\uff09 \u670d\u52a1\u5668\u4f5c\u4e3a\u7f51\u5173\u6216\u4ee3\u7406\uff0c\u4f46\u662f\u6ca1\u6709\u53ca\u65f6\u4ece\u4e0a\u6e38\u670d\u52a1\u5668\u6536\u5230\u8bf7\u6c42\u3002</p> <p>505 \uff08HTTP \u7248\u672c\u4e0d\u53d7\u652f\u6301\uff09 \u670d\u52a1\u5668\u4e0d\u652f\u6301\u8bf7\u6c42\u4e2d\u6240\u7528\u7684 HTTP \u534f\u8bae\u7248\u672c\u3002</p>","tags":["http"]},{"location":"2024/12/01/http%E7%8A%B6%E6%80%81%E7%A0%81/#httpwatch\u72b6\u6001\u7801result","title":"HttpWatch\u72b6\u6001\u7801Result","text":"<p>200 - \u670d\u52a1\u5668\u6210\u529f\u8fd4\u56de\u7f51\u9875\uff0c\u5ba2\u6237\u7aef\u8bf7\u6c42\u5df2\u6210\u529f\u3002</p> <p>302 - \u5bf9\u8c61\u4e34\u65f6\u79fb\u52a8\u3002\u670d\u52a1\u5668\u76ee\u524d\u4ece\u4e0d\u540c\u4f4d\u7f6e\u7684\u7f51\u9875\u54cd\u5e94\u8bf7\u6c42\uff0c\u4f46\u8bf7\u6c42\u8005\u5e94\u7ee7\u7eed\u4f7f\u7528\u539f\u6709\u4f4d\u7f6e\u6765\u8fdb\u884c\u4ee5\u540e\u7684\u8bf7\u6c42\u3002</p> <p>304 - \u5c5e\u4e8e\u91cd\u5b9a\u5411\u3002\u81ea\u4e0a\u6b21\u8bf7\u6c42\u540e\uff0c\u8bf7\u6c42\u7684\u7f51\u9875\u672a\u4fee\u6539\u8fc7\u3002\u670d\u52a1\u5668\u8fd4\u56de\u6b64\u54cd\u5e94\u65f6\uff0c\u4e0d\u4f1a\u8fd4\u56de\u7f51\u9875\u5185\u5bb9\u3002</p> <p>401 - \u672a\u6388\u6743\u3002\u8bf7\u6c42\u8981\u6c42\u8eab\u4efd\u9a8c\u8bc1\u3002 \u5bf9\u4e8e\u9700\u8981\u767b\u5f55\u7684\u7f51\u9875\uff0c\u670d\u52a1\u5668\u53ef\u80fd\u8fd4\u56de\u6b64\u54cd\u5e94\u3002</p> <p>404 - \u672a\u627e\u5230\u3002\u670d\u52a1\u5668\u627e\u4e0d\u5230\u8bf7\u6c42\u7684\u7f51\u9875\u3002</p> <p>2xx - \u6210\u529f\u3002\u8868\u793a\u670d\u52a1\u5668\u6210\u529f\u5730\u63a5\u53d7\u4e86\u5ba2\u6237\u7aef\u8bf7\u6c42\u3002</p> <p>3xx - \u91cd\u5b9a\u5411\u3002\u8868\u793a\u8981\u5b8c\u6210\u8bf7\u6c42\uff0c\u9700\u8981\u8fdb\u4e00\u6b65\u64cd\u4f5c\u3002\u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u5fc5\u987b\u91c7\u53d6\u66f4\u591a\u64cd\u4f5c\u6765\u5b9e\u73b0\u8bf7\u6c42\u3002\u4f8b\u5982\uff0c\u6d4f\u89c8\u5668\u53ef\u80fd\u4e0d\u5f97\u4e0d\u8bf7\u6c42\u670d\u52a1\u5668\u4e0a\u7684\u4e0d\u540c\u7684\u9875\u9762\uff0c\u6216\u901a\u8fc7\u4ee3\u7406\u670d\u52a1\u5668\u91cd\u590d\u8be5\u8bf7\u6c42\u3002</p> <p>4xx - \u8bf7\u6c42\u9519\u8bef\u3002\u8fd9\u4e9b\u72b6\u6001\u4ee3\u7801\u8868\u793a\u8bf7\u6c42\u53ef\u80fd\u51fa\u9519\uff0c\u59a8\u788d\u4e86\u670d\u52a1\u5668\u7684\u5904\u7406\u3002</p> <p>5xx - \u670d\u52a1\u5668\u9519\u8bef\u3002\u8868\u793a\u670d\u52a1\u5668\u5728\u5c1d\u8bd5\u5904\u7406\u8bf7\u6c42\u65f6\u53d1\u751f\u5185\u90e8\u9519\u8bef\u3002 \u8fd9\u4e9b\u9519\u8bef\u53ef\u80fd\u662f\u670d\u52a1\u5668\u672c\u8eab\u7684\u9519\u8bef\uff0c\u800c\u4e0d\u662f\u8bf7\u6c42\u51fa\u9519\u3002</p>","tags":["http"]},{"location":"2024/11/25/jvm%E6%95%85%E9%9A%9C%E5%88%86%E6%9E%90%E5%8F%8A%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%B3%BB%E5%88%97%E4%B9%8B%E4%BA%8Cjstack%E7%94%9F%E6%88%90%E7%9A%84thread-dump%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84%E8%A7%A3%E6%9E%90%E8%BD%AC%E8%BD%BD/","title":"JVM\u6545\u969c\u5206\u6790\u53ca\u6027\u80fd\u4f18\u5316\u7cfb\u5217\u4e4b\u4e8c\uff1ajstack\u751f\u6210\u7684Thread Dump\u65e5\u5fd7\u7ed3\u6784\u89e3\u6790(\u8f6c\u8f7d)","text":"<p>\u4e00\u4e2a\u5178\u578b\u7684thread dump\u6587\u4ef6\u4e3b\u8981\u7531\u4e00\u4e0b\u51e0\u4e2a\u90e8\u5206\u7ec4\u6210\uff1a</p> <p></p> <p>\u4e0a\u56fe\u5c06JVM\u4e0a\u7684\u7ebf\u7a0b\u5806\u6808\u4fe1\u606f\u548c\u7ebf\u7a0b\u4fe1\u606f\u505a\u4e86\u8be6\u7ec6\u7684\u62c6\u89e3\u3002</p>","tags":["jvm","\u6027\u80fd\u4f18\u5316","jstack"]},{"location":"2024/11/25/jvm%E6%95%85%E9%9A%9C%E5%88%86%E6%9E%90%E5%8F%8A%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%B3%BB%E5%88%97%E4%B9%8B%E4%BA%8Cjstack%E7%94%9F%E6%88%90%E7%9A%84thread-dump%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84%E8%A7%A3%E6%9E%90%E8%BD%AC%E8%BD%BD/#\u7b2c\u4e00\u90e8\u5206full-thread-dump-identifier","title":"\u7b2c\u4e00\u90e8\u5206\uff1aFull thread dump identifier","text":"<p>\u8fd9\u4e00\u90e8\u5206\u662f\u5185\u5bb9\u6700\u5f00\u59cb\u7684\u90e8\u5206\uff0c\u5c55\u793a\u4e86\u5feb\u7167\u6587\u4ef6\u7684\u751f\u6210\u65f6\u95f4\u548cJVM\u7684\u7248\u672c\u4fe1\u606f\u3002</p> <pre><code>2017-10-19 10:46:44 Full thread dump Java HotSpot(TM) 64-Bit Server VM (24.79-b02 mixed mode): \n</code></pre>","tags":["jvm","\u6027\u80fd\u4f18\u5316","jstack"]},{"location":"2024/11/25/jvm%E6%95%85%E9%9A%9C%E5%88%86%E6%9E%90%E5%8F%8A%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%B3%BB%E5%88%97%E4%B9%8B%E4%BA%8Cjstack%E7%94%9F%E6%88%90%E7%9A%84thread-dump%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84%E8%A7%A3%E6%9E%90%E8%BD%AC%E8%BD%BD/#\u7b2c\u4e8c\u90e8\u5206java-ee-middleware-third-party--custom-application-threads","title":"\u7b2c\u4e8c\u90e8\u5206\uff1aJava EE middleware, third party &amp; custom application Threads","text":"<p>\u8fd9\u662f\u6574\u4e2a\u6587\u4ef6\u7684\u6838\u5fc3\u90e8\u5206\uff0c\u91cc\u9762\u5c55\u793a\u4e86JavaEE\u5bb9\u5668\uff08\u5982tomcat\u3001resin\u7b49\uff09\u3001\u81ea\u5df1\u7684\u7a0b\u5e8f\u4e2d\u6240\u4f7f\u7528\u7684\u7ebf\u7a0b\u4fe1\u606f\u3002\u8fd9\u4e00\u90e8\u5206\u8be6\u7ec6\u7684\u542b\u4e49\u89c1 Java\u5185\u5b58\u6cc4\u6f0f\u5206\u6790\u7cfb\u5217\u4e4b\u56db\uff1ajstack\u751f\u6210\u7684Thread Dump\u65e5\u5fd7\u7ebf\u7a0b\u72b6\u6001\u5206\u6790\u3002</p> <pre><code> \"resin-22129\" daemon prio=10 tid=0x00007fbe5c34e000 nid=0x4cb1 waiting on condition [0x00007fbe4ff7c000]   java.lang.Thread.State: WAITING (parking)    \n at sun.misc.Unsafe.park(Native Method)    \n at java.util.concurrent.locks.LockSupport.park(LockSupport.java:315)    \n at com.caucho.env.thread2.ResinThread2.park(ResinThread2.java:196)    \n at com.caucho.env.thread2.ResinThread2.runTasks(ResinThread2.java:147)    \n at com.caucho.env.thread2.ResinThread2.run(ResinThread2.java:118)   \n</code></pre> <p>\u200b           </p>","tags":["jvm","\u6027\u80fd\u4f18\u5316","jstack"]},{"location":"2024/11/25/jvm%E6%95%85%E9%9A%9C%E5%88%86%E6%9E%90%E5%8F%8A%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%B3%BB%E5%88%97%E4%B9%8B%E4%BA%8Cjstack%E7%94%9F%E6%88%90%E7%9A%84thread-dump%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84%E8%A7%A3%E6%9E%90%E8%BD%AC%E8%BD%BD/#\u7b2c\u4e09\u90e8\u5206hotspot-vm-thread","title":"\u7b2c\u4e09\u90e8\u5206\uff1aHotSpot VM Thread","text":"<p>\u8fd9\u4e00\u90e8\u5206\u5c55\u793a\u4e86JVM\u5185\u90e8\u7ebf\u7a0b\u7684\u4fe1\u606f\uff0c\u7528\u4e8e\u6267\u884c\u5185\u90e8\u7684\u539f\u751f\u64cd\u4f5c\u3002\u4e0b\u9762\u5e38\u89c1\u7684\u96c6\u4e2d\u5185\u7f6e\u7ebf\u7a0b\uff1a</p> <p>\"Attach Listener\"</p> <p>\u8be5\u7ebf\u7a0b\u8d1f\u8d23\u63a5\u6536\u5916\u90e8\u547d\u4ee4\uff0c\u6267\u884c\u8be5\u547d\u4ee4\u5e76\u628a\u7ed3\u679c\u8fd4\u56de\u7ed9\u8c03\u7528\u8005\uff0c\u6b64\u79cd\u7c7b\u578b\u7684\u7ebf\u7a0b\u901a\u5e38\u5728\u684c\u9762\u7a0b\u5e8f\u4e2d\u51fa\u73b0\u3002</p> <pre><code>\"Attach Listener\" daemon prio=5 tid=0x00007fc6b6800800 nid=0x3b07 waiting on condition [0x0000000000000000]   \njava.lang.Thread.State: RUNNABLE                         \n</code></pre> <p>\"DestroyJavaVM\"</p> <p>\u6267\u884cmain()\u7684\u7ebf\u7a0b\u5728\u6267\u884c\u5b8c\u4e4b\u540e\u8c03\u7528JNI\u4e2d\u7684 jni_DestroyJavaVM() \u65b9\u6cd5\u4f1a\u5524\u8d77DestroyJavaVM \u7ebf\u7a0b\u3002\u5728JBoss\u542f\u52a8\u4e4b\u540e\uff0c\u4e5f\u4f1a\u5524\u8d77DestroyJavaVM\u7ebf\u7a0b\uff0c\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\uff0c\u7b49\u5f85\u5176\u5b83\u7ebf\u7a0b\uff08java\u7ebf\u7a0b\u548cnative\u7ebf\u7a0b\uff09\u9000\u51fa\u65f6\u901a\u77e5\u5b83\u5378\u8f7dJVM\u3002</p> <pre><code> \"DestroyJavaVM\" prio=5 tid=0x00007fc6b3001000 nid=0x1903 waiting on condition [0x0000000000000000]   \n java.lang.Thread.State: RUNNABLE                            \n</code></pre> <p>\"Service Thread\"</p> <p>\u7528\u4e8e\u542f\u52a8\u670d\u52a1\u7684\u7ebf\u7a0b</p> <pre><code>\"Service Thread\" daemon prio=10 tid=0x00007fbea81b3000 nid=0x5f2 runnable [0x0000000000000000]   \njava.lang.Thread.State: RUNNABLE                              \n</code></pre> <p>\"CompilerThread\"</p> <p>\u7528\u6765\u8c03\u7528JITing\uff0c\u5b9e\u65f6\u7f16\u8bd1\u88c5\u5378CLASS\u3002\u901a\u5e38JVM\u4f1a\u542f\u52a8\u591a\u4e2a\u7ebf\u7a0b\u6765\u5904\u7406\u8fd9\u90e8\u5206\u5de5\u4f5c\uff0c\u7ebf\u7a0b\u540d\u79f0\u540e\u9762\u7684\u6570\u5b57\u4e5f\u4f1a\u7d2f\u52a0\uff0c\u6bd4\u5982CompilerThread1\u3002</p> <pre><code> \"C2 CompilerThread1\" daemon prio=10 tid=0x00007fbea814b000 nid=0x5f1 waiting on condition [0x0000000000000000]   java.lang.Thread.State: RUNNABLE \"C2 CompilerThread0\" daemon prio=10 tid=0x00007fbea8142000 nid=0x5f0 waiting on condition [0x0000000000000000]   \n java.lang.Thread.State: RUNNABLE                             \n</code></pre> <p>\"Signal Dispatcher\"</p> <p>Attach Listener\u7ebf\u7a0b\u7684\u804c\u8d23\u662f\u63a5\u6536\u5916\u90e8jvm\u547d\u4ee4\uff0c\u5f53\u547d\u4ee4\u63a5\u6536\u6210\u529f\u540e\uff0c\u4f1a\u4ea4\u7ed9signal dispather \u7ebf\u7a0b\u53bb\u8fdb\u884c\u5206\u53d1\u5230\u5404\u4e2a\u4e0d\u540c\u7684\u6a21\u5757\u5904\u7406\u547d\u4ee4\uff0c\u5e76\u4e14\u8fd4\u56de\u5904\u7406\u7ed3\u679c\u3002signal dispather\u7ebf\u7a0b\u4e5f\u662f\u5728\u7b2c\u4e00\u6b21\u63a5\u6536\u5916\u90e8jvm\u547d\u4ee4\u65f6\uff0c\u8fdb\u884c\u521d\u59cb\u5316\u5de5\u4f5c\u3002</p> <pre><code> \"Signal Dispatcher\" daemon prio=10 tid=0x00007fbea81bf800 nid=0x5ef runnable [0x0000000000000000]   \n java.lang.Thread.State: RUNNABLE                        \n</code></pre> <p>\"Finalizer\"</p> <p>\u8fd9\u4e2a\u7ebf\u7a0b\u4e5f\u662f\u5728main\u7ebf\u7a0b\u4e4b\u540e\u521b\u5efa\u7684\uff0c\u5176\u4f18\u5148\u7ea7\u4e3a10\uff0c\u4e3b\u8981\u7528\u4e8e\u5728\u5783\u573e\u6536\u96c6\u524d\uff0c\u8c03\u7528\u5bf9\u8c61\u7684finalize()\u65b9\u6cd5\uff1b\u5173\u4e8eFinalizer\u7ebf\u7a0b\u7684\u51e0\u70b9\uff1a\uff081\uff09\u53ea\u6709\u5f53\u5f00\u59cb\u4e00\u8f6e\u5783\u573e\u6536\u96c6\u65f6\uff0c\u624d\u4f1a\u5f00\u59cb\u8c03\u7528finalize()\u65b9\u6cd5\uff1b\u56e0\u6b64\u5e76\u4e0d\u662f\u6240\u6709\u5bf9\u8c61\u7684finalize()\u65b9\u6cd5\u90fd\u4f1a\u88ab\u6267\u884c\uff1b\uff082\uff09\u8be5\u7ebf\u7a0b\u4e5f\u662fdaemon\u7ebf\u7a0b\uff0c\u56e0\u6b64\u5982\u679c\u865a\u62df\u673a\u4e2d\u6ca1\u6709\u5176\u4ed6\u975edaemon\u7ebf\u7a0b\uff0c\u4e0d\u7ba1\u8be5\u7ebf\u7a0b\u6709\u6ca1\u6709\u6267\u884c\u5b8cfinalize()\u65b9\u6cd5\uff0cJVM\u4e5f\u4f1a\u9000\u51fa\uff1b\uff083\uff09JVM\u5728\u5783\u573e\u6536\u96c6\u65f6\u4f1a\u5c06\u5931\u53bb\u5f15\u7528\u7684\u5bf9\u8c61\u5305\u88c5\u6210Finalizer\u5bf9\u8c61\uff08Reference\u7684\u5b9e\u73b0\uff09\uff0c\u5e76\u653e\u5165ReferenceQueue\uff0c\u7531Finalizer\u7ebf\u7a0b\u6765\u5904\u7406\uff1b\u6700\u540e\u5c06\u8be5Finalizer\u5bf9\u8c61\u7684\u5f15\u7528\u7f6e\u4e3anull\uff0c\u7531\u5783\u573e\u6536\u96c6\u5668\u6765\u56de\u6536\uff1b\uff084\uff09JVM\u4e3a\u4ec0\u4e48\u8981\u5355\u72ec\u7528\u4e00\u4e2a\u7ebf\u7a0b\u6765\u6267\u884cfinalize()\u65b9\u6cd5\u5462\uff1f\u5982\u679cJVM\u7684\u5783\u573e\u6536\u96c6\u7ebf\u7a0b\u81ea\u5df1\u6765\u505a\uff0c\u5f88\u6709\u53ef\u80fd\u7531\u4e8e\u5728finalize()\u65b9\u6cd5\u4e2d\u8bef\u64cd\u4f5c\u5bfc\u81f4GC\u7ebf\u7a0b\u505c\u6b62\u6216\u4e0d\u53ef\u63a7\uff0c\u8fd9\u5bf9GC\u7ebf\u7a0b\u6765\u8bf4\u662f\u4e00\u79cd\u707e\u96be\u3002</p> <pre><code> \"Finalizer\" daemon prio=10 tid=0x00007fbea80da000 nid=0x5eb in Object.wait() [0x00007fbeac044000]  \n    java.lang.Thread.State: WAITING (on object monitor)    \n    at java.lang.Object.wait(Native Method)    \n    at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:135)    \n     - locked &lt;0x00000006d173c1a8&gt; (a java.lang.ref.ReferenceQueue$Lock)    \n     at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:151)    \n     at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:209)                             \n</code></pre> <p>\"Reference Handler\"</p> <p>JVM\u5728\u521b\u5efamain\u7ebf\u7a0b\u540e\u5c31\u521b\u5efaReference Handler\u7ebf\u7a0b\uff0c\u5176\u4f18\u5148\u7ea7\u6700\u9ad8\uff0c\u4e3a10\uff0c\u5b83\u4e3b\u8981\u7528\u4e8e\u5904\u7406\u5f15\u7528\u5bf9\u8c61\u672c\u8eab\uff08\u8f6f\u5f15\u7528\u3001\u5f31\u5f15\u7528\u3001\u865a\u5f15\u7528\uff09\u7684\u5783\u573e\u56de\u6536\u95ee\u9898 \u3002</p> <pre><code> \"Reference Handler\" daemon prio=10 tid=0x00007fbea80d8000 nid=0x5ea in Object.wait() [0x00007fbeac085000]   java.lang.Thread.State: WAITING (on object monitor)   \n   at java.lang.Object.wait(Native Method)    \n   at java.lang.Object.wait(Object.java:503)   \n    at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:133)    \n    - locked &lt;0x00000006d173c1f0&gt; (a java.lang.ref.Reference$Lock) \n</code></pre> <p>\u200b                           </p> <p>\"VM Thread\"</p> <p>JVM\u4e2d\u7ebf\u7a0b\u7684\u6bcd\u4f53\uff0c\u6839\u636eHotSpot\u6e90\u7801\u4e2d\u5173\u4e8evmThread.hpp\u91cc\u9762\u7684\u6ce8\u91ca\uff0c\u5b83\u662f\u4e00\u4e2a\u5355\u4f8b\u7684\u5bf9\u8c61\uff08\u6700\u539f\u59cb\u7684\u7ebf\u7a0b\uff09\u4f1a\u4ea7\u751f\u6216\u89e6\u53d1\u6240\u6709\u5176\u4ed6\u7684\u7ebf\u7a0b\uff0c\u8fd9\u4e2a\u5355\u4f8b\u7684VM\u7ebf\u7a0b\u662f\u4f1a\u88ab\u5176\u4ed6\u7ebf\u7a0b\u6240\u4f7f\u7528\u6765\u505a\u4e00\u4e9bVM\u64cd\u4f5c\uff08\u5982\u6e05\u626b\u5783\u573e\u7b49\uff09\u3002\u5728 VM Thread \u7684\u7ed3\u6784\u4f53\u91cc\u6709\u4e00\u4e2aVMOperationQueue\u5217\u961f\uff0c\u6240\u6709\u7684VM\u7ebf\u7a0b\u64cd\u4f5c(vm_operation)\u90fd\u4f1a\u88ab\u4fdd\u5b58\u5230\u8fd9\u4e2a\u5217\u961f\u5f53\u4e2d\uff0cVMThread \u672c\u8eab\u5c31\u662f\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u5b83\u7684\u7ebf\u7a0b\u8d1f\u8d23\u6267\u884c\u4e00\u4e2a\u81ea\u8f6e\u8be2\u7684loop\u51fd\u6570(\u5177\u4f53\u53ef\u4ee5\u53c2\u8003\uff1aVMThread.cpp\u91cc\u9762\u7684void VMThread::loop()) \uff0c\u8be5loop\u51fd\u6570\u4eceVMOperationQueue\u5217\u961f\u4e2d\u6309\u7167\u4f18\u5148\u7ea7\u53d6\u51fa\u5f53\u524d\u9700\u8981\u6267\u884c\u7684\u64cd\u4f5c\u5bf9\u8c61(VM_Operation)\uff0c\u5e76\u4e14\u8c03\u7528VM_Operation-&gt;evaluate\u51fd\u6570\u53bb\u6267\u884c\u8be5\u64cd\u4f5c\u7c7b\u578b\u672c\u8eab\u7684\u4e1a\u52a1\u903b\u8f91\u3002VM\u64cd\u4f5c\u7c7b\u578b\u88ab\u5b9a\u4e49\u5728vm_operations.hpp\u6587\u4ef6\u5185\uff0c\u5217\u4e3e\u51e0\u4e2a\uff1aThreadStop\u3001ThreadDump\u3001PrintThreads\u3001GenCollectFull\u3001GenCollectFullConcurrent\u3001CMS_Initial_Mark\u3001CMS_Final_Remark\u2026.. \u6709\u5174\u8da3\u7684\u540c\u5b66\uff0c\u53ef\u4ee5\u81ea\u5df1\u53bb\u67e5\u770b\u6e90\u6587\u4ef6\u3002</p> <pre><code>\"VM Thread\" prio=10 tid=0x00007fbea80d3800 nid=0x5e9 runnable                              \n</code></pre>","tags":["jvm","\u6027\u80fd\u4f18\u5316","jstack"]},{"location":"2024/11/25/jvm%E6%95%85%E9%9A%9C%E5%88%86%E6%9E%90%E5%8F%8A%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%B3%BB%E5%88%97%E4%B9%8B%E4%BA%8Cjstack%E7%94%9F%E6%88%90%E7%9A%84thread-dump%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84%E8%A7%A3%E6%9E%90%E8%BD%AC%E8%BD%BD/#\u7b2c\u56db\u90e8\u5206hotspot-gc-thread","title":"\u7b2c\u56db\u90e8\u5206\uff1aHotSpot GC Thread","text":"<p>JVM\u4e2d\u7528\u4e8e\u8fdb\u884c\u8d44\u6e90\u56de\u6536\u7684\u7ebf\u7a0b\uff0c\u5305\u62ec\u4ee5\u4e0b\u51e0\u79cd\u7c7b\u578b\u7684\u7ebf\u7a0b\uff1a</p> <p>\"VM Periodic Task Thread\"</p> <p>\u8be5\u7ebf\u7a0b\u662fJVM\u5468\u671f\u6027\u4efb\u52a1\u8c03\u5ea6\u7684\u7ebf\u7a0b\uff0c\u5b83\u7531WatcherThread\u521b\u5efa\uff0c\u662f\u4e00\u4e2a\u5355\u4f8b\u5bf9\u8c61\u3002\u8be5\u7ebf\u7a0b\u5728JVM\u5185\u4f7f\u7528\u5f97\u6bd4\u8f83\u9891\u7e41\uff0c\u6bd4\u5982\uff1a\u5b9a\u671f\u7684\u5185\u5b58\u76d1\u63a7\u3001JVM\u8fd0\u884c\u72b6\u51b5\u76d1\u63a7\u3002</p> <pre><code> \"VM Periodic Task Thread\" prio=10 tid=0x00007fbea82ae800 nid=0x5fa waiting on condition                            \n</code></pre> <p>\u53ef\u4ee5\u4f7f\u7528jstat \u547d\u4ee4\u67e5\u770bGC\u7684\u60c5\u51b5\uff0c\u6bd4\u5982\u67e5\u770b\u67d0\u4e2a\u8fdb\u7a0b\u6ca1\u6709\u5b58\u6d3b\u5fc5\u8981\u7684\u5f15\u7528\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4 jstat -gcutil  250 7 \u53c2\u6570\u4e2dpid\u662f\u8fdb\u7a0bid\uff0c\u540e\u9762\u7684250\u548c7\u8868\u793a\u6bcf250\u6beb\u79d2\u6253\u5370\u4e00\u6b21\uff0c\u603b\u5171\u6253\u53707\u6b21\u3002\u8fd9\u5bf9\u4e8e\u9632\u6b62\u56e0\u4e3a\u5e94\u7528\u4ee3\u7801\u4e2d\u76f4\u63a5\u4f7f\u7528native\u5e93\u6216\u8005\u7b2c\u4e09\u65b9\u7684\u4e00\u4e9b\u76d1\u63a7\u5de5\u5177\u7684\u5185\u5b58\u6cc4\u6f0f\u6709\u975e\u5e38\u5927\u7684\u5e2e\u52a9\u3002</p> <p>\"GC task thread#0 (ParallelGC)\"</p> <p>\u5783\u573e\u56de\u6536\u7ebf\u7a0b\uff0c\u8be5\u7ebf\u7a0b\u4f1a\u8d1f\u8d23\u8fdb\u884c\u5783\u573e\u56de\u6536\u3002\u901a\u5e38JVM\u4f1a\u542f\u52a8\u591a\u4e2a\u7ebf\u7a0b\u6765\u5904\u7406\u8fd9\u4e2a\u5de5\u4f5c\uff0c\u7ebf\u7a0b\u540d\u79f0\u4e2d#\u540e\u9762\u7684\u6570\u5b57\u4e5f\u4f1a\u7d2f\u52a0\u3002</p> <pre><code>\"GC task thread#0 (ParallelGC)\" prio=5 tid=0x00007fc6b480d000 nid=0x2503 runnable \n\"GC task thread#1 (ParallelGC)\" prio=5 tid=0x00007fc6b2812000 nid=0x2703 runnable \n\"GC task thread#2 (ParallelGC)\" prio=5 tid=0x00007fc6b2812800 nid=0x2903 runnable \n\"GC task thread#3 (ParallelGC)\" prio=5 tid=0x00007fc6b2813000 nid=0x2b03 runnable                              \n</code></pre> <p>\u5982\u679c\u5728JVM\u4e2d\u589e\u52a0\u4e86 -XX:+UseConcMarkSweepGC \u53c2\u6570\u5c06\u4f1a\u542f\u7528CMS \uff08Concurrent Mark-Sweep\uff09GC Thread\u65b9\u5f0f\uff0c\u4ee5\u4e0b\u662f\u8be5\u6a21\u5f0f\u4e0b\u7684\u7ebf\u7a0b\u7c7b\u578b\uff1a</p> <p>\"Gang worker#0 (Parallel GC Threads)\"</p> <p>\u539f\u6765\u5783\u573e\u56de\u6536\u7ebf\u7a0bGC task thread#0 (ParallelGC) \u88ab\u66ff\u6362\u4e3a Gang worker#0 (Parallel GC Threads)\u3002Gang worker \u662fJVM\u7528\u4e8e\u5e74\u8f7b\u4ee3\u5783\u573e\u56de\u6536(minor gc)\u7684\u7ebf\u7a0b\u3002</p> <pre><code> \"Gang worker#0 (Parallel GC Threads)\" prio=10 tid=0x00007fbea801b800 nid=0x5e4 runnable  \n \"Gang worker#1 (Parallel GC Threads)\" prio=10 tid=0x00007fbea801d800 nid=0x5e7 runnable                              \n</code></pre> <p>\"Concurrent Mark-Sweep GC Thread\"</p> <p>\u5e76\u53d1\u6807\u8bb0\u6e05\u9664\u5783\u573e\u56de\u6536\u5668\uff08\u5c31\u662f\u901a\u5e38\u6240\u8bf4\u7684CMS GC\uff09\u7ebf\u7a0b\uff0c \u8be5\u7ebf\u7a0b\u4e3b\u8981\u9488\u5bf9\u4e8e\u5e74\u8001\u4ee3\u5783\u573e\u56de\u6536\u3002</p> <pre><code> \"Concurrent Mark-Sweep GC Thread\" prio=10 tid=0x00007fbea8073800 nid=0x5e8 runnable \n</code></pre> <p>\u200b                             </p> <p>\"Surrogate Locker Thread (Concurrent GC)\"</p> <p>\u6b64\u7ebf\u7a0b\u4e3b\u8981\u914d\u5408CMS\u5783\u573e\u56de\u6536\u5668\u6765\u4f7f\u7528\uff0c\u662f\u4e00\u4e2a\u5b88\u62a4\u7ebf\u7a0b\uff0c\u4e3b\u8981\u8d1f\u8d23\u5904\u7406GC\u8fc7\u7a0b\u4e2dJava\u5c42\u7684Reference\uff08\u6307\u8f6f\u5f15\u7528\u3001\u5f31\u5f15\u7528\u7b49\u7b49\uff09\u4e0ejvm \u5185\u90e8\u5c42\u9762\u7684\u5bf9\u8c61\u72b6\u6001\u540c\u6b65\u3002</p> <pre><code> \"Surrogate Locker Thread (Concurrent GC)\" daemon prio=10 tid=0x00007fbea8158800 nid=0x5ee waiting on condition [0x0000000000000000]   \n java.lang.Thread.State: RUNNABLE                             \n</code></pre> <p>\u8fd9\u91cc\u4ee5 WeakHashMap \u4e3a\u4f8b\u8fdb\u884c\u8bf4\u660e\uff0c\u9996\u5148\u662f\u4e00\u4e2a\u5173\u952e\u70b9\uff1a</p> <ul> <li>WeakHashMap\u548cHashMap\u4e00\u6837\uff0c\u5185\u90e8\u6709\u4e00\u4e2aEntry[]\u6570\u7ec4;</li> <li>WeakHashMap\u7684Entry\u6bd4\u8f83\u7279\u6b8a\uff0c\u5b83\u7684\u7ee7\u627f\u4f53\u7cfb\u7ed3\u6784\u4e3aEntry-&gt;WeakReference-&gt;Reference;</li> <li>Reference \u91cc\u9762\u6709\u4e00\u4e2a\u5168\u5c40\u9501\u5bf9\u8c61\uff1aLock\uff0c\u5b83\u4e5f\u88ab\u79f0\u4e3apending_lock\uff0c\u6ce8\u610f\uff1a\u5b83\u662f\u9759\u6001\u5bf9\u8c61\uff1b</li> <li>Reference \u91cc\u9762\u6709\u4e00\u4e2a\u9759\u6001\u53d8\u91cf\uff1apending\uff1b</li> <li>Reference \u91cc\u9762\u6709\u4e00\u4e2a\u9759\u6001\u5185\u90e8\u7c7b\uff1aReferenceHandler\u7684\u7ebf\u7a0b\uff0c\u5b83\u5728static\u5757\u91cc\u9762\u88ab\u521d\u59cb\u5316\u5e76\u4e14\u542f\u52a8\uff0c\u542f\u52a8\u5b8c\u6210\u540e\u5904\u4e8ewait\u72b6\u6001\uff0c\u5b83\u5728\u4e00\u4e2aLock\u540c\u6b65\u9501\u6a21\u5757\u4e2d\u7b49\u5f85\uff1b</li> <li>WeakHashMap\u91cc\u9762\u8fd8\u5b9e\u4f8b\u5316\u4e86\u4e00\u4e2aReferenceQueue\u5217\u961f</li> </ul> <p>\u5047\u8bbe\uff0cWeakHashMap\u5bf9\u8c61\u91cc\u9762\u5df2\u7ecf\u4fdd\u5b58\u4e86\u5f88\u591a\u5bf9\u8c61\u7684\u5f15\u7528\uff0cJVM \u5728\u8fdb\u884cCMS GC\u7684\u65f6\u5019\u4f1a\u521b\u5efa\u4e00\u4e2aConcurrentMarkSweepThread\uff08\u7b80\u79f0CMST\uff09\u7ebf\u7a0b\u53bb\u8fdb\u884cGC\u3002ConcurrentMarkSweepThread\u7ebf\u7a0b\u88ab\u521b\u5efa\u7684\u540c\u65f6\u4f1a\u521b\u5efa\u4e00\u4e2aSurrogateLockerThread\uff08\u7b80\u79f0SLT\uff09\u7ebf\u7a0b\u5e76\u4e14\u542f\u52a8\u5b83\uff0cSLT\u542f\u52a8\u4e4b\u540e\uff0c\u5904\u4e8e\u7b49\u5f85\u9636\u6bb5\u3002CMST\u5f00\u59cbGC\u65f6\uff0c\u4f1a\u53d1\u4e00\u4e2a\u6d88\u606f\u7ed9SLT\u8ba9\u5b83\u53bb\u83b7\u53d6Java\u5c42Reference\u5bf9\u8c61\u7684\u5168\u5c40\u9501\uff1aLock\u3002\u76f4\u5230CMS GC\u5b8c\u6bd5\u4e4b\u540e\uff0cJVM \u4f1a\u5c06WeakHashMap\u4e2d\u6240\u6709\u88ab\u56de\u6536\u7684\u5bf9\u8c61\u6240\u5c5e\u7684WeakReference\u5bb9\u5668\u5bf9\u8c61\u653e\u5165\u5230Reference \u7684pending\u5c5e\u6027\u5f53\u4e2d\uff08\u6bcf\u6b21GC\u5b8c\u6bd5\u4e4b\u540e\uff0cpending\u5c5e\u6027\u57fa\u672c\u4e0a\u90fd\u4e0d\u4f1a\u4e3anull\u4e86\uff09\uff0c\u7136\u540e\u901a\u77e5SLT\u91ca\u653e\u5e76\u4e14notify\u5168\u5c40\u9501:Lock\u3002\u6b64\u65f6\u6fc0\u6d3b\u4e86ReferenceHandler\u7ebf\u7a0b\u7684run\u65b9\u6cd5\uff0c\u4f7f\u5176\u8131\u79bbwait\u72b6\u6001\uff0c\u5f00\u59cb\u5de5\u4f5c\u4e86\u3002ReferenceHandler\u8fd9\u4e2a\u7ebf\u7a0b\u4f1a\u5c06pending\u4e2d\u7684\u6240\u6709WeakReference\u5bf9\u8c61\u90fd\u79fb\u52a8\u5230\u5b83\u4eec\u5404\u81ea\u7684\u5217\u961f\u5f53\u4e2d\uff0c\u6bd4\u5982\u5f53\u524d\u8fd9\u4e2aWeakReference\u5c5e\u4e8e\u67d0\u4e2aWeakHashMap\u5bf9\u8c61\uff0c\u90a3\u4e48\u5b83\u5c31\u4f1a\u88ab\u653e\u5165\u76f8\u5e94\u7684ReferenceQueue\u5217\u961f\u91cc\u9762\uff08\u8be5\u5217\u961f\u662f\u94fe\u8868\u7ed3\u6784\uff09\u3002 \u5f53\u6211\u4eec\u4e0b\u6b21\u4eceWeakHashMap\u5bf9\u8c61\u91cc\u9762get\u3001put\u6570\u636e\u6216\u8005\u8c03\u7528size\u65b9\u6cd5\u7684\u65f6\u5019\uff0cWeakHashMap\u5c31\u4f1a\u5c06ReferenceQueue\u5217\u961f\u4e2d\u7684WeakReference\u4f9d\u4f9dpoll\u51fa\u6765\u53bb\u548cEntry[]\u6570\u636e\u505a\u6bd4\u8f83\uff0c\u5982\u679c\u53d1\u73b0\u76f8\u540c\u7684\uff0c\u5219\u8bf4\u660e\u8fd9\u4e2aEntry\u6240\u4fdd\u5b58\u7684\u5bf9\u8c61\u5df2\u7ecf\u88abGC\u6389\u4e86\uff0c\u90a3\u4e48\u5c06Entry[]\u5185\u7684Entry\u5bf9\u8c61\u5254\u9664\u6389\u3002</p> <p>\u7b2c\u4e94\u90e8\u5206\uff1aJNI global references count</p> <p>\u8fd9\u4e00\u90e8\u5206\u4e3b\u8981\u56de\u6536\u90a3\u4e9b\u5728native\u4ee3\u7801\u4e0a\u88ab\u5f15\u7528\uff0c\u4f46\u5728java\u4ee3\u7801\u4e2d\u5374\u6ca1\u6709\u5b58\u6d3b\u5fc5\u8981\u7684\u5f15\u7528\uff0c\u5bf9\u4e8e\u9632\u6b62\u56e0\u4e3a\u5e94\u7528\u4ee3\u7801\u4e2d\u76f4\u63a5\u4f7f\u7528native\u5e93\u6216\u7b2c\u4e09\u65b9\u7684\u4e00\u4e9b\u76d1\u63a7\u5de5\u5177\u7684\u5185\u5b58\u6cc4\u6f0f\u6709\u975e\u5e38\u5927\u7684\u5e2e\u52a9\u3002</p> <pre><code> JNI global references: 830 \n</code></pre> <p>\u200b                            </p>","tags":["jvm","\u6027\u80fd\u4f18\u5316","jstack"]},{"location":"2024/05/21/%E7%99%BD%E5%AB%96githubpage%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%B8%80/","title":"\u767d\u5ad6GithubPage\u642d\u5efa\u81ea\u5df1\u7684\u535a\u5ba2!\uff08\u4e00\uff09","text":"<p>\u5229\u7528Mkdocs+Material+GithubPage+Github Action\u81ea\u52a8\u5316\u642d\u5efa\u4f60\u81ea\u5df1\u7684\u535a\u5ba2\uff01</p>","tags":["python","mkdocs","github"]},{"location":"2024/05/21/%E7%99%BD%E5%AB%96githubpage%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%B8%80/#\u4ec0\u4e48\u662fmkdocs","title":"\u4ec0\u4e48\u662fMkdocs","text":"<p>Write your documentation in Markdown and create a professional static site in minutes \u2013 searchable, customizable, in 60+ languages, for all devices.</p> <p>\u7528Markdown \u64b0\u5199\u6211\u4eec\u7684\u6587\u6863\uff0c\u901a\u8fc7Mkdocs\u6211\u4eec\u53ef\u4ee5\u5728\u51e0\u5206\u949f\u5185\u5b8c\u6210\u6784\u5efa\u4e00\u4e2a\u4e13\u4e1a\u7684\u9759\u6001\u7f51\u7ad9\u3002</p> <p>\u8fd9\u5c31\u5f88\u5389\u5bb3\u4e86\uff0c\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u6765\u770b\u770b\u600e\u4e48\u53bb\u4f7f\u7528Mkdocs</p>","tags":["python","mkdocs","github"]},{"location":"2024/05/21/%E7%99%BD%E5%AB%96githubpage%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%B8%80/#\u5b89\u88c5mkdocs","title":"\u5b89\u88c5Mkdocs","text":"<p>\u901a\u8fc7pip\u5b89\u88c5</p> <pre><code>$ pip install mkdocs-material\n</code></pre> <p>\u67e5\u770b\u7248\u672c</p> <pre><code>$ mkdocs -V\nmkdocs, version 1.5.2 from C:\\Python311\\Lib\\site-packages\\mkdocs (Python 3.11)\n</code></pre>","tags":["python","mkdocs","github"]},{"location":"2024/05/21/%E7%99%BD%E5%AB%96githubpage%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%B8%80/#\u521b\u5efa\u4f60\u7684\u7f51\u7ad9","title":"\u521b\u5efa\u4f60\u7684\u7f51\u7ad9","text":"<ul> <li> <p>\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\u5982my_site</p> </li> <li> <p>\u5207\u6362\u5230\u8fd9\u4e2a\u6587\u4ef6\u5939\u4e0b\uff0c\u901a\u8fc7cmd\u6216\u8005\u53f3\u952eGit Bash Here\uff0c\u6253\u5f00\u547d\u4ee4\u884c\u5de5\u5177</p> </li> <li> <p>\u8f93\u5165\u4ee5\u4e0b\u7684\u547d\u4ee4</p> </li> </ul> <pre><code>$ mkdocs new .\n</code></pre> <p>\u5c31\u4f1a\u518d\u5f53\u524d\u76ee\u5f55\u751f\u6210\u5982\u4e0b\u7ed3\u6784\u7684\u5185\u5bb9</p> <pre><code>.\n\u251c\u2500 docs/\n\u2502  \u2514\u2500 index.md\n\u2514\u2500 mkdocs.yml\n</code></pre> <ul> <li>\u7136\u540e\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u8fd0\u884c\u4f60\u7684\u7f51\u7ad9</li> </ul> <pre><code>$ mkdocs serve\nINFO    -  Building documentation...\nINFO    -  Cleaning site directory\nINFO    -  Documentation built in 0.06 seconds\nINFO    -  [14:51:49] Watching paths for changes: 'docs', 'mkdocs.yml'\nINFO    -  [14:51:49] Serving on http://127.0.0.1:8000/\nWARNING -  [14:51:59] \"GET /%E6%95%99%E7%A8%8B/mkdocs/ HTTP/1.1\" code 404\nINFO    -  [14:52:07] Browser connected: http://127.0.0.1:8000/\n</code></pre> <ul> <li>\u8bbf\u95ee\u4e0a\u9762\u8fd9\u4e2a\u7f51\u7ad9\uff0c\u4f60\u5c31\u53ef\u4ee5\u770b\u5230\u4f60\u7684\u7f51\u7ad9\u4e86</li> </ul> <p></p> <ul> <li> <p>\u8fd9\u4e2a\u65f6\u5019\uff0c\u4f60\u7684\u7f51\u7ad9\u5c31\u642d\u5efa\u5b8c\u6210\u4e86\uff0cdoc/index.md\u663e\u793a\u7684\u5185\u5bb9\u5c31\u662f\u4f60\u9996\u9875\u5c55\u793a\u7684\u5185\u5bb9</p> </li> <li> <p>\u7136\u540e\u4f60\u5c31\u4f1a\u89c9\u5f97\u8fd9\u4e2a\u7f51\u7ad9\u5f88\u4e11\uff0c\u4f60\u60f3\u8ba9\u4ed6\u53d8\u5f97\u6f02\u4eae\uff0c\u8fd9\u4e2a\u65f6\u5019\uff0c\u53ea\u8981\u505a\u4e2a\u7b80\u5355\u7684\u914d\u7f6e\uff0c\u4f60\u5c31\u53ef\u4ee5\u521b\u5efa\u51fa\u4e00\u4e2a\u826f\u597d\u4e3b\u9898\u7684mkdocs\u7f51\u7ad9</p> </li> </ul>","tags":["python","mkdocs","github"]},{"location":"2024/05/21/%E7%99%BD%E5%AB%96githubpage%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%B8%80/#\u914d\u7f6e\u4f60\u7684\u7f51\u7ad9","title":"\u914d\u7f6e\u4f60\u7684\u7f51\u7ad9","text":"<ul> <li>\u6253\u5f00my_site\u4e0b\u7684mkdocs.yml,\u53ea\u8981\u914d\u7f6e\u4e00\u53e5\u8bdd\uff0c\u65e2\u53ef\u4ee5\u914d\u7f6e\u5168\u65b0\u7684\u4e3b\u9898</li> </ul> <pre><code>theme:\n  name: material\n</code></pre> <ul> <li>\u91cd\u542f\u4f60\u7684\u670d\u52a1\uff0c\u4f60\u5c31\u80fd\u83b7\u5f97\u5168\u65b0\u7684\u4e3b\u9898</li> </ul> <ul> <li>\u8fd9\u4e2a\u65f6\u5019\uff0c\u4f60\u53ef\u80fd\u89c9\u5f97\u8fd8\u662f\u6361\u6f0f\uff0c\u8fd9\u4e2a\u65f6\u5019\uff0c\u4f60\u53ef\u4ee5\u53bbMaterial\u5b98\u7f51\uff0c\u67e5\u770b\u66f4\u591a\u7684\u914d\u7f6e\uff0c\u4f18\u5316\u4f60\u7684\u7ad9\u70b9</li> <li>\u6216\u8005\u53c2\u8003\u7684\u6211\u7684\u914d\u7f6e</li> </ul> <pre><code>#[Info]\nsite_name: leoalasiaga Docs   #\u7f51\u7ad9\u540d\u5b57\nsite_description: the notes record by leoalsiga\nsite_author: leoalasiaga #\u4f5c\u8005\u540d\nsite_url: https://leoalasiga.github.io/  #\u7f51\u7ad9\u5730\u5740\ncopyright: Copyright &amp;copy; 2023 leoalasiaga # \u5de6\u4e0b\u89d2\u7684\u7248\u6743\u58f0\u660e\n\n# [Navigtion]\nnav:\n  - Home: index.md\n  - Java: \n    - java/index.md\n    - \u8bbe\u8ba1\u6a21\u5f0f: java/\u8bbe\u8ba1\u6a21\u5f0f/index.md\n  - Dokcer:\n    - docker/index.md\n #   - Installation: guide/installation.md\n #   - Basics: guide/basics.md\n #   - Configuration: guide/config.md\n  - K8s:\n    - k8s/index.md\n  - \u6559\u7a0b:\n    - \u6559\u7a0b/mkdocs.md\n  - About: about.md\n\n#[UI]\ntheme:\n  name: material\n  language: zh # \u4e00\u4e9b\u63d0\u793a\u6027\u7684\u6587\u5b57\u4f1a\u53d8\u6210\u4e2d\u6587\n  font:\n    text: Roboto\n    code: Roboto Mono\n  features:\n    - header.autohide  #\u81ea\u52a8\u9690\u85cf\n    #- announce.dismiss #\u5448\u73b0\u53ef\u6807\u8bb0\u4e3a\u7531\u7528\u6237\u8bfb\u53d6\u7684\u4e34\u65f6\u516c\u544a\uff0c\u53ef\u4ee5\u5305\u542b\u4e00\u4e2a\u7528\u4e8e\u53d6\u6d88\u5f53\u524d\u516c\u544a\u7684\u6309\u94ae\n    - navigation.instant #\u81ea\u52a8\u9690\u85cf\n    - navigation.tracking #\u5730\u5740\u680f\u4e2d\u7684 URL \u5c06\u81ea\u52a8\u66f4\u65b0\u4e3a\u5728\u76ee\u5f55\u4e2d\u7a81\u51fa\u663e\u793a\u7684\u6d3b\u52a8\u951a\u70b9\n    - content.code.annotate\n    - toc.integrate\n    - toc.follow\n    - navigation.path\n    - navigation.top # \u8fd4\u56de\u9876\u90e8\u7684\u6309\u94ae \u5728\u4e0a\u6ed1\u65f6\u51fa\u73b0\n    - navigation.tabs\n    - navigation.prune\n    - navigation.footer\n    - navigation.tabs.sticky  #\u542f\u7528\u7c98\u6027\u9009\u9879\u5361\u540e\uff0c\u5bfc\u822a\u9009\u9879\u5361\u5c06\u9501\u5b9a\u5728\u6807\u9898\u4e0b\u65b9\uff0c\u5e76\u5728\u5411\u4e0b\u6eda\u52a8\u65f6\u59cb\u7ec8\u4fdd\u6301\u53ef\u89c1\n    - navigation.sections #\u542f\u7528\u90e8\u5206\u540e\uff0c\u9876\u7ea7\u90e8\u5206\u5728\u8fb9\u680f\u4e2d\u5448\u73b0\u4e3a1220px\u4ee5\u4e0a\u89c6\u53e3\u7684\u7ec4\uff0c\u4f46\u5728\u79fb\u52a8\u8bbe\u5907\u4e0a\u4fdd\u6301\u539f\u6837\n    # - navigation.expand # \u6253\u5f00Tab\u65f6\u5de6\u4fa7\u76ee\u5f55\u5168\u90e8\u5c55\u5f00\n    - content.code.copy\n    - navigation.indexes #\u542f\u7528\u8282\u7d22\u5f15\u9875\u540e\uff0c\u53ef\u4ee5\u5c06\u6587\u6863\u76f4\u63a5\u9644\u52a0\u5230\u8282\n    - search.share #\u641c\u7d22\u5206\u4eab\u6309\u94ae\n    - search.suggest # \u641c\u7d22\u8f93\u5165\u4e00\u4e9b\u5b57\u6bcd\u65f6\u63a8\u8350\u8865\u5168\u6574\u4e2a\u5355\u8bcd\n    - search.highlight # \u641c\u7d22\u51fa\u7684\u6587\u7ae0\u5173\u952e\u8bcd\u52a0\u5165\u9ad8\u4eae\n  palette: \n    # Palette toggle for light mode\n    - media: \"(prefers-color-scheme: light)\"\n      scheme: default # \u65e5\u95f4\u6a21\u5f0f\n      toggle:\n        icon: material/brightness-7  # \u56fe\u6807\n        name: Switch to dark mode\n      primary: deep ## \u4e0a\u65b9\u7684, [red, pink, purple, deep, purple, indigo, blue, light blue, cyan, teal, green, light green, lime, yellow, amber, orange, deep orange, brown, grey, blue, grey, black, white]\n      accent: deep # # \u94fe\u63a5\u7b49\u53ef\u4ea4\u4e92\u5143\u4ef6\u7684\u9ad8\u4eae\u8272 [red, pink, purple, deep, purple, indigo, blue, light, blue, cyan, teal, green, light, green, lime, yellow, amber, orange, deep orange]\n\n    # Palette toggle for dark mode\n    - media: \"(prefers-color-scheme: dark)\"\n      scheme: slate # \u591c\u95f4\u6a21\u5f0f\n      primary: deep #, [red, pink, purple, deep, purple, indigo, blue, light blue, cyan, teal, green, light green, lime, yellow, amber, orange, deep orange, brown, grey, blue, grey, black, white]\n      accent: deep # [red, pink, purple, deep, purple, indigo, blue, light, blue, cyan, teal, green, light, green, lime, yellow, amber, orange, deep orange]\n      toggle:\n        icon: material/brightness-4\n        name: Switch to light mode\n\n  icon: \n    repo: fontawesome/brands/github #\u53f3\u4e0a\u89d2\u56fe\u6807\nrepo_name: leoalasiga.github.io # \u53f3\u4e0a\u89d2\u7684\u540d\nrepo_url: https://github.com/leoalasiga/leoalasiga.github.io.git # \u53f3\u4e0a\u89d2\u70b9\u51fb\u8df3\u8f6c\u7684\u94fe\u63a5\n\n\nmarkdown_extensions:\n  - admonition\n  - abbr\n  - pymdownx.caret    \n  - pymdownx.details\n  - pymdownx.keys\n  - pymdownx.mark\n  - pymdownx.tilde\n  - pymdownx.tabbed:\n      alternate_style: true \n  - md_in_html\n  - pymdownx.arithmatex:  # latex\u652f\u6301\n      generic: true\n  - toc:\n      permalink: true # \u56fa\u5b9a\u6807\u9898\u4f4d\u7f6e\u4e3a\u5f53\u524d\u4f4d\u7f6e\n      title: On this page\n  - pymdownx.highlight: # \u4ee3\u7801\u5757\u9ad8\u4eae\n      anchor_linenums: true\n      # linenums: true # \u663e\u793a\u884c\u53f7\n      # auto_title: true # \u663e\u793a\u7f16\u7a0b\u8bed\u8a00\u540d\u79f0\n  - pymdownx.inlinehilite\n  - pymdownx.snippets\n  - attr_list\n  - pymdownx.emoji:\n      emoji_index: !!python/name:materialx.emoji.twemoji\n      emoji_generator: !!python/name:materialx.emoji.to_svg\n  - pymdownx.superfences # \u4ee3\u7801\u5757\u9ad8\u4eae\u63d2\u4ef6\n  - meta # \u652f\u6301Markdown\u6587\u4ef6\u4e0a\u65b9\u81ea\u5b9a\u4e49\u6807\u9898\u6807\u7b7e\u7b49\n  - tables\n\nextra_javascript:\n  - javascripts/extra.js\n  - javascripts/mathjax.js\n  - https://polyfill.io/v3/polyfill.min.js?features=es6\n  - https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\nextra_css:\n  - stylesheets/extra.css\n\n\nextra:\n  generator: false  #\u5220\u9664\u9875\u811a\u663e\u793a\u201c\u4f7f\u7528 MkDocs \u6750\u6599\u5236\u9020\u201d\n # social:\n  #  - icon: fontawesome/brands/twitter \n  #    link: https://twitter.com/\n  #  - icon: fontawesome/brands/github\n  #    link: https://github.com/\n  #  - icon: fontawesome/brands/bilibili\n  #    link: https://space.bilibili.com/\n  #  - icon: fontawesome/solid/paper-plane\n  #    link: mailto:&lt;xxxxxx@qq.com&gt; #\u8054\u7cfb\u65b9\u5f0f\n  #\n\n#  analytics: \n#    provider: google\n#    property: G-XXXXXXXXXX # Google Analytics ID\n#    feedback:\n#      title: \u6b64\u9875\u9762\u6709\u5e2e\u52a9\u5417\uff1f\n#      ratings:\n#        - icon: material/thumb-up-outline\n#          name: This page was helpful\n#          data: 1\n#          note: &gt;-\n#            \u8c22\u8c22\u4f60\u7684\u53cd\u9988\uff01\n#        - icon: material/thumb-down-outline\n#          name: This page could be improved\n#          data: 0\n#          note: &gt;- \n#            Thanks for your feedback! Help us improve this page by\n#            using our &lt;a href=\"https://marketingplatform.google.com/about/analytics/\" target=\"_blank\" rel=\"noopener\"&gt;feedback form&lt;/a&gt;.\n#  \n#  consent:\n#    title: Cookie consent\n#    description: &gt;- \n#      \u6211\u4eec\u4e5f\u4f7f\u7528cookies\u6765\u8bc6\u522b\u60a8\u7684\u91cd\u590d\u8bbf\u95ee\u548c\u504f\u597d\u6765\u8861\u91cf\u6211\u4eec\u6587\u6863\u7684\u6709\u6548\u6027\u4ee5\u53ca\u7528\u6237\u662f\u5426\u627e\u5230\u4ed6\u4eec\u8981\u627e\u7684\u4e1c\u897f\u3002\n#      \u5982\u679c\u4f60\u540c\u610f,\u4f60\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u8ba9\u6211\u4eec\u7684\u7f51\u7ad9\u66f4\u597d\n\n\nplugins:\n  - search\n  - tags:\n      tags_file: tag.md #\u6807\u7b7e\n</code></pre>","tags":["python","mkdocs","github"]},{"location":"2024/05/21/%E7%99%BD%E5%AB%96githubpage%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%B8%80/#\u90e8\u7f72\u4f60\u7684\u7f51\u7ad9","title":"\u90e8\u7f72\u4f60\u7684\u7f51\u7ad9","text":"<p>\u5f53\u4f60\u5b8c\u6210\u4f60\u7684\u7f51\u7ad9\u6784\u5efa\u4e4b\u540e\uff0c\u4f60\u60f3\u53bb\u90e8\u7f72\u4f60\u7684\u535a\u5ba2\u7f51\u7ad9\uff0c\u4f60\u53ef\u4ee5\u9009\u62e9\u4ee5\u4e0b\u4e24\u79cd\u65b9\u5f0f</p> <ul> <li>\u81ea\u5df1\u6784\u5efa\uff0c\u90e8\u7f72\u5230\u81ea\u5df1\u7684\u670d\u52a1\u5668\u4e0a</li> </ul> <pre><code>$ mkdocs build\n</code></pre> <p>\u4f60\u5c31\u4f1a\u5728\u4f60\u7684\u76ee\u5f55\u4e0b\u751f\u6210\u4e00\u4e2asite\u76ee\u5f55\uff0c\u91cc\u9762\u7684\u5185\u5bb9\u5c31\u662fmkdocs\u7ed9\u4f60\u7f16\u8bd1\u597d\u7684\u9759\u6001\u7f51\u7ad9</p> <pre><code>.\n\u251c\u2500 docs/\n\u2502  \u2514\u2500 index.md\n\u251c\u2500 site/\n\u2502  \u2514\u2500 assets/\n\u2502  \u2514\u2500 search/\n\u2502  \u2514\u2500 404.html\n\u2502  \u2514\u2500 index.html\n\u2502  \u2514\u2500 sitemap.xml\n\u2502  \u2514\u2500 sitemap.xml.gz\n\u2514\u2500 mkdocs.yml\n</code></pre> <p>\u4f60\u53ef\u4ee5\u5c06\u8fd9\u4e2a\u76ee\u5f55\uff0c\u90e8\u7f72\u5230\u4f60\u81ea\u5df1\u7684\u670d\u52a1\u5668\u4e0a\uff0c\u914d\u7f6enginx\u7b49\u8bbf\u95ee\uff0c\u4ece\u800c\u5b9e\u73b0\u4f60\u7684\u535a\u5ba2\u7f51\u7ad9\u7684\u8bbf\u95ee</p> <ul> <li>\u6216\u8005\uff0c\u4f60\u4e5f\u53ef\u4ee5\u9009\u62e9\u548c\u6211\u4e00\u6837\uff0c\u767d\u5ad6github\u7684\u8d44\u6e90\uff0c\u5229\u7528github page\uff0c\u642d\u5efa\u4f60\u81ea\u5df1\u7684\u535a\u5ba2\u7f51\u7ad9</li> </ul>","tags":["python","mkdocs","github"]},{"location":"2024/05/21/%E7%99%BD%E5%AB%96githubpage%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%B8%80/#\u7528github-page\u521b\u5efa\u4f60\u5f97\u535a\u5ba2\u7f51\u7ad9","title":"\u7528github page\u521b\u5efa\u4f60\u5f97\u535a\u5ba2\u7f51\u7ad9","text":"","tags":["python","mkdocs","github"]},{"location":"2024/05/21/%E7%99%BD%E5%AB%96githubpage%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%B8%80/#\u521b\u5efa\u4e00\u4e2a\u4ed3\u5e93","title":"\u521b\u5efa\u4e00\u4e2a\u4ed3\u5e93","text":"<p>\u53bbgithub\uff0c\u5efa\u7acb\u4e00\u4e2a\u4ed3\u5e93\uff0c\u4ed3\u5e93\u7684\u540d\u79f0\u5982\u4e0b(username\u5c31\u662f\u4f60\u7684github\u7528\u6237\u540d)</p> <pre><code>&lt;username&gt;.github.io\n</code></pre> <p>\u5982\u56fe</p> <p></p>","tags":["python","mkdocs","github"]},{"location":"2024/05/21/%E7%99%BD%E5%AB%96githubpage%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%B8%80/#clone\u4f60\u7684\u4ed3\u5e93","title":"clone\u4f60\u7684\u4ed3\u5e93","text":"<pre><code>$ git clone https://github.com/username/username.github.io\n</code></pre>","tags":["python","mkdocs","github"]},{"location":"2024/05/21/%E7%99%BD%E5%AB%96githubpage%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%B8%80/#\u63d0\u4ea4\u4f60\u7684\u4ee3\u7801","title":"\u63d0\u4ea4\u4f60\u7684\u4ee3\u7801","text":"<p>\u5c06\u4f60\u901a\u8fc7mkdocs build\u7684\u6587\u4ef6\uff0c\u5373site\u76ee\u5f55\u91cc\u7684\u6240\u6709\u5185\u5bb9\uff0c\u5168\u90e8\u62f7\u8d1d\u5230\u4f60\u7684GitHub clone\u4e0b\u6765\u7684\u76ee\u5f55username.github.io,\u7136\u540e\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4</p> <pre><code># \u6dfb\u52a0\u5f53\u524d\u76ee\u5f55\u6240\u6709\u6587\u4ef6\n$ git add .\n# \u6dfb\u52a0\u63d0\u4ea4\u63cf\u8ff0\n$ git commit -m \"Initial commit\"\n# \u63a8\u9001\u81f3\u4ed3\u5e93\n$ git push -u origin main\n</code></pre>","tags":["python","mkdocs","github"]},{"location":"2024/05/21/%E7%99%BD%E5%AB%96githubpage%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%B8%80/#\u8bbf\u95ee\u4f60\u7684\u7f51\u7ad9","title":"\u8bbf\u95ee\u4f60\u7684\u7f51\u7ad9","text":"<p>\u8fd9\u4e2a\u65f6\u5019\uff0c\u4f60\u7684\u7f51\u7ad9\u5c31\u5df2\u7ecf\u642d\u5efa\u5b8c\u6210\u4e86\uff0c\u76f4\u63a5\u8bbf\u95ee\u8fd9\u4e2a\u5730\u5740\u5c31\u53ef\u4ee5\u8bbf\u95ee\u4e86 https://username.github.io</p>","tags":["python","mkdocs","github"]},{"location":"2024/05/21/%E7%99%BD%E5%AB%96githubpage%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%B8%80/#\u80fd\u4e0d\u80fd\u66f4\u7b80\u4fbf\u4e00\u70b9","title":"\u80fd\u4e0d\u80fd\u66f4\u7b80\u4fbf\u4e00\u70b9\uff1f","text":"<p>\u8fd9\u65f6\u5019\uff0c\u4f60\u4f1a\u53d1\u73b0\uff0c\u8fd9\u6837\u505a\u5f88\u9ebb\u70e6\uff0c\u6bcf\u6b21\u90fd\u8981\u81ea\u5df1\u672c\u5730\u6784\u5efa\u9759\u6001\u6587\u4ef6\uff0c\u7136\u540e\u62f7\u8d1d\u5230\u76f8\u5173\u76ee\u5f55\u4e0b\uff0c\u7136\u540epush\u5230\u4ed3\u5e93\u3002\u90a3\u4e48\u6709\u6ca1\u6709\u65b9\u6cd5\u53ef\u4ee5\u81ea\u52a8\u5316\u7684\u5e2e\u4f60\u5b8c\u6210\u8fd9\u4e2a\u6d41\u7a0b\uff0c\u5e2e\u4f60\u81ea\u52a8\u5316\u6784\u5efa\u5b8c\u6210\u8fd9\u4e2a\u5185\u5bb9\u5462\uff1f</p> <p>\u7b54\u6848\u5c31\u662fgithub action\uff01\uff01\uff01\uff01</p>","tags":["python","mkdocs","github"]},{"location":"2024/05/21/%E7%99%BD%E5%AB%96githubpage%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%B8%80/#\u901a\u8fc7github-action\u5b8c\u6210\u4e2a\u4eba\u7f51\u7ad9\u7684\u81ea\u52a8\u5316\u6784\u5efa","title":"\u901a\u8fc7github action\u5b8c\u6210\u4e2a\u4eba\u7f51\u7ad9\u7684\u81ea\u52a8\u5316\u6784\u5efa","text":"<p>\u5728mkdocs-material\u7684\u5b98\u7f51\uff0c\u5176\u5b9e\u5df2\u7ecf\u6559\u4e86\u6211\u4eec\u600e\u4e48\u90e8\u7f72\u6211\u4eec\u7684\u4e2a\u4eba\u7f51\u7ad9\u4e86</p> <p>Using GitHub Actions you can automate the deployment of your project documentation. At the root of your repository, create a new GitHub Actions workflow, e.g. <code>.github/workflows/ci.yml</code>, and copy and paste the following contents:</p> <p>\u610f\u601d\u5c31\u662f\u4f7f\u7528GitHub Actions\uff0c\u5c31\u53ef\u4ee5\u81ea\u52a8\u5316\u7684\u90e8\u7f72\u4f60\u7684\u7f51\u7ad9\uff0c\u5728\u4ed3\u5e93\u7684\u6839\u76ee\u5f55\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u7684GitHub Actions workflow\uff0c\u6bd4\u5982\uff1a<code>.github/workflows/ci.yml</code>,\u7136\u540e\u62f7\u8d1d\u7c98\u8d34\u4e0b\u9762\u7684\u5185\u5bb9</p>","tags":["python","mkdocs","github"]},{"location":"2024/05/21/%E7%99%BD%E5%AB%96githubpage%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%B8%80/#\u5efa\u7acbgithub-action","title":"\u5efa\u7acbgithub action","text":"<p>\u5373\u5728\u6211\u4eec\u7684username.github.io\u76ee\u5f55\uff0c\u5220\u9664\u4e4b\u524d\u7684\u6587\u4ef6\uff0c\u5c06my_site\u91cc\u7684docs\u76ee\u5f55\u548cmkdocs.yml\u6587\u4ef6\u62f7\u8d1d\u5230username.github.io\u76ee\u5f55\uff0c\u5e76\u6dfb\u52a0<code>.github/workflows/ci.yml</code>\uff0c\u5373username.github.io\u76ee\u5f55\u7684\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b</p> <pre><code>.\n\u251c\u2500 docs/\n\u2502  \u2514\u2500 index.md\n\u251c\u2500 .github/\n\u2502  \u2514\u2500 workflows/\n\u2502    \u2514\u2500 ci.yml\n\u2514\u2500 mkdocs.yml\n</code></pre> <p>\u7136\u540e\u7f16\u8f91\u8fd9\u4e2a\u6587\u4ef6\uff0c\u6dfb\u52a0\u8fd9\u4e2a\u5185\u5bb9</p> <pre><code>name: ci \non:\n  push:\n    branches:\n      - main # \u6839\u636e\u5b9e\u9645\u7684\u5206\u652f\u60c5\u51b5\u8bbe\u7f6e\npermissions:\n  contents: write\njobs:\n  deploy:\n    runs-on: ubuntu-latest \n    steps:\n      - uses: actions/checkout@v3\n      - uses: actions/setup-python@v4\n        with:\n          python-version: 3.x\n      - run: echo \"cache_id=$(date --utc '+%V')\" &gt;&gt; $GITHUB_ENV \n      - uses: actions/cache@v3\n        with:\n          key: mkdocs-material-${{ env.cache_id }}\n          path: .cache\n          restore-keys: |\n            mkdocs-material-\n      - run: pip install mkdocs-material \n      - run: mkdocs gh-deploy --force\n</code></pre> <p>\u4ed6\u7684\u539f\u7406\uff0c\u76f8\u5f53\u4e8e\u901a\u8fc7github action\uff0c\u5728ubuntu-latest\u7684\u955c\u50cf\u5185\uff0c\u6267\u884c\u4e86\u6211\u4eec\u4eba\u5de5\u64cd\u4f5c\u7684\u5b89\u88c5mkdocs-material\uff0c \u7136\u540e\u90e8\u7f72\u4e86\u6211\u4eec\u7684\u7f51\u7ad9</p> <p>\u7136\u540e\u540e\u7eed\u6211\u4eec\u53ea\u8981push\u6211\u4eec\u7684\u4ed3\u5e93\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u81ea\u52a8\u5316\u7684\u90e8\u7f72\u6211\u4eec\u7684\u7f51\u7ad9\u4e86</p> <p>\u5f53\u7136\uff0c\u505a\u5230\u8fd9\u91cc\uff0c\u4f60\u4f1a\u53d1\u73b0\u8bbf\u95ee\u7684\u7f51\u7ad9\u53d8\u6210404\u4e86\uff0c\u8fd9\u65f6\u5019\uff0c\u4f60\u8981\u53bbgithub\u5728\u914d\u7f6e\u4e00\u4e0b</p> <p></p> <p>\u7136\u540e\u5f53\u4f60git push \u5b8c\u4f60\u7684\u6587\u6863\uff0cgithub \u5c31\u4f1a\u81ea\u52a8\u7ed9\u4f60\u6784\u5efa\u5c55\u793a\u4f60\u7684\u7f51\u7ad9\uff0c\u5e76\u90e8\u7f72\u5230\u4f60gh-pages\u5206\u652f\u5185</p>","tags":["python","mkdocs","github"]},{"location":"2024/05/21/%E7%99%BD%E5%AB%96githubpage%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%B8%80/#\u67e5\u770bgithub-action\u6784\u5efa\u8fdb\u5ea6","title":"\u67e5\u770bgithub action\u6784\u5efa\u8fdb\u5ea6","text":"","tags":["python","mkdocs","github"]},{"location":"2024/05/21/%E7%99%BD%E5%AB%96githubpage%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%B8%80/#\u53c2\u8003","title":"\u53c2\u8003","text":"<p>github pages </p> <p>material </p>","tags":["python","mkdocs","github"]},{"location":"2024/05/28/%E7%99%BD%E5%AB%96githubpage%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%BA%8C/","title":"\u767d\u5ad6GithubPage\u642d\u5efa\u81ea\u5df1\u7684\u535a\u5ba2!\uff08\u4e8c\uff09","text":"<p>\u4e4b\u524d\u7684\u6587\u7ae0,\u6211\u5df2\u7ecf\u6559\u4f1a\u5927\u5bb6\u767d\u5ad6github pages\u521b\u5efa\u81ea\u5df1\u7684\u535a\u5ba2\u4f53\u7cfb\u4e86\uff0c\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u4e30\u5bcc\u6211\u4eec\u7684\u535a\u5ba2\uff0c\u4e3a\u6211\u4eec\u7684\u535a\u5ba2\u6dfb\u52a0\u8bc4\u8bba\u533a\u5427</p> <p>Material for MkDocs\u53ef\u4ee5\u5f88\u8f7b\u677e\u7684\u5728\u6211\u4eec\u7684\u6bcf\u7bc7\u6587\u7ae0\u4e0b\u9762\uff0c\u96c6\u6210\u7b2c\u4e09\u65b9\u7684\u8bc4\u8bba\u7cfb\u7edf</p>","tags":["python","mkdocs","github","giscus"]},{"location":"2024/05/28/%E7%99%BD%E5%AB%96githubpage%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%BA%8C/#\u7b2c\u4e00\u6b65\u6269\u5c55\u4e3b\u9898","title":"\u7b2c\u4e00\u6b65\uff1a\u6269\u5c55\u4e3b\u9898","text":"<p><code>Material</code> \u652f\u6301\u4f60\u6269\u5c55\u4ed6\u7684\u4e3b\u9898\uff0c\u901a\u8fc7\u7b80\u5355\u7684\u914d\u7f6e:</p> <p>\u9996\u5148\u5728\u4f60\u7684<code>mkdoc.yml</code>\u91cc\u6dfb\u52a0\u4ee5\u4e0b\u4ee3\u7801</p> <pre><code>theme:\n  name: material\n  custom_dir: overrides\n</code></pre> <p>\u7136\u540e\u518d<code>mkdoc.ym</code>l\u6240\u5728\u7684\u8fd9\u4e2a\u76ee\u5f55\uff0c\u5efa\u7acb<code>overrides</code>\u8fd9\u4e2a\u6587\u4ef6\u5939,\u5efa\u597d\u4e4b\u540e\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b\uff1a</p> <pre><code>.\n\u251c\u2500 docs/\n\u2502  \u2514\u2500 index.md\n\u251c\u2500 overrides/\n\u2514\u2500 mkdocs.yml\n</code></pre> <p>\u7136\u540e\u540e\u7eed\u4f60\u53ea\u8981\u5c06<code>Material</code>\u8981\u6c42\u7684\u540c\u540d\u540c\u8def\u5f84\u7684\u6587\u4ef6\uff0c\u6309\u7167\u76f8\u5173\u7684\u8def\u5f84\u653e\u5230\u8fd9\u4e2a\u76ee\u5f55<code>overrides</code>\uff0c\u5c31\u80fd\u5b9e\u73b0\u6269\u5c55<code>Material</code>\u7684\u4e3b\u9898\u7684\u6548\u679c\uff1b</p> <p><code>Material</code>\u4e3b\u9898\u6587\u4ef6\u5bf9\u5e94\u8868</p> <pre><code>.\n\u251c\u2500 .icons/                             # Bundled icon sets  \u56fe\u6807\u96c6\n\u251c\u2500 assets/\n\u2502  \u251c\u2500 images/                          # Images and icons \u56fe\u50cf\u548c\u56fe\u6807\n\u2502  \u251c\u2500 javascripts/                     # JavaScript files \n\u2502  \u2514\u2500 stylesheets/                     # Style sheets\n\u251c\u2500 partials/\n\u2502  \u251c\u2500 integrations/                    # Third-party integrations\n\u2502  \u2502  \u251c\u2500 analytics/                    # Analytics integrations\n\u2502  \u2502  \u2514\u2500 analytics.html                # Analytics setup\n\u2502  \u251c\u2500 languages/                       # Translation languages\n\u2502  \u251c\u2500 actions.html                     # Actions\n\u2502  \u251c\u2500 alternate.html                   # Site language selector\n\u2502  \u251c\u2500 comments.html                    # Comment system (empty by default)\n\u2502  \u251c\u2500 consent.html                     # Consent\n\u2502  \u251c\u2500 content.html                     # Page content\n\u2502  \u251c\u2500 copyright.html                   # Copyright and theme information\n\u2502  \u251c\u2500 feedback.html                    # Was this page helpful?\n\u2502  \u251c\u2500 footer.html                      # Footer bar\n\u2502  \u251c\u2500 header.html                      # Header bar\n\u2502  \u251c\u2500 icons.html                       # Custom icons\n\u2502  \u251c\u2500 language.html                    # Translation setup\n\u2502  \u251c\u2500 logo.html                        # Logo in header and sidebar\n\u2502  \u251c\u2500 nav.html                         # Main navigation\n\u2502  \u251c\u2500 nav-item.html                    # Main navigation item\n\u2502  \u251c\u2500 pagination.html                  # Pagination (used for blog)\n\u2502  \u251c\u2500 palette.html                     # Color palette toggle\n\u2502  \u251c\u2500 post.html                        # Blog post excerpt\n\u2502  \u251c\u2500 progress.html                    # Progress indicator\n\u2502  \u251c\u2500 search.html                      # Search interface\n\u2502  \u251c\u2500 social.html                      # Social links\n\u2502  \u251c\u2500 source.html                      # Repository information\n\u2502  \u251c\u2500 source-file.html                 # Source file information\n\u2502  \u251c\u2500 tabs.html                        # Tabs navigation\n\u2502  \u251c\u2500 tabs-item.html                   # Tabs navigation item\n\u2502  \u251c\u2500 tags.html                        # Tags\n\u2502  \u251c\u2500 toc.html                         # Table of contents\n\u2502  \u251c\u2500 toc-item.html                    # Table of contents item\n\u2502  \u2514\u2500 top.html                         # Back-to-top button\n\u251c\u2500 404.html                            # 404 error page\n\u251c\u2500 base.html                           # Base template\n\u251c\u2500 blog.html                           # Blog index page\n\u251c\u2500 blog-archive.html                   # Blog archive index page\n\u251c\u2500 blog-category.html                  # Blog category index page\n\u251c\u2500 blog-post.html                      # Blog post page\n\u2514\u2500 main.html                           # Default page\n</code></pre>","tags":["python","mkdocs","github","giscus"]},{"location":"2024/05/28/%E7%99%BD%E5%AB%96githubpage%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%BA%8C/#\u7b2c\u4e8c\u6b65\u4fee\u6539\u8bc4\u8bba\u7684\u6587\u4ef6","title":"\u7b2c\u4e8c\u6b65\uff1a\u4fee\u6539\u8bc4\u8bba\u7684\u6587\u4ef6","text":"<p>\u5728\u8fd9\u91cc\uff0c\u56e0\u4e3a\u6211\u4eec\u8981\u4fee\u6539\u8bc4\u8bba\u533a\u7684\u5185\u5bb9\uff0c\u6211\u4eec\u5c31\u4fee\u6539<code>comments.html</code>\u8fd9\u4e2a\u9875\u9762\uff0c\u7136\u540e\u6211\u4eec\u5728\u6211\u4eec\u7684``\u6587\u4ef6\u5939\u91cc\u6dfb\u52a0\u8fd9\u4e2a\u6587\u4ef6</p> <pre><code>.\n\u251c\u2500 docs/\n\u2502  \u2514\u2500 index.md\n\u251c\u2500 overrides/\n\u2502  \u2514\u2500 partials/\n\u2502     \u2514\u2500 comments.html\n\u2514\u2500 mkdocs.yml\n</code></pre> <p>\u7136\u540e\u7f16\u8f91\u8fd9\u4e2a<code>comments.html</code>,\u52a0\u5165\u5982\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>{% if page.meta.comments %}\n  &lt;h2 id=\"__comments\"&gt;{{ lang.t(\"meta.comments\") }}&lt;/h2&gt;\n  &lt;!-- Insert generated snippet here --&gt;\n\n  &lt;!-- \u8fd9\u91cc\u8981\u63d2\u5165\u7b2c\u4e09\u65b9\u63d2\u4ef6\u751f\u6210\u7684\u5185\u5bb9 --&gt;\n\n  &lt;!-- Synchronize Giscus theme with palette --&gt;\n  &lt;script&gt;\n    var giscus = document.querySelector(\"script[src*=giscus]\")\n\n    // Set palette on initial load\n    var palette = __md_get(\"__palette\")\n    if (palette &amp;&amp; typeof palette.color === \"object\") {\n      var theme = palette.color.scheme === \"slate\"\n        ? \"transparent_dark\"\n        : \"light\"\n\n      // Instruct Giscus to set theme\n      giscus.setAttribute(\"data-theme\", theme) \n    }\n\n    // Register event handlers after documented loaded\n    document.addEventListener(\"DOMContentLoaded\", function() {\n      var ref = document.querySelector(\"[data-md-component=palette]\")\n      ref.addEventListener(\"change\", function() {\n        var palette = __md_get(\"__palette\")\n        if (palette &amp;&amp; typeof palette.color === \"object\") {\n          var theme = palette.color.scheme === \"slate\"\n            ? \"transparent_dark\"\n            : \"light\"\n\n          // Instruct Giscus to change theme\n          var frame = document.querySelector(\".giscus-frame\")\n          frame.contentWindow.postMessage(\n            { giscus: { setConfig: { theme } } },\n            \"https://giscus.app\"\n          )\n        }\n      })\n    })\n  &lt;/script&gt;\n{% endif %}\n</code></pre>","tags":["python","mkdocs","github","giscus"]},{"location":"2024/05/28/%E7%99%BD%E5%AB%96githubpage%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%BA%8C/#\u7b2c\u4e09\u6b65\u96c6\u6210\u7b2c\u4e09\u65b9\u8bc4\u8bba\u63d2\u4ef6giscus","title":"\u7b2c\u4e09\u6b65\uff1a\u96c6\u6210\u7b2c\u4e09\u65b9\u8bc4\u8bba\u63d2\u4ef6Giscus","text":"<p>\u9996\u5148\uff1a\u4e3a\u4f60\u7684<code>github</code>\u5b89\u88c5<code>Giscus Github App</code>,\u70b9\u51fb\u4f20\u9001\u95e8</p> <p></p> <p>\u7136\u540e\u70b9\u51fb<code>install</code>,\u5b8c\u6210<code>giscus</code> \u7684\u5b89\u88c5\uff0c\u7136\u540e\u4f60\u5c31\u53ef\u4ee5\u914d\u7f6e\u4f60\u7684<code>giscus</code>\u7ed9\u5168\u90e8\u4ed3\u5e93\u5f00\u653e\uff0c\u8fd8\u662f\u7ed9\u90e8\u5206\u4ed3\u5e93\u5f00\u653e\uff0c\u4e5f\u53ef\u4ee5\u8bbf\u95ee\u4e0a\u9762\u7684\u4f20\u9001\u95e8\uff0c\u91cd\u65b0\u914d\u7f6e</p> <p></p> <p>\u7136\u540e\uff1a\u8bbf\u95ee<code>Giscus</code>\u7684\u5b98\u7f51\uff0c\u751f\u6210\u4e00\u4e32<code>snippet</code>, \u70b9\u51fb\u4f20\u9001\u95e8</p> <p>\u6309\u7167\u4e2d\u6587\u63d0\u793a\uff0c\u586b\u5199\u4f60\u8981\u914d\u7f6e<code>Giscus</code>\u7684\u4ed3\u5e93  </p> <p>\u8fd9\u6837\u4f60\u5c31\u5f97\u5230\u4e86\u5c5e\u4e8e\u4f60\u8fd9\u4e2a\u4ed3\u5e93\u7684<code>snippet</code></p> <pre><code>&lt;script\n  src=\"https://giscus.app/client.js\"\n  data-repo=\"&lt;username&gt;/&lt;repository&gt;\"\n  data-repo-id=\"...\"\n  data-category=\"...\"\n  data-category-id=\"...\"\n  data-mapping=\"pathname\"\n  data-reactions-enabled=\"1\"\n  data-emit-metadata=\"1\"\n  data-theme=\"light\"\n  data-lang=\"en\"\n  crossorigin=\"anonymous\"\n  async\n&gt;\n&lt;/script&gt;\n</code></pre> <p>\u7136\u540e\u5c06\u8fd9\u4e2a<code>Snippet</code>\u7c98\u8d34\u5230\u4f60\u7684<code>comments.html</code>\u5c31\u5b9e\u73b0\u4e86<code>Giscus</code>\u7684\u914d\u7f6e</p> <pre><code>{% if page.meta.comments %}\n  &lt;h2 id=\"__comments\"&gt;{{ lang.t(\"meta.comments\") }}&lt;/h2&gt;\n  &lt;!-- Insert generated snippet here --&gt;\n\n      &lt;script\n      src=\"https://giscus.app/client.js\"\n      data-repo=\"&lt;username&gt;/&lt;repository&gt;\"\n      data-repo-id=\"...\"\n      data-category=\"...\"\n      data-category-id=\"...\"\n      data-mapping=\"pathname\"\n      data-reactions-enabled=\"1\"\n      data-emit-metadata=\"1\"\n      data-theme=\"light\"\n      data-lang=\"en\"\n      crossorigin=\"anonymous\"\n      async\n    &gt;\n    &lt;/script&gt;\n\n  &lt;!-- Synchronize Giscus theme with palette --&gt;\n  &lt;script&gt;\n    var giscus = document.querySelector(\"script[src*=giscus]\")\n\n    // Set palette on initial load\n    var palette = __md_get(\"__palette\")\n    if (palette &amp;&amp; typeof palette.color === \"object\") {\n      var theme = palette.color.scheme === \"slate\"\n        ? \"transparent_dark\"\n        : \"light\"\n\n      // Instruct Giscus to set theme\n      giscus.setAttribute(\"data-theme\", theme) \n    }\n\n    // Register event handlers after documented loaded\n    document.addEventListener(\"DOMContentLoaded\", function() {\n      var ref = document.querySelector(\"[data-md-component=palette]\")\n      ref.addEventListener(\"change\", function() {\n        var palette = __md_get(\"__palette\")\n        if (palette &amp;&amp; typeof palette.color === \"object\") {\n          var theme = palette.color.scheme === \"slate\"\n            ? \"transparent_dark\"\n            : \"light\"\n\n          // Instruct Giscus to change theme\n          var frame = document.querySelector(\".giscus-frame\")\n          frame.contentWindow.postMessage(\n            { giscus: { setConfig: { theme } } },\n            \"https://giscus.app\"\n          )\n        }\n      })\n    })\n  &lt;/script&gt;\n{% endif %}\n</code></pre>","tags":["python","mkdocs","github","giscus"]},{"location":"2024/05/28/%E7%99%BD%E5%AB%96githubpage%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%BA%8C/#\u6700\u540e\u5728\u4f60\u7684\u6587\u7ae0\u91cc\u914d\u4e0a\u6807\u7b7e","title":"\u6700\u540e\uff1a\u5728\u4f60\u7684\u6587\u7ae0\u91cc\u914d\u4e0a\u6807\u7b7e","text":"<p>\u5728\u4f60\u7684\u6587\u7ae0\u5934\u91cc\u9762\uff0c\u914d\u7f6e\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>---\ncomments: true\n---\n\n...\n\u6587\u7ae0\u5185\u5bb9\n</code></pre> <p>\u7136\u540e\u672c\u5730\u542f\u52a8\u670d\u52a1\uff0c\u4f60\u5c31\u4f1a\u53d1\u73b0\u5728\u4f60\u7684\u6587\u7ae0\u6700\u4e0b\u9762\uff0c\u591a\u4e86\u8bc4\u8bba\u533a</p> <pre><code>$ mkdocs serve\n</code></pre> <p></p>","tags":["python","mkdocs","github","giscus"]},{"location":"2024/05/28/%E7%99%BD%E5%AB%96githubpage%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%BA%8C/#\u53c2\u8003","title":"\u53c2\u8003","text":"<p>giscus</p> <p>material:adding-a-comment-system</p>","tags":["python","mkdocs","github","giscus"]},{"location":"2024/06/07/redis%E5%BC%80%E5%90%AF%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4/","title":"Redis\u5f00\u542f\u5de5\u4f5c\u7a7a\u95f4","text":"<p>redis\u5f00\u542f\u5de5\u4f5c\u7a7a\u95f4\u901a\u77e5</p> <p>redis\u7684\u914d\u7f6e\u6587\u4ef6\u8bbe\u7f6e\uff1anotify-keyspace-events </p> <p>notify-keyspace-events\u7684\u53c2\u6570\u503c\u53ef\u4ee5\u662f\u4ee5\u4e0b\u5b57\u7b26\u7684\u4efb\u610f\u7ec4\u5408\uff0c\u5b83\u6307\u5b9a\u4e86\u670d\u52a1\u5668\u8be5\u53d1\u9001\u54ea\u4e9b\u7c7b\u578b\u7684\u901a\u77e5\u3002\u8be5\u53c2\u6570\u5c06\u9488\u5bf9\u6574\u4e2a\u5b9e\u4f8b\uff08\u6240\u6709DB\uff09\u542f\u7528\u901a\u77e5\uff0c\u542f\u7528\u540e\u4f1a\u989d\u5916\u6d88\u8017CPU\uff0c\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u89c1Redis keyspace notifications\u3002</p> <ul> <li>K\uff1a\u952e\u7a7a\u95f4\u901a\u77e5\uff0c\u6240\u6709\u901a\u77e5\u4ee5__keyspace@__\u4e3a\u524d\u7f00\u3002</li> <li>E\uff1a\u952e\u4e8b\u4ef6\u901a\u77e5\uff0c\u6240\u6709\u901a\u77e5\u4ee5__keyevent@__\u4e3a\u524d\u7f00\u3002</li> <li>g\uff1aDEL\u3001EXPIRE\u3001RENAME\u7b49\u7c7b\u578b\u65e0\u5173\u7684\u901a\u7528\u547d\u4ee4\u7684\u901a\u77e5\u3002</li> <li>$\uff1a\u5b57\u7b26\u4e32\u547d\u4ee4\u7684\u901a\u77e5\uff0c\u4f1a\u53d1\u9001\u5173\u4e8e\u5b57\u7b26\u4e32\u7684\u521b\u5efa\u3001\u4fee\u6539\u3001\u5220\u9664\u7b49\u64cd\u4f5c\u7684\u901a\u77e5\u3002</li> <li>l\uff1a\u5217\u8868\u547d\u4ee4\u7684\u901a\u77e5\u3002</li> <li>s\uff1a\u96c6\u5408\u547d\u4ee4\u7684\u901a\u77e5\u3002</li> <li>h\uff1a\u54c8\u5e0c\u547d\u4ee4\u7684\u901a\u77e5\u3002</li> <li>z\uff1a\u6709\u5e8f\u96c6\u5408\u547d\u4ee4\u7684\u901a\u77e5\u3002</li> <li>x\uff1a\u8fc7\u671f\u4e8b\u4ef6\uff0c\u4e0d\u4e00\u5b9a\u5728\u952e\u8fc7\u671f\u65f6\u53d1\u9001\uff0c\u800c\u662f\u5728\u8fc7\u671f\u952e\u88ab\u5220\u9664\u65f6\u53d1\u9001\u3002</li> <li>e\uff1a\u9a71\u9010\uff08evict\uff09\u4e8b\u4ef6\uff0c\u6bcf\u5f53\u6709\u952e\u56e0\u4e3amaxmemory\u653f\u7b56\u800c\u88ab\u5220\u9664\u65f6\u53d1\u9001\u3002</li> <li>A\uff1a\u53c2\u6570g$lshzxe\u7684\u522b\u540d\uff0c\u8868\u793a\u76d1\u542c\u4e0a\u8ff0\u6240\u6709\u4e8b\u4ef6\uff0c\u8bbe\u7f6e\u793a\u4f8b\u4e3aAKE\u3002</li> </ul> <p>\u91cd\u8981</p> <p>\u8f93\u5165\u7684\u53c2\u6570\u4e2d\u81f3\u5c11\u5305\u542bK\u6216E\uff0c \u5426\u5219\u4e0d\u4f1a\u6709\u4efb\u4f55\u901a\u77e5\u88ab\u5206\u53d1\u3002</p> <p>\u4f8b\u5982\u60a8\u5e0c\u671b\u8ba2\u9605\u8fc7\u671f\u4e8b\u4ef6\uff0c\u60a8\u53ef\u4ee5\u5728\u53c2\u6570\u8bbe\u7f6e\u4e2d\u5c06\u8be5\u53c2\u6570\u8bbe\u7f6e\u4e3aEx\u3002\u8bbe\u7f6e\u53c2\u6570\u540e\uff0c\u5728\u5ba2\u6237\u7aef\u6267\u884c\u5bf9\u5e94\u7684\u8ba2\u9605\u547d\u4ee4\uff1aPSUBSCRIBE keyevent@0*\uff0c\u8868\u793a\u8ba2\u9605DB0\u7684\u952e\u4e8b\u4ef6\u901a\u77e5\u3002</p> <p>\u7136\u540espringboot\u6574\u5408spring-data-redis\uff0c\u5b9e\u73b0\u5de5\u4f5c\u7a7a\u95f4\u6d88\u606f\u7684\u63a5\u6536</p> <pre><code>@Component\npublic class RedisKeyExpirationListener extends KeyExpirationEventMessageListener {\n\n    public RedisKeyExpirationListener(RedisMessageListenerContainer listenerContainer) {\n        super(listenerContainer);\n    }\n\n    @Override\n    public void onMessage(Message message, byte[] pattern) {\n        String expiredKey = message.toString();\n        System.out.println(\"Key expired: \" + expiredKey);\n\n        // \u5728\u6b64\u5904\u6dfb\u52a0\u4f60\u7684\u4e1a\u52a1\u903b\u8f91\uff0c\u6bd4\u5982\u6e05\u7406\u672c\u5730\u7f13\u5b58\u3001\u53d1\u9001\u901a\u77e5\u7b49\n    }\n}\n</code></pre> <p>\u7136\u540e\u4f60\u5c31\u53ef\u4ee5\u6309\u7167\u4f60\u7684\u9700\u8981\u505a\u4e00\u4e9b\u5de5\u4f5c\u4e86</p> <p>\u7136\u540e\u8fd9\u8fb9\u7684redis\u7684listener\uff0c\u6765\u81ea\u4e8e\u8fd9\u4e2aRedisMessageListenerContainer</p> <pre><code>public class KeyExpirationEventMessageListener extends KeyspaceEventMessageListener implements ApplicationEventPublisherAware {\n    private static final Topic KEYEVENT_EXPIRED_TOPIC = new PatternTopic(\"__keyevent@*__:expired\");\n    @Nullable\n    private ApplicationEventPublisher publisher;\n\n    public KeyExpirationEventMessageListener(RedisMessageListenerContainer listenerContainer) {\n        super(listenerContainer);\n    }\n\n    protected void doRegister(RedisMessageListenerContainer listenerContainer) {\n        listenerContainer.addMessageListener(this, KEYEVENT_EXPIRED_TOPIC);\n    }\n\n    protected void doHandleMessage(Message message) {\n        this.publishEvent(new RedisKeyExpiredEvent(message.getBody()));\n    }\n\n    protected void publishEvent(RedisKeyExpiredEvent event) {\n        if (this.publisher != null) {\n            this.publisher.publishEvent(event);\n        }\n\n    }\n\n    public void setApplicationEventPublisher(ApplicationEventPublisher applicationEventPublisher) {\n        this.publisher = applicationEventPublisher;\n    }\n}\n</code></pre> <p>\u5b83\u91cc\u9762\u7ef4\u62a4\u4e86\u4e00\u4e2a\u7ebf\u7a0b\u6c60</p> <pre><code>public class RedisMessageListenerContainer implements InitializingBean, DisposableBean, BeanNameAware, SmartLifecycle {\n    \u00b7\u00b7\u00b7\n    @Nullable\n    private Executor taskExecutor;\n    \u00b7\u00b7\u00b7\n\n    public void afterPropertiesSet() {\n        Assert.state(!this.afterPropertiesSet, \"Container already initialized.\");\n        if (this.connectionFactory == null) {\n            throw new IllegalArgumentException(\"RedisConnectionFactory is not set\");\n        } else {\n            if (this.taskExecutor == null) {\n                this.manageExecutor = true;\n                this.taskExecutor = this.createDefaultTaskExecutor();\n            }\n\n            if (this.subscriptionExecutor == null) {\n                this.subscriptionExecutor = this.taskExecutor;\n            }\n\n            this.subscriber = this.createSubscriber(this.connectionFactory, this.subscriptionExecutor);\n            this.afterPropertiesSet = true;\n        }\n    }\n\n    protected TaskExecutor createDefaultTaskExecutor() {\n        String threadNamePrefix = this.beanName != null ? this.beanName + \"-\" : DEFAULT_THREAD_NAME_PREFIX;\n        return new SimpleAsyncTaskExecutor(threadNamePrefix);\n    }\n\n    public void destroy() throws Exception {\n        this.afterPropertiesSet = false;\n        this.stop();\n        if (this.manageExecutor &amp;&amp; this.taskExecutor instanceof DisposableBean) {\n            ((DisposableBean)this.taskExecutor).destroy();\n            if (this.logger.isDebugEnabled()) {\n                this.logger.debug(\"Stopped internally-managed task executor.\");\n            }\n         }\n    }\n    \u00b7\u00b7\u00b7\n}\n</code></pre> <p>\u7136\u540e\u8fd9\u4e2aSimpleAsyncTaskExecutor\u7684\u6838\u5fc3\u65b9\u6cd5\u662f\u8fd9\u4e2a\uff0c\u76f8\u5f53\u4e8e\u4ed6\u6267\u884cdoExecute\u65b9\u6cd5\u7684\u65f6\u5019\uff0c\u4f1a\u89e6\u53d1\u521b\u5efa\u7ebf\u7a0b\u7684\u4efb\u52a1\uff0c\u76f8\u5f53\u4e8e\u8fd9\u4e2alistener\u662f\u591a\u7ebf\u7a0b\u7684\u4efb\u52a1\uff0c\u53ef\u4ee5\u4e00\u76f4\u8dd1\u52a8</p> <pre><code>public class SimpleAsyncTaskExecutor extends CustomizableThreadCreator implements AsyncListenableTaskExecutor, Serializable {\n    \u00b7\u00b7\u00b7\n    public SimpleAsyncTaskExecutor(String threadNamePrefix) {\n        super(threadNamePrefix);\n    }\n    \u00b7\u00b7\u00b7\n\n    protected void doExecute(Runnable task) {\n        Thread thread = this.threadFactory != null ? this.threadFactory.newThread(task) : this.createThread(task);\n        thread.start();\n    }\n    \u00b7\u00b7\u00b7\n}\n</code></pre>","tags":["redis","java","springboot"]},{"location":"2024/06/07/redis%E5%BC%80%E5%90%AF%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4/#\u53c2\u8003","title":"\u53c2\u8003","text":"<p>\u963f\u91cc\u4e91redis\u914d\u7f6e\u53c2\u6570\u5217\u8868</p>","tags":["redis","java","springboot"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/","title":"Skywalking\u6559\u7a0b","text":"","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u6982\u5ff5\u4e0e\u8bbe\u8ba1","title":"\u6982\u5ff5\u4e0e\u8bbe\u8ba1","text":"","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u4ec0\u4e48\u662fskywalking","title":"\u4ec0\u4e48\u662fskywalking?","text":"<p>SkyWalking: \u4e00\u4e2a\u5f00\u6e90\u7684\u53ef\u89c2\u6d4b\u5e73\u53f0, \u7528\u4e8e\u4ece\u670d\u52a1\u548c\u4e91\u539f\u751f\u57fa\u7840\u8bbe\u65bd\u6536\u96c6, \u5206\u6790, \u805a\u5408\u53ca\u53ef\u89c6\u5316\u6570\u636e\u3002SkyWalking \u63d0\u4f9b\u4e86\u4e00\u79cd\u7b80\u4fbf\u7684\u65b9\u5f0f\u6765\u6e05\u6670\u5730\u89c2\u6d4b\u5206\u5e03\u5f0f\u7cfb\u7edf, \u751a\u81f3\u6a2a\u8de8\u591a\u4e2a\u4e91\u5e73\u53f0\u3002SkyWalking \u66f4\u662f\u4e00\u4e2a\u73b0\u4ee3\u5316\u7684\u5e94\u7528\u7a0b\u5e8f\u6027\u80fd\u76d1\u63a7(Application Performance Monitoring)\u7cfb\u7edf, \u5c24\u5176\u4e13\u4e3a\u4e91\u539f\u751f\u3001\u57fa\u4e8e\u5bb9\u5668\u7684\u5206\u5e03\u5f0f\u7cfb\u7edf\u8bbe\u8ba1.</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u4e3a\u4ec0\u4e48\u4f7f\u7528-skywalking","title":"\u4e3a\u4ec0\u4e48\u4f7f\u7528 SkyWalking?","text":"<p>\u5728\u8bb8\u591a\u4e0d\u540c\u7684\u573a\u666f\u4e0b, SkyWalking \u4e3a\u89c2\u5bdf\u548c\u76d1\u63a7\u5206\u5e03\u5f0f\u7cfb\u7edf\u63d0\u4f9b\u4e86\u89e3\u51b3\u65b9\u6848\u3002\u9996\u5148\u662f\u50cf\u4f20\u7edf\u7684\u65b9\u5f0f\u90a3\u6837, SkyWalking \u4e3a\u670d\u52a1\u63d0\u4f9b\u4e86\u81ea\u52a8\u6253\u70b9\u7684\u4ee3\u7406, \u5982 Java, C# , Node.js , Go , PHP \u4ee5\u53ca Nginx LUA\uff08\u5305\u62ec Python \u548c C++ \u8c03\u7528\u7684 SDK \u6350\u732e\uff09\u3002</p> <p>\u5bf9\u4e8e\u591a\u6570\u8bed\u8a00\uff0c\u6301\u7eed\u90e8\u7f72\u73af\u5883\uff0c\u4e91\u539f\u751f\u57fa\u7840\u8bbe\u65bd\u6b63\u53d8\u5f97\u66f4\u52a0\u5f3a\u5927\uff0c\u4f46\u4e5f\u66f4\u52a0\u590d\u6742\u3002</p> <p>Skywalking \u7684\u670d\u52a1\u7f51\u683c\u63a5\u6536\u5668\u53ef\u4ee5\u8ba9 Skywalking \u63a5\u6536\u6765\u81ea\u670d\u52a1\u7f51\u683c\u6846\u67b6\uff08\u4f8b\u5982 Istio , Linkerd\uff09\u7684\u9065\u6d4b\u6570\u636e\uff0c\u4ee5\u5e2e\u52a9\u7528\u6237\u7406\u89e3\u6574\u4e2a\u5206\u5e03\u5f0f\u7cfb\u7edf\u3002</p> <p>\u603b\u4e4b, SkyWalking \u4e3a \u670d\u52a1(service), \u670d\u52a1\u5b9e\u4f8b(service instance), \u4ee5\u53ca \u7aef\u70b9(endpoint) \u63d0\u4f9b\u4e86\u53ef\u89c2\u6d4b\u80fd\u529b\u3002\u670d\u52a1(Service), \u5b9e\u4f8b(Instance) \u4ee5\u53ca \u7aef\u70b9(Endpoint) \u7b49\u6982\u5ff5\u5728\u5982\u4eca\u968f\u5904\u53ef\u89c1, \u6240\u4ee5\u8ba9\u6211\u4eec\u5148\u4e86\u89e3\u4e00\u4e0b\u4ed6\u4eec\u5728 SkyWalking \u4e2d\u90fd\u8868\u793a\u4ec0\u4e48\u610f\u601d\uff1a</p> <ul> <li>\u670d\u52a1(Service). \u8868\u793a\u5bf9\u8bf7\u6c42\u63d0\u4f9b\u76f8\u540c\u884c\u4e3a\u7684\u4e00\u7ec4\u5de5\u4f5c\u8d1f\u8f7d. \u5728\u4f7f\u7528\u6253\u70b9\u4ee3\u7406\u6216 SDK \u7684\u65f6\u5019,\u4f60\u53ef\u4ee5\u5b9a\u4e49\u670d\u52a1\u7684\u540d\u5b57. SkyWalking \u8fd8\u53ef\u4ee5\u4f7f\u7528\u5728 Istio \u7b49\u5e73\u53f0\u4e2d\u5b9a\u4e49\u7684\u540d\u79f0\u3002</li> <li>\u670d\u52a1\u5b9e\u4f8b(Service Instance). \u4e0a\u8ff0\u7684\u4e00\u7ec4\u5de5\u4f5c\u8d1f\u8f7d\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5de5\u4f5c\u8d1f\u8f7d\u79f0\u4e3a\u4e00\u4e2a\u5b9e\u4f8b. \u5c31\u50cf Kubernetes \u4e2d\u7684 <code>pods</code> \u4e00\u6837,\u670d\u52a1\u5b9e\u4f8b\u672a\u5fc5\u5c31\u662f\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u7684\u4e00\u4e2a\u8fdb\u7a0b. \u4f46\u5f53\u4f60\u5728\u4f7f\u7528\u6253\u70b9\u4ee3\u7406\u7684\u65f6\u5019, \u4e00\u4e2a\u670d\u52a1\u5b9e\u4f8b\u5b9e\u9645\u5c31\u662f\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u7684\u4e00\u4e2a\u771f\u5b9e\u8fdb\u7a0b.</li> <li>\u7aef\u70b9(Endpoint). \u5bf9\u4e8e\u7279\u5b9a\u670d\u52a1\u6240\u63a5\u6536\u7684\u8bf7\u6c42\u8def\u5f84, \u5982 HTTP \u7684 URI \u8def\u5f84\u548c gRPC \u670d\u52a1\u7684\u7c7b\u540d + \u65b9\u6cd5\u7b7e\u540d\u3002</li> </ul> <p>\u4f7f\u7528 SkyWalking \u65f6, \u7528\u6237\u53ef\u4ee5\u770b\u5230\u670d\u52a1\u4e0e\u7aef\u70b9\u4e4b\u95f4\u7684\u62d3\u6251\u7ed3\u6784, \u6bcf\u4e2a\u670d\u52a1/\u670d\u52a1\u5b9e\u4f8b/\u7aef\u70b9\u7684\u6027\u80fd\u6307\u6807, \u8fd8\u53ef\u4ee5\u8bbe\u7f6e\u62a5\u8b66\u89c4\u5219\u3002</p> <p>\u9664\u6b64\u4e4b\u5916, \u4f60\u8fd8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u96c6\u6210</p> <ol> <li>\u5176\u4ed6\u5206\u5e03\u5f0f\u8ffd\u8e2a\u4f7f\u7528 Skywalking \u539f\u751f\u4ee3\u7406\u548cZipkin , Jaeger \u548c OpenCensus \u7684 SDK\uff1b</li> <li>\u5176\u4ed6\u5ea6\u91cf\u6307\u6807\u7cfb\u7edf\uff0c\u4f8b\u5982 Prometheus , Sleuth(Micrometer\u3002</li> </ol>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u67b6\u6784","title":"\u67b6\u6784","text":"<p>SkyWalking \u903b\u8f91\u4e0a\u5206\u4e3a\u56db\u90e8\u5206: \u63a2\u9488, \u5e73\u53f0\u540e\u7aef, \u5b58\u50a8\u548c\u7528\u6237\u754c\u9762.</p> <p></p> <ul> <li>\u63a2\u9488 \u6536\u96c6\u9065\u6d4b\u6570\u636e\uff0c\u5305\u62ec\u5404\u79cd\u683c\u5f0f\u7684\u5ea6\u91cf\u3001\u8ddf\u8e2a\u3001\u65e5\u5fd7\u548c\u4e8b\u4ef6\uff08SkyWalking\u3001Zipkin\u3001OpenTelemetry\u3001Prometheus\u3001Zabbix\u7b49\uff09</li> <li>\u5e73\u53f0\u540e\u7aef, \u652f\u6301\u6570\u636e\u805a\u5408\u3001\u5206\u6790\u548c\u6d41\u5f0f\u5904\u7406\uff0c\u6db5\u76d6\u8ddf\u8e2a\u3001\u5ea6\u91cf\u3001\u65e5\u5fd7\u548c\u4e8b\u4ef6\u3002\u53ef\u62c5\u4efb\u805a\u5408\u5668\u89d2\u8272\u3001\u63a5\u6536\u5668\u89d2\u8272\u6216\u4e24\u8005\u517c\u4efb\u3002</li> <li>\u5b58\u50a8 \u901a\u8fc7\u5f00\u653e\u7684\u63d2\u4ef6\u5316\u7684\u63a5\u53e3\u5b58\u653e SkyWalking \u6570\u636e. \u4f60\u53ef\u4ee5\u9009\u62e9\u4e00\u4e2a\u65e2\u6709\u7684\u5b58\u50a8\u7cfb\u7edf, \u5982 ElasticSearch, H2 \u6216 MySQL \u96c6\u7fa4(Sharding-Sphere \u7ba1\u7406),\u4e5f\u53ef\u4ee5\u9009\u62e9\u81ea\u5df1\u5b9e\u73b0\u4e00\u4e2a\u5b58\u50a8\u7cfb\u7edf. \u5f53\u7136, \u6211\u4eec\u975e\u5e38\u6b22\u8fce\u4f60\u8d21\u732e\u65b0\u7684\u5b58\u50a8\u7cfb\u7edf\u5b9e\u73b0\u3002</li> <li>UI \u4e00\u4e2a\u57fa\u4e8e\u63a5\u53e3\u9ad8\u5ea6\u5b9a\u5236\u5316\u7684Web\u7cfb\u7edf\uff0c\u7528\u6237\u53ef\u4ee5\u53ef\u89c6\u5316\u67e5\u770b\u548c\u7ba1\u7406 SkyWalking \u6570\u636e\u3002</li> </ul>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u8bbe\u8ba1\u76ee\u6807","title":"\u8bbe\u8ba1\u76ee\u6807","text":"<ul> <li>\u4fdd\u6301\u53ef\u89c2\u6d4b\u6027. \u4e0d\u7ba1\u76ee\u6807\u7cfb\u7edf\u5982\u4f55\u90e8\u7f72, SkyWalking \u603b\u8981\u63d0\u4f9b\u4e00\u79cd\u65b9\u6848\u6216\u96c6\u6210\u65b9\u5f0f\u6765\u4fdd\u6301\u5bf9\u76ee\u6807\u7cfb\u7edf\u7684\u89c2\u6d4b, \u57fa\u4e8e\u6b64, SkyWalking \u63d0\u4f9b\u4e86\u6570\u79cd\u8fd0\u884c\u65f6\u63a2\u9488\u3002</li> <li>\u62d3\u6251\u7ed3\u6784, \u6027\u80fd\u6307\u6807\u548c\u8ffd\u8e2a\u4e00\u4f53\u5316. \u7406\u89e3\u5206\u5e03\u5f0f\u7cfb\u7edf\u7684\u7b2c\u4e00\u6b65\u662f\u901a\u8fc7\u89c2\u5bdf\u5176\u62d3\u6251\u7ed3\u6784\u56fe. \u62d3\u6251\u56fe\u53ef\u4ee5\u5c06\u590d\u6742\u7684\u7cfb\u7edf\u5728\u4e00\u5f20\u7b80\u5355\u7684\u56fe\u91cc\u9762\u8fdb\u884c\u53ef\u89c6\u5316\u5c55\u73b0. \u57fa\u4e8e\u62d3\u6251\u56fe\uff0c\u8fd0\u7ef4\u652f\u6491\u7cfb\u7edf\u76f8\u5173\u4eba\u5458\u9700\u8981\u66f4\u591a\u5173\u4e8e\u670d\u52a1/\u5b9e\u4f8b/\u7aef\u70b9/\u8c03\u7528\u7684\u6027\u80fd\u6307\u6807. \u94fe\u8def\u8ffd\u8e2a(trace)\u4f5c\u4e3a\u8be6\u7ec6\u7684\u65e5\u5fd7, \u5bf9\u4e8e\u6b64\u79cd\u6027\u80fd\u6307\u6807\u6765\u8bf4\u5f88\u6709\u610f\u4e49, \u5982\u4f60\u60f3\u77e5\u9053\u4ec0\u4e48\u65f6\u5019\u7aef\u70b9\u5ef6\u65f6\u53d8\u5f97\u5f88\u957f, \u60f3\u4e86\u89e3\u6700\u6162\u7684\u94fe\u8def\u5e76\u627e\u51fa\u539f\u56e0. \u56e0\u6b64\u4f60\u53ef\u4ee5\u770b\u5230, \u8fd9\u4e9b\u9700\u6c42\u90fd\u662f\u4ece\u5927\u5c40\u5230\u7ec6\u8282\u7684, \u90fd\u7f3a\u4e00\u4e0d\u53ef. SkyWalking \u96c6\u6210\u5e76\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u7279\u6027\u6765\u4f7f\u5f97\u8fd9\u4e9b\u9700\u6c42\u6210\u4e3a\u53ef\u80fd, \u5e76\u4e14\u4f7f\u4e4b\u6613\u4e8e\u7406\u89e3.</li> <li>\u8f7b\u91cf\u7ea7. \u6709\u4e24\u4e2a\u65b9\u9762\u9700\u8981\u4fdd\u6301\u8f7b\u91cf\u7ea7. (1) \u63a2\u9488, \u6211\u4eec\u901a\u5e38\u4f9d\u8d56\u4e8e\u7f51\u7edc\u4f20\u8f93\u6846\u67b6, \u5982 gRPC. \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b, \u63a2\u9488\u5c31\u5e94\u8be5\u5c3d\u53ef\u80fd\u5c0f, \u9632\u6b62\u4f9d\u8d56\u5e93\u51b2\u7a81\u4ee5\u53ca\u865a\u62df\u673a\u7684\u8d1f\u8f7d\u538b\u529b(\u4f8b\u5982 JVM \u6c38\u4e45\u4ee3\u5185\u5b58\u5360\u7528\u538b\u529b). (2) \u4f5c\u4e3a\u4e00\u4e2a\u89c2\u6d4b\u5e73\u53f0, \u5728\u4f60\u7684\u6574\u4e2a\u9879\u76ee\u73af\u5883\u4e2d\u53ea\u662f\u6b21\u8981\u7cfb\u7edf, \u56e0\u6b64\u6211\u4eec\u4f7f\u7528\u81ea\u5df1\u7684\u8f7b\u91cf\u7ea7\u6846\u67b6\u6765\u6784\u5efa\u540e\u7aef\u6838\u5fc3\u670d\u52a1. \u6240\u4ee5\u4f60\u4e0d\u9700\u8981\u90e8\u7f72\u5e76\u7ef4\u62a4\u5927\u6570\u636e\u76f8\u5173\u7684\u5e73\u53f0, SkyWalking \u5728\u6280\u672f\u6808\u65b9\u9762\u5e94\u8be5\u8db3\u591f\u7b80\u5355\u3002</li> <li>\u53ef\u63d2\u62d4. SkyWalking \u6838\u5fc3\u56e2\u961f\u63d0\u4f9b\u4e86\u8bb8\u591a\u9ed8\u8ba4\u5b9e\u73b0, \u4f46\u8fd9\u80af\u5b9a\u662f\u4e0d\u591f\u7684, \u4e5f\u4e0d\u53ef\u80fd\u9002\u7528\u4e8e\u6bcf\u4e00\u79cd\u573a\u666f, \u56e0\u6b64\u6211\u4eec\u63d0\u4f9b\u4e86\u5927\u91cf\u7684\u7279\u6027\u6765\u652f\u6301\u53ef\u63d2\u62d4\u529f\u80fd\u3002</li> <li>\u53ef\u79fb\u690d. SkyWalking \u53ef\u4ee5\u8fd0\u884c\u5728\u591a\u79cd\u73af\u5883\u4e0b, \u5305\u62ec: (1) \u4f7f\u7528\u4f20\u7edf\u7684\u6ce8\u518c\u4e2d\u5fc3, \u5982 Eureka (2) \u4f7f\u7528\u5305\u542b\u670d\u52a1\u53d1\u73b0\u7684RPC\u6846\u67b6\uff0c\u5982Spring Cloud, Apache Dubbo (3) \u5728\u73b0\u4ee3\u57fa\u7840\u8bbe\u65bd\u4e2d\u4f7f\u7528\u670d\u52a1\u7f51\u683c (4) \u4f7f\u7528\u4e91\u670d\u52a1 (5) \u8de8\u4e91\u90e8\u7f72</li> </ul> <p>\u5728\u6240\u6709\u8fd9\u4e9b\u60c5\u51b5\u4e0b\uff0cSkyWalking \u5e94\u8be5\u8fd0\u884c\u826f\u597d</p> <ul> <li>\u53ef\u4e92\u64cd\u4f5c. \u53ef\u89c2\u6d4b\u6027\u662f\u4e00\u4e2a\u5e9e\u5927\u7684\u9886\u57df, \u5373\u4f7f\u6709\u5f3a\u5927\u7684\u793e\u533a, SkyWalking \u4e0d\u53ef\u80fd\u652f\u6301\u6240\u6709\u65b9\u65b9\u9762\u9762, \u56e0\u6b64 SkyWalking \u652f\u6301\u4e0e\u5176\u4ed6\u8fd0\u7ef4\u652f\u6491\u7cfb\u7edf\u8fdb\u884c\u4e92\u64cd\u4f5c, \u4e3b\u8981\u662f\u63a2\u9488, \u5982 Zipkin, Jaeger, OpenTracing \u548c OpenCensus. SkyWalking \u63a5\u6536\u5e76\u7406\u89e3\u4ed6\u4eec\u7684\u6570\u636e\u683c\u5f0f, \u8fd9\u5bf9\u4e8e\u7ec8\u7aef\u7528\u6237\u6765\u8bf4\u662f\u975e\u5e38\u6709\u7528\u7684, \u56e0\u4e3a\u4e0d\u9700\u8981\u4ed6\u4eec\u66f4\u6362\u5df2\u6709\u7684\u5e93\u3002</li> </ul>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u63a2\u9488","title":"\u63a2\u9488","text":"<p>\u5728 SkyWalking \u4e2d, \u63a2\u9488\u8868\u793a\u96c6\u6210\u5230\u76ee\u6807\u7cfb\u7edf\u4e2d\u7684\u4ee3\u7406\u6216 SDK \u5e93, \u5b83\u8d1f\u8d23\u6536\u96c6\u9065\u6d4b\u6570\u636e, \u5305\u62ec\u94fe\u8def\u8ffd\u8e2a\u548c\u6027\u80fd\u6307\u6807\u3002\u6839\u636e\u76ee\u6807\u7cfb\u7edf\u7684\u6280\u672f\u6808, \u63a2\u9488\u53ef\u80fd\u6709\u5dee\u5f02\u5de8\u5927\u7684\u65b9\u5f0f\u6765\u8fbe\u5230\u4ee5\u4e0a\u529f\u80fd. \u4f46\u4ece\u6839\u672c\u4e0a\u6765\u8bf4\u90fd\u662f\u4e00\u6837\u7684, \u5373\u6536\u96c6\u5e76\u683c\u5f0f\u5316\u6570\u636e, \u5e76\u53d1\u9001\u5230\u540e\u7aef\u3002</p> <p>\u4ece\u9ad8\u5c42\u6b21\u4e0a\u6765\u8bb2, SkyWalking \u63a2\u9488\u53ef\u5206\u4e3a\u4ee5\u4e0b\u4e09\u7ec4\uff1a</p> <ul> <li>\u57fa\u4e8e\u8bed\u8a00\u7684\u539f\u751f\u4ee3\u7406. \u8fd9\u79cd\u7c7b\u578b\u7684\u4ee3\u7406\u8fd0\u884c\u5728\u76ee\u6807\u670d\u52a1\u7684\u7528\u6237\u7a7a\u95f4\u4e2d, \u5c31\u50cf\u7528\u6237\u4ee3\u7801\u7684\u4e00\u90e8\u5206\u4e00\u6837. \u5982 SkyWalking Java \u4ee3\u7406, \u4f7f\u7528 <code>-javaagent</code> \u547d\u4ee4\u884c\u53c2\u6570\u5728\u8fd0\u884c\u671f\u95f4\u5bf9\u4ee3\u7801\u8fdb\u884c\u64cd\u4f5c, <code>\u64cd\u4f5c</code> \u4e00\u8bcd\u8868\u793a\u4fee\u6539\u5e76\u6ce8\u5165\u7528\u6237\u4ee3\u7801. \u53e6\u4e00\u79cd\u4ee3\u7406\u662f\u4f7f\u7528\u76ee\u6807\u5e93\u63d0\u4f9b\u7684\u94a9\u5b50\u51fd\u6570\u6216\u62e6\u622a\u673a\u5236. \u5982\u4f60\u6240\u89c1, \u8fd9\u4e9b\u63a2\u9488\u662f\u57fa\u4e8e\u7279\u5b9a\u7684\u8bed\u8a00\u548c\u5e93\u3002</li> <li>\u670d\u52a1\u7f51\u683c\u63a2\u9488. \u670d\u52a1\u7f51\u683c\u63a2\u9488\u4ece\u670d\u52a1\u7f51\u683c\u7684 Sidecar \u548c\u63a7\u5236\u9762\u677f\u6536\u96c6\u6570\u636e. \u5728\u4ee5\u524d, \u4ee3\u7406\u53ea\u7528\u4f5c\u6574\u4e2a\u96c6\u7fa4\u7684\u5165\u53e3, \u4f46\u662f\u6709\u4e86\u670d\u52a1\u7f51\u683c\u548c Sidecar \u4e4b\u540e, \u6211\u4eec\u53ef\u4ee5\u57fa\u4e8e\u6b64\u8fdb\u884c\u89c2\u6d4b\u4e86\u3002</li> <li>\u7b2c\u4e09\u65b9\u6253\u70b9\u7c7b\u5e93. SkyWalking \u4e5f\u80fd\u591f\u63a5\u6536\u5176\u4ed6\u6d41\u884c\u7684\u6253\u70b9\u5e93\u4ea7\u751f\u7684\u6570\u636e\u683c\u5f0f. SkyWalking \u901a\u8fc7\u5206\u6790\u6570\u636e,\u5c06\u6570\u636e\u683c\u5f0f\u5316\u6210\u81ea\u8eab\u7684\u94fe\u8def\u548c\u5ea6\u91cf\u6570\u636e\u683c\u5f0f. \u8be5\u529f\u80fd\u6700\u521d\u53ea\u80fd\u63a5\u6536 Zipkin \u7684 span \u6570\u636e\u3002</li> </ul> <p>\u4f60\u4e0d\u5fc5\u540c\u65f6\u4f7f\u7528 \u57fa\u4e8e\u8bed\u8a00\u7684\u539f\u751f\u4ee3\u7406 \u548c \u670d\u52a1\u7f51\u683c\u63a2\u9488 \uff0c\u56e0\u4e3a\u4e24\u8005\u90fd\u6536\u96c6\u6307\u6807\u6570\u636e\uff0c\u5426\u5219\u4f60\u7684\u7cfb\u7edf\u5c31\u8981\u627f\u53d7\u53cc\u500d\u8d1f\u8f7d, \u4e14\u5206\u6790\u6570\u91cf\u4f1a\u7ffb\u500d.</p> <p>\u6709\u5982\u4e0b\u51e0\u79cd\u63a8\u8350\u7684\u65b9\u5f0f\u6765\u4f7f\u7528\u63a2\u9488:</p> <ol> <li>\u53ea\u4f7f\u7528 \u57fa\u4e8e\u8bed\u8a00\u7684\u539f\u751f\u4ee3\u7406.</li> <li>\u53ea\u4f7f\u7528 \u7b2c\u4e09\u65b9\u6253\u70b9\u5e93, \u5982 Zipkin \u6253\u70b9\u7cfb\u7edf.</li> <li>\u53ea\u4f7f\u7528 \u670d\u52a1\u7f51\u683c\u63a2\u9488.</li> <li>\u4f7f\u7528 \u670d\u52a1\u7f51\u683c\u63a2\u9488, \u914d\u5408 \u8bed\u8a00\u539f\u751f\u4ee3\u7406 \u6216 \u7b2c\u4e09\u65b9\u6253\u70b9\u5e93, \u6765 \u8ffd\u8e2a\u72b6\u6001 . (\u9ad8\u7ea7\u7528\u6cd5)</li> </ol>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u670d\u52a1\u81ea\u52a8\u6253\u70b9\u4ee3\u7406","title":"\u670d\u52a1\u81ea\u52a8\u6253\u70b9\u4ee3\u7406","text":"<p>\u670d\u52a1\u81ea\u52a8\u6253\u70b9\u4ee3\u7406\u662f\u57fa\u4e8e\u8bed\u8a00\u7684\u539f\u751f\u4ee3\u7406\u7684\u4e00\u90e8\u5206,\u8fd9\u79cd\u4ee3\u7406\u9700\u8981\u4f9d\u9760\u67d0\u4e9b\u8bed\u8a00\u7279\u5b9a\u7684\u7279\u6027, \u901a\u5e38\u662f\u4e00\u79cd\u57fa\u4e8e\u865a\u62df\u673a\u7684\u8bed\u8a00.</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u81ea\u52a8\u6253\u70b9\u662f\u4ec0\u4e48\u610f\u601d","title":"\u81ea\u52a8\u6253\u70b9\u662f\u4ec0\u4e48\u610f\u601d?","text":"<p>\u8bb8\u591a\u7528\u6237\u90fd\u662f\u5728\u542c\u5230\"\u4ed6\u4eec\u8bf4\u4e0d\u9700\u8981\u6539\u4e00\u884c\u4ee3\u7801\"\u4e4b\u540e\u624d\u4e86\u89e3\u5230\u8fd9\u4e9b\u4ee3\u7406\u7684, SkyWalking \u4ee5\u524d\u4e5f\u5c06\u8fd9\u79cd\u8bf4\u6cd5\u653e\u5728 README \u6587\u6863\u4e2d. \u5b9e\u9645\u4e0a\u8fd9\u79cd\u8bf4\u6cd5\u662f\u65e2\u5bf9\u53c8\u9519\u7684. \u5bf9\u4e8e\u6700\u7ec8\u7528\u6237\u6765\u8bf4\u662f\u5bf9\u7684, \u4ed6\u4eec\u4e0d\u9700\u8981\u4fee\u6539\u4ee3\u7801(\u81f3\u5c11\u5728\u7edd\u5927\u591a\u6570\u60c5\u51b5\u4e0b). \u4f46\u8fd9\u79cd\u8bf4\u6cd5\u4e5f\u662f\u9519\u7684, \u56e0\u4e3a\u4ee3\u7801\u5b9e\u9645\u4e0a\u8fd8\u662f\u88ab\u4fee\u6539\u4e86, \u53ea\u662f\u88ab\u4ee3\u7406\u7ed9\u4fee\u6539\u4e86, \u8fd9\u79cd\u505a\u6cd5\u901a\u5e38\u53eb\u505a\"\u5728\u8fd0\u884c\u65f6\u64cd\u4f5c\u4ee3\u7801\". \u5e95\u5c42\u539f\u7406\u5c31\u662f\u81ea\u52a8\u6253\u70b9\u4ee3\u7406\u5229\u7528\u4e86\u865a\u62df\u673a\u63d0\u4f9b\u7684\u7528\u4e8e\u4fee\u6539\u4ee3\u7801\u7684\u63a5\u53e3\u6765\u52a8\u6001\u52a0\u5165\u6253\u70b9\u7684\u4ee3\u7801, \u5982\u901a\u8fc7 <code>javaagent premain</code> \u6765\u4fee\u6539 Java \u7c7b.</p> <p>\u6b64\u5916, \u6211\u4eec\u8bf4\u5927\u90e8\u5206\u81ea\u52a8\u6253\u70b9\u4ee3\u7406\u662f\u57fa\u4e8e\u865a\u62df\u673a\u7684, \u4f46\u5b9e\u9645\u4e0a\u4f60\u4e5f\u53ef\u4ee5\u5728\u7f16\u8bd1\u671f\u6784\u5efa\u8fd9\u6837\u7684\u5de5\u5177.</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u6709\u4ec0\u4e48\u9650\u5236","title":"\u6709\u4ec0\u4e48\u9650\u5236?","text":"<p>\u81ea\u52a8\u6253\u70b9\u5f88\u597d\u7528, \u4f60\u8fd8\u53ef\u4ee5\u5728\u7f16\u8bd1\u65f6\u8fdb\u884c\u81ea\u52a8\u6253\u70b9\u800c\u4e0d\u9700\u8981\u4f9d\u8d56\u865a\u62df\u673a\u7279\u6027, \u90a3\u4e48\u8fd9\u91cc\u6709\u4ec0\u4e48\u9650\u5236\u5417?</p> <p>\u7b54\u6848\u5f53\u7136\u662f\u6709, \u4ee5\u4e0b\u5c31\u662f\u5b83\u4eec\u7684\u9650\u5236:</p> <ul> <li>\u8fdb\u7a0b\u5185\u4f20\u64ad\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u6210\u4e3a\u53ef\u80fd. \u8bb8\u591a\u9ad8\u7ea7\u7f16\u7a0b\u8bed\u8a00(\u5982 Java, .NET)\u90fd\u662f\u7528\u4e8e\u6784\u5efa\u4e1a\u52a1\u7cfb\u7edf. \u5927\u90e8\u5206\u4e1a\u52a1\u903b\u8f91\u4ee3\u7801\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u8bf7\u6c42\u6765\u8bf4\u90fd\u8fd0\u884c\u5728\u540c\u4e00\u4e2a\u7ebf\u7a0b\u5185, \u8fd9\u4f7f\u5f97\u4f20\u64ad\u662f\u57fa\u4e8e\u7ebf\u7a0b ID \u7684, \u4ee5\u786e\u4fdd\u4e0a\u4e0b\u6587\u662f\u5b89\u5168\u7684.</li> <li>\u4ec5\u4ec5\u5bf9\u67d0\u4e9b\u6846\u67b6\u548c\u5e93\u594f\u6548. \u56e0\u4e3a\u662f\u4ee3\u7406\u6765\u5728\u8fd0\u884c\u65f6\u4fee\u6539\u4ee3\u7801\u7684, \u8fd9\u4e5f\u610f\u5473\u7740\u4ee3\u7406\u63d2\u4ef6\u5f00\u53d1\u8005\u4e8b\u5148\u5c31\u8981\u77e5\u9053 \u6240\u8981\u4fee\u6539\u7684\u4ee3\u7801\u662f\u600e\u4e48\u6837\u7684. \u56e0\u6b64, \u5728\u8fd9\u79cd\u63a2\u9488\u4e0b\u901a\u5e38\u4f1a\u6709\u4e00\u4e2a\u5df2\u652f\u6301\u7684\u5217\u8868\u6e05\u5355. \u5982 SkyWalking Java \u4ee3\u7406\u652f\u6301\u5217\u8868.</li> <li>\u8de8\u7ebf\u7a0b\u53ef\u80fd\u5e76\u975e\u603b\u662f\u594f\u6548. \u5982\u4e0a\u6240\u8ff0, \u6bcf\u4e2a\u8bf7\u6c42\u7684\u4ee3\u7801\u5927\u90fd\u8fd0\u884c\u5728\u4e00\u4e2a\u7ebf\u7a0b\u4e4b\u5185, \u5bf9\u4e8e\u4e1a\u52a1\u4ee3\u7801\u6765\u8bf4\u5c24\u5176\u5982\u6b64. \u4f46\u662f\u5728\u5176\u4ed6\u4e00\u4e9b\u573a\u666f\u4e0b, \u5b83\u4eec\u4e5f\u4f1a\u5728\u4e0d\u540c\u7ebf\u7a0b\u4e0b\u5de5\u4f5c, \u6bd4\u5982\u6307\u6d3e\u4efb\u52a1\u5230\u5176\u4ed6\u7ebf\u7a0b, \u4efb\u52a1\u6c60, \u4ee5\u53ca\u6279\u5904\u7406. \u5bf9\u4e8e\u4e00\u4e9b\u8bed\u8a00, \u53ef\u80fd\u8fd8\u63d0\u4f9b\u4e86\u534f\u7a0b\u6216\u7c7b\u4f3c\u7684\u6982\u5ff5\u5982 <code>Goroutine</code>, \u4f7f\u5f97\u5f00\u53d1\u8005\u53ef\u4ee5\u4f4e\u5f00\u9500\u5730\u6765\u6267\u884c\u5f02\u6b65\u64cd\u4f5c, \u5728\u8fd9\u4e9b\u573a\u666f\u4e0b, \u81ea\u52a8\u6253\u70b9\u53ef\u80fd\u4f1a\u9047\u5230\u4e00\u4e9b\u95ee\u9898.</li> </ul> <p>\u6240\u4ee5\u8bf4\u81ea\u52a8\u6253\u70b9\u6ca1\u6709\u4ec0\u4e48\u795e\u79d8\u7684, \u603b\u800c\u8a00\u4e4b\u5c31\u662f, \u81ea\u52a8\u6253\u70b9\u4ee3\u7406\u5f00\u53d1\u8005\u5199\u4e86\u4e00\u4e2a\u6fc0\u6d3b\u7a0b\u5e8f, \u4f7f\u5f97\u6253\u70b9\u7684\u4ee3\u7801 \u81ea\u52a8\u8fd0\u884c, \u4ec5\u6b64\u800c\u5df2.</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u670d\u52a1\u7f51\u683c\u63a2\u9488","title":"\u670d\u52a1\u7f51\u683c\u63a2\u9488","text":"<p>\u670d\u52a1\u7f51\u683c\u63a2\u9488\u4f7f\u7528\u4e86\u670d\u52a1\u7f51\u683c\u5b9e\u73b0\u8005\u4e2d\u63d0\u4f9b\u7684\u53ef\u6269\u5c55\u673a\u5236\uff0c\u6bd4\u5982 Istio\u3002</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u4ec0\u4e48\u662f\u670d\u52a1\u7f51\u683c","title":"\u4ec0\u4e48\u662f\u670d\u52a1\u7f51\u683c","text":"<p>\u4e0b\u9762\u7684\u89e3\u91ca\u6765\u81eaIstio\u6587\u6863\u3002</p> <p>\u670d\u52a1\u7f51\u683c\u901a\u5e38\u7528\u4e8e\u63cf\u8ff0\u7ec4\u6210\u6b64\u7c7b\u5e94\u7528\u7a0b\u5e8f\u7684\u5fae\u670d\u52a1\u7f51\u7edc\u4ee5\u53ca\u5b83\u4eec\u4e4b\u95f4\u7684\u4ea4\u4e92\u3002\u968f\u7740\u670d\u52a1\u7f51\u683c\u7684\u5927\u5c0f\u548c\u590d\u6742\u6027\u7684\u589e\u957f\uff0c\u5b83\u4f1a\u53d8\u5f97\u66f4\u96be\u7406\u89e3\u548c\u7ba1\u7406\u3002\u5b83\u9700\u8981\u5305\u62ec\u53d1\u73b0\u3001\u8d1f\u8f7d\u5e73\u8861\u3001\u6545\u969c\u6062\u590d\u3001\u5ea6\u91cf\u548c\u76d1\u89c6\u4ee5\u53ca\u66f4\u590d\u6742\u7684\u64cd\u4f5c\u9700\u6c42A/B\u6d4b\u8bd5\u3001\u91d1\u4e1d\u96c0\u53d1\u5e03\u3001\u9650\u6d41\u3001\u8bbf\u95ee\u63a7\u5236\u548c\u7aef\u5230\u7aef\u8eab\u4efd\u9a8c\u8bc1\u3002</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u63a2\u9488\u4ece\u54ea\u91cc\u91c7\u96c6\u6570\u636e","title":"\u63a2\u9488\u4ece\u54ea\u91cc\u91c7\u96c6\u6570\u636e","text":"<p>Istio \u662f\u4e00\u4e2a\u975e\u5e38\u5178\u578b\u7684\u670d\u52a1\u7f51\u683c\u7684\u8bbe\u8ba1\u548c\u5b9e\u73b0\u3002\u5b83\u5b9a\u4e49\u4e86 \u63a7\u5236\u5e73\u9762 \u548c \u6570\u636e\u5e73\u9762\uff0c\u88ab\u5e7f\u6cdb\u4f7f\u7528\u3002\u4e0b\u9762\u662f Istio \u7684\u67b6\u6784 :</p> <p></p> <p>\u670d\u52a1\u7f51\u683c\u63a2\u9488\u53ef\u4ee5\u9009\u62e9\u4ece \u63a7\u5236\u5e73\u9762 \u548c \u6570\u636e\u5e73\u9762 \u91c7\u96c6\u6570\u636e\u3002\u5728 Istio \u4e2d\uff0c\u6307\u7684\u662f\u4ece Mixer(Control Panel) \u6216\u8005 Envoy sidecar(Data Panel) \u4e2d\u91c7\u96c6\u9065\u6d4b\u6570\u636e\u3002\u63a2\u9488\u4ece\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u7aef\u6536\u96c6\u6bcf\u4e2a\u8bf7\u6c42\u7684\u4e24\u4e2a\u9065\u6d4b\u5b9e\u4f53\uff0c\u5b83\u4eec\u5176\u5b9e\u662f\u76f8\u540c\u7684\u6570\u636e\u3002</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u670d\u52a1\u7f51\u683c\u5982\u4f55\u4f7f\u540e\u7aef\u5de5\u4f5c","title":"\u670d\u52a1\u7f51\u683c\u5982\u4f55\u4f7f\u540e\u7aef\u5de5\u4f5c","text":"<p>\u4ece\u63a2\u9488\u4e2d\uff0c\u60a8\u53ef\u4ee5\u770b\u5230\u5728\u8fd9\u79cd\u63a2\u9488\u4e2d\u4e00\u5b9a\u6ca1\u6709\u76f8\u5173\u7684\u8ddf\u8e2a\uff0c\u90a3\u4e48\u4e3a\u4ec0\u4e48 SkyWalking \u5e73\u53f0\u4ecd\u7136\u53ef\u4ee5\u5de5\u4f5c\uff1f</p> <p>\u670d\u52a1\u7f51\u683c\u63a2\u9488\u4ece\u6bcf\u4e2a\u8bf7\u6c42\u6536\u96c6\u9065\u6d4b\u6570\u636e\uff0c\u56e0\u6b64\u5b83\u77e5\u9053\u6e90\u3001\u76ee\u6807\u3001\u7aef\u70b9\u3001\u5ef6\u8fdf\u548c\u72b6\u6001\u3002\u901a\u8fc7\u8fd9\u4e9b\uff0c\u540e\u7aef\u53ef\u4ee5\u901a\u8fc7\u5c06\u8fd9\u4e9b\u8c03\u7528\u5408\u5e76\u4e3a\u884c\u6765\u63cf\u8ff0\u6574\u4e2a\u62d3\u6251\u56fe\uff0c\u4ee5\u53ca\u6bcf\u4e2a\u8282\u70b9\u901a\u8fc7\u4f20\u5165\u8bf7\u6c42\u7684\u5ea6\u91cf\u3002\u540e\u7aef\u89e3\u6790\u8ddf\u8e2a\u6570\u636e\uff0c\u8bf7\u6c42\u76f8\u540c\u7684\u5ea6\u91cf\u6570\u636e\u3002\u56e0\u6b64\uff0c\u6b63\u786e\u7684\u8868\u8ff0\u662f\uff1a</p> <p>\u670d\u52a1\u7f51\u683c\u5ea6\u91cf\u5c31\u662f\u8ddf\u8e2a\u89e3\u6790\u5668\u751f\u6210\u7684\u5ea6\u91cf\u3002\u4ed6\u4eec\u662f\u76f8\u540c\u7684\u3002</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u89c2\u6d4b\u5206\u6790\u5e73\u53f0","title":"\u89c2\u6d4b\u5206\u6790\u5e73\u53f0","text":"<p>OAP \u89c2\u6d4b\u5206\u6790\u5e73\u53f0(Observability Analysis Platform)\u662f\u4e00\u4e2a\u4ece SkyWalking 6.x \u5f00\u59cb\u51fa\u73b0\u7684\u65b0\u6982\u5ff5. OAP \u53d6\u4ee3\u4e86\u6574\u4e2a\u65e7\u7684 SkyWalking \u540e\u7aef. OAP \u7684\u80fd\u529b\u5982\u4e0b\u6240\u8ff0.</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#oap-\u80fd\u529b","title":"OAP \u80fd\u529b","text":"<p>OAP \u4ece\u591a\u79cd\u6570\u636e\u6e90\u63a5\u6536\u6570\u636e, \u8fd9\u4e9b\u6570\u636e\u5206\u4e3a\u4e24\u5927\u7c7b, \u94fe\u8def\u8ffd\u8e2a \u548c \u5ea6\u91cf\u6307\u6807 .</p> <ul> <li>\u94fe\u8def\u8ffd\u8e2a. \u5305\u62ec SkyWalking \u539f\u751f\u6570\u636e\u683c\u5f0f, Zipkin V1 \u548c V2 \u6570\u636e\u683c\u5f0f, \u4ee5\u53ca Jaeger \u6570\u636e\u683c\u5f0f.</li> <li>\u5ea6\u91cf\u6307\u6807. SkyWalking \u96c6\u6210\u4e86\u670d\u52a1\u7f51\u683c\u5e73\u53f0, \u5982 Istio, Envoy \u548c Linkerd, \u5e76\u5728\u6570\u636e\u9762\u677f\u548c\u63a7\u5236\u9762\u677f\u8fdb\u884c\u89c2\u6d4b\u3002\u6b64\u5916, SkyWalking \u539f\u751f\u4ee3\u7406\u8fd8\u53ef\u4ee5\u8fd0\u884c\u5728\u5ea6\u91cf\u6a21\u5f0f, \u8fd9\u6781\u5927\u63d0\u5347\u4e86\u6027\u80fd\u3002</li> </ul> <p>\u53ef\u4ee5\u540c\u65f6\u4f7f\u7528\u63d0\u4f9b\u7684\u4efb\u4f55\u96c6\u6210\u89e3\u51b3\u65b9\u6848\uff0c\u6bd4\u5982 SkyWalking \u65e5\u5fd7\u63d2\u4ef6\u6216\u5de5\u5177\u5305\uff0c SkyWalking \u8fd8\u63d0\u4f9b\u4e86\u53ef\u89c6\u5316\u96c6\u6210\u6765\u5bf9\u8ffd\u8e2a\u548c\u65e5\u5fd7\u8fdb\u884c\u7ed1\u5b9a, \u8fd9\u662f\u901a\u8fc7\u4f7f\u7528 trace id \u548c span id \u5b9e\u73b0\u7684.</p> <p>\u901a\u5e38\u6240\u6709\u7684\u670d\u52a1\u90fd\u662f\u901a\u8fc7 gRPC \u548c HTTP \u534f\u8bae\u5b9e\u73b0, \u4f7f\u5f97\u672a\u6765\u96c6\u6210\u90a3\u4e9b\u5c1a\u672a\u652f\u6301\u7684\u751f\u6001\u7cfb\u7edf\u66f4\u52a0\u5bb9\u6613.</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#oap-\u4e2d\u7684\u94fe\u8def\u8ffd\u8e2a","title":"OAP \u4e2d\u7684\u94fe\u8def\u8ffd\u8e2a","text":"<p>\u94fe\u8def\u8ffd\u8e2a\u5728 OAP \u4e2d\u7684\u6709\u4e24\u79cd\u5904\u7406.</p> <ol> <li>\u5728 SkyWalking 5.x \u4e2d\u4f20\u7edf\u7684\u65b9\u5f0f. \u4ee5 SkyWalking \u7684 segment \u548c span \u6765\u683c\u5f0f\u5316\u8ffd\u8e2a\u6570\u636e\uff0c\u751a\u81f3\u5305\u62ec Zipkin \u6570\u636e\u683c\u5f0f\u5316\u3002OAP \u901a\u8fc7\u5206\u6790\u6570\u636e\u6bb5\u83b7\u5f97\u5ea6\u91cf\u6307\u6807, \u5e76\u5c06\u5ea6\u91cf\u6570\u636e\u63a8\u9001\u5230\u805a\u5408\u6d41\u3002</li> <li>\u8003\u8651\u4ec5\u4ec5\u5c06\u8ffd\u8e2a\u89c6\u4e3a\u67d0\u79cd\u65e5\u5fd7, \u53ea\u63d0\u4f9b\u5b58\u50a8\u548c\u53ef\u89c6\u5316\u80fd\u529b.</li> </ol> <p>\u540c\u6837\u7684, SkyWalking \u63a5\u6536\u6765\u81ea\u5176\u4ed6\u7cfb\u7edf\u7684\u8ffd\u8e2a\u6570\u636e\u683c\u5f0f, \u5982 Zipkin, Jaeger, OpenCensus. \u8fd9\u4e9b\u683c\u5f0f\u4e5f\u53ef\u4ee5\u7531\u4ee5\u4e0a\u4e24\u79cd\u65b9\u5f0f\u8fdb\u884c\u5904\u7406.</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#oap-\u4e2d\u7684\u5ea6\u91cf\u6307\u6807","title":"OAP \u4e2d\u7684\u5ea6\u91cf\u6307\u6807","text":"<p>OAP \u4e2d\u7684\u5ea6\u91cf\u6307\u6807\u662f 6.x \u7248\u672c\u4e2d\u5168\u65b0\u7684\u529f\u80fd. \u901a\u8fc7\u8fde\u63a5\u7684\u8282\u70b9\u4e4b\u95f4\u7684\u5ea6\u91cf\u6570\u636e, \u6784\u5efa\u5206\u5e03\u5f0f\u7cfb\u7edf\u7684\u89c2\u6d4b\u6570\u636e, \u4e14\u4e0d\u9700\u8981\u8ffd\u8e2a\u6570\u636e.</p> <p>\u5ea6\u91cf\u6570\u636e\u5728 OAP \u96c6\u7fa4\u4e2d\u4ee5\u6d41\u7684\u6a21\u5f0f\u8fdb\u884c\u805a\u5408. \u53c2\u8003\u89c2\u6d4b\u5206\u6790\u8bed\u8a00, \u8be5\u6587\u4ecb\u7ecd\u4e86\u5982\u4f55\u4f7f\u7528\u7b80\u5355\u7684\u811a\u672c\u5f62\u5f0f\u8fdb\u884c\u6570\u636e\u805a\u5408\u548c\u5206\u6790\u3002</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u89c2\u6d4b\u5206\u6790\u8bed\u8a00observability-analysis-language-oal","title":"\u89c2\u6d4b\u5206\u6790\u8bed\u8a00(Observability Analysis Language, OAL)","text":"<p>\u5728\u6d41\u6a21\u5f0f(Streaming mode)\u4e0b, SkyWalking \u63d0\u4f9b\u4e86 OAL \u6765\u5206\u6790\u6d41\u5165\u7684\u6570\u636e.</p> <p>OAL \u805a\u7126\u4e8e\u670d\u52a1, \u670d\u52a1\u5b9e\u4f8b\u4ee5\u53ca\u7aef\u70b9\u7684\u5ea6\u91cf\u6307\u6807, \u56e0\u6b64 OAL \u975e\u5e38\u6613\u4e8e\u5b66\u4e60\u548c\u4f7f\u7528.</p> <p>6.3\u7248\u672c\u4ee5\u540e, OAL\u5f15\u64ce\u5d4c\u5165\u5728OAP\u670d\u52a1\u5668\u8fd0\u884c\u65f6\u4e2d\uff0c\u79f0\u4e3a\u201cOAL -rt\u201d(OAL\u8fd0\u884c\u65f6)\u3002 OAL\u811a\u672c\u73b0\u5728\u4f4d\u4e8e' /config '\u6587\u4ef6\u5939\uff0c\u7528\u6237\u53ef\u4ee5\u7b80\u5355\u5730\u6539\u53d8\u548c\u91cd\u65b0\u542f\u52a8\u670d\u52a1\u5668\uff0c\u4f7f\u5176\u6709\u6548\u3002 \u4f46\u662f\uff0cOAL\u811a\u672c\u4ecd\u7136\u662f\u7f16\u8bd1\u8bed\u8a00\uff0cOAL\u8fd0\u884c\u65f6\u52a8\u6001\u751f\u6210java\u4ee3\u7801\u3002 \u60a8\u53ef\u4ee5\u5728system env\u4e0a\u6253\u5f00set ' SW_OAL_ENGINE_DEBUG=Y '\uff0c\u67e5\u770b\u751f\u6210\u4e86\u54ea\u4e9b\u7c7b\u3002</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u8bed\u6cd5","title":"\u8bed\u6cd5","text":"<p>OAL \u811a\u672c\u6587\u4ef6\u5e94\u8be5\u4ee5 <code>.oal</code> \u4e3a\u540e\u7f00.</p> <pre><code>// Declare the metrics.\nMETRICS_NAME = from(SCOPE.(* | [FIELD][,FIELD ...]))\n[.filter(FIELD OP [INT | STRING])]\n.FUNCTION([PARAM][, PARAM ...])\n\n// Disable hard code \ndisable(METRICS_NAME);\n</code></pre>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u57dfscope","title":"\u57df(Scope)","text":"<p>\u5206\u6790\u5bf9\u8c61\u5305\u62ec\u6240\u6709\u3001\u670d\u52a1\u3001\u670d\u52a1\u5b9e\u4f8b\u3001\u7aef\u70b9\u3001\u670d\u52a1\u5173\u7cfb\u3001\u670d\u52a1\u5b9e\u4f8b\u5173\u7cfb\u3001\u7aef\u70b9\u5173\u7cfb`. \u5f53\u7136\u8fd8\u6709\u4e00\u4e9b\u4e8c\u7ea7\u57df, \u4ed6\u4eec\u90fd\u5c5e\u4e8e\u4ee5\u4e0a\u67d0\u4e2a\u4e00\u7ea7\u57df.</p> <p>\u9605\u8bfb Scope Definitions, \u4f60\u53ef\u4ee5\u5728\u8be5\u6587\u4e2d\u627e\u5230\u6240\u6709\u57df\u548c\u5b57\u6bb5\u5b9a\u4e49.</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u8fc7\u6ee4\u5668filter","title":"\u8fc7\u6ee4\u5668(Filter)","text":"<p>\u4f7f\u7528\u5728\u4f7f\u7528\u8fc7\u6ee4\u5668\u7684\u65f6\u5019, \u901a\u8fc7\u6307\u5b9a\u5b57\u6bb5\u540d\u6216\u8868\u8fbe\u5f0f\u6765\u6784\u5efa\u5b57\u6bb5\u503c\u7684\u8fc7\u6ee4\u6761\u4ef6.</p> <p>\u8868\u8fbe\u5f0f\u53ef\u4ee5\u4f7f\u7528 <code>and</code>, <code>or</code> \u548c <code>()</code> \u8fdb\u884c\u7ec4\u5408. \u64cd\u4f5c\u7b26\u5305\u542b <code>=</code>, <code>!=</code>, <code>&gt;</code>, <code>&lt;</code>, <code>in (v1, v2, ...</code>, <code>like \"%...\"</code>, \u4ed6\u4eec\u53ef\u4ee5\u57fa\u4e8e\u5b57\u6bb5\u7c7b\u578b\u8fdb\u884c\u7c7b\u578b\u68c0\u6d4b, \u5982\u679c\u7c7b\u578b\u4e0d\u517c\u5bb9\u4f1a\u5728\u7f16\u8bd1/\u4ee3\u7801\u751f\u6210\u671f\u95f4\u62a5\u9519.</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u805a\u5408\u51fd\u6570aggregation-function","title":"\u805a\u5408\u51fd\u6570(Aggregation Function)","text":"<p>\u9ed8\u8ba4\u7684\u805a\u5408\u51fd\u6570\u6709 SkyWalking OAP \u6838\u5fc3\u5b9e\u73b0, \u5e76\u53ef\u81ea\u7531\u6269\u5c55\u66f4\u591a\u51fd\u6570.</p> <p>\u63d0\u4f9b\u7684\u51fd\u6570</p> <ul> <li><code>longAvg</code>. \u67d0\u4e2a\u57df\u5b9e\u4f53\u6240\u6709\u8f93\u5165\u7684\u5e73\u5747\u503c. \u8f93\u5165\u5b57\u6bb5\u5fc5\u987b\u662f <code>long</code> \u7c7b\u578b.</li> </ul> <p>instance_jvm_memory_max = from(ServiceInstanceJVMMemory.max).longAvg(); \u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d, \u8f93\u5165\u662f <code>ServiceInstanceJVMMemory</code> \u57df\u7684\u6bcf\u4e2a\u8bf7\u6c42, \u5e73\u5747\u503c\u662f\u57fa\u4e8e\u5b57\u6bb5 <code>max</code> \u8fdb\u884c\u6c42\u503c\u7684.</p> <ul> <li><code>doubleAvg</code>. \u67d0\u4e2a\u57df\u5b9e\u4f53\u7684\u6240\u6709\u8f93\u5165\u7684\u5e73\u5747\u503c. \u8f93\u5165\u7684\u5b57\u6bb5\u5fc5\u987b\u662f <code>double</code> \u7c7b\u578b.</li> </ul> <p>instance_jvm_cpu = from(ServiceInstanceJVMCPU.usePercent).doubleAvg(); \u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d, \u8f93\u5165\u662f <code>ServiceInstanceJVMCPU</code> \u57df\u7684\u6bcf\u4e2a\u8bf7\u6c42, \u5e73\u5747\u503c\u662f\u57fa\u4e8e <code>usePercent</code> \u5b57\u6bb5\u8fdb\u884c\u6c42\u503c\u7684.</p> <ul> <li><code>percent</code>. \u5bf9\u4e8e\u8f93\u5165\u4e2d\u5339\u914d\u6307\u5b9a\u6761\u4ef6\u7684\u767e\u5206\u6bd4\u6570.</li> </ul> <p>endpoint_percent = from(Endpoint.*).percent(status == true); \u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d, \u8f93\u5165\u662f\u6bcf\u4e2a\u7aef\u70b9\u7684\u8bf7\u6c42, \u6761\u4ef6\u662f <code>endpoint.status == true</code>.</p> <ul> <li><code>sum</code>. \u67d0\u4e2a\u57df\u5b9e\u4f53\u7684\u8c03\u7528\u603b\u6570.</li> </ul> <p>Service_Calls_Sum = from(Service.*).sum(); \u672c\u4f8b\u7edf\u8ba1\u6bcf\u4e2a\u670d\u52a1\u7684\u8c03\u7528\u6570.</p> <ul> <li><code>histogram</code>. Read Heatmap in WIKI</li> </ul> <p>All_heatmap = from(All.latency).histogram(100, 20); \u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d \u4f20\u5165\u8bf7\u6c42\u7684\u70ed\u529b\u56fe\u53c2\u6570\u63cf\u8ff0\u5982\u4e0b \u53c2\u6570(1)\u662f\u8ba1\u7b97\u5ef6\u8fdf\u7684\u7cbe\u5ea6\uff0c\u4f8b\u5982\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u5728101-200ms\u7ec4\u4e2d\uff0c113ms\u548c193ms\u88ab\u8ba4\u4e3a\u662f\u76f8\u540c\u7684. \u53c2\u6570(2)\u662f\u5206\u7ec4\u6570\u91cf\u3002\u5728\u4e0a\u8ff0\u60c5\u51b5\u4e0b\uff0c\u4e00\u5171\u670921\u7ec4\u6570\u636e\u5206\u522b\u4e3a0-100ms, 101-200ms\uff0c\u20261901 - 2000ms, 2000ms\u4ee5\u4e0a.</p> <ul> <li><code>apdex</code>. Read Apdex in WIKI</li> </ul> <p>service_apdex = from(Service.latency).apdex(name, status); \u5728\u672c\u4f8b\u4e2d\uff0c\u8be5\u5c5e\u6027\u63cf\u8ff0\u7684\u662f\u670d\u52a1\u7684\u5e94\u7528\u6027\u80fd\u6307\u6570\u8bc4\u5206. \u53c2\u6570(1)\u662f\u670d\u52a1\u540d\u79f0\uff0c\u8be5\u9608\u503c\u53ef\u4ee5\u5728\u914d\u7f6e\u6587\u4ef6service-apdex-threshold.yml\u4e2d\u5b9a\u4e49. The parameter (2) is the status of this request. The status(success/failure) effects the Apdex calculation.</p> <ul> <li><code>p99</code>, <code>p95</code>, <code>p90</code>, <code>p75</code>, <code>p50</code>. Read percentile in WIKI</li> </ul> <p>all_percentile = from(All.latency).percentile(10);</p> <p>\u767e\u5206\u4f4d\u662f\u81ea7.0\u7248\u672c\u5f15\u5165\u7684\u7b2c\u4e00\u4e2a\u591a\u503c\u5ea6\u91cf\u3002\u7531\u4e8e\u6709\u591a\u4e2a\u503c\uff0c\u53ef\u4ee5\u901a\u8fc7' getMultipleLinearIntValues ' GraphQL\u67e5\u8be2\u8fdb\u884c\u67e5\u8be2\u3002 \u5728\u672c\u4f8b\u4e2d\uff0c\u6240\u6709\u4f20\u5165\u8bf7\u6c42\u7684\u201cp99\u201d\u3001\u201cp95\u201d\u3001\u201cp90\u201d\u3001\u201cp75\u201d\u3001\u201cp50\u201d\u3002\u53c2\u6570\u662fp99\u5ef6\u8fdf\u8ba1\u7b97\u7684\u7cbe\u5ea6\uff0c\u5982\u5728\u4e0a\u8ff0\u60c5\u51b5\u4e0b\uff0c120ms\u548c124\u88ab\u8ba4\u4e3a\u662f\u76f8\u540c\u7684\u3002 \u57287.0.0\u4e4b\u524d\uff0c\u4f7f\u7528' p99 '\u3001' p95 '\u3001' p90 '\u3001' p75 '\u3001' p50 '\u51fd\u6570\u5206\u522b\u8ba1\u7b97\u6307\u6807\u3002\u57287.x\u7248\u672c\u4ecd\u7136\u652f\u6301\uff0c\u4f46\u4e0d\u63a8\u8350\u4e14\u4e0d\u5305\u62ec\u5728\u6b63\u5f0f\u811a\u672c\u3002</p> <p>All_p99 = from(All.latency).p99(10);</p> <p>\u5728\u672c\u4f8b\u4e2d\uff0cp99\u4e3a\u6240\u6709\u4f20\u5165\u8bf7\u6c42\u7684\u503c\u3002\u53c2\u6570\u662fp99\u5ef6\u8fdf\u8ba1\u7b97\u7684\u7cbe\u5ea6\uff0c\u5982\u5728\u4e0a\u8ff0\u60c5\u51b5\u4e0b\uff0c120ms\u548c124\u88ab\u8ba4\u4e3a\u662f\u76f8\u540c\u7684\u3002</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u5ea6\u91cf\u6307\u6807\u540d\u79f0","title":"\u5ea6\u91cf\u6307\u6807\u540d\u79f0","text":"<p>\u5b58\u50a8\u5b9e\u73b0, \u62a5\u8b66\u4ee5\u53ca\u67e5\u8be2\u6a21\u5757\u7684\u5ea6\u91cf\u6307\u6807\u540d\u79f0. SkyWalking \u5185\u6838\u652f\u6301\u81ea\u52a8\u7c7b\u578b\u63a8\u65ad.</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u7ec4group","title":"\u7ec4(Group)","text":"<p>\u6240\u6709\u5ea6\u91cf\u6307\u6807\u6570\u636e\u90fd\u4f1a\u4f7f\u7528 Scope.ID \u548c\u6700\u5c0f\u65f6\u95f4\u6876(min-level time bucket) \u8fdb\u884c\u5206\u7ec4.</p> <ul> <li>\u5728\u7aef\u70b9(Endpoint)\u57df\u4e2d, Scope.ID = Endpoint \u7684 ID(\u57fa\u4e8e\u670d\u52a1\u53ca\u5176\u7aef\u70b9\u7684\u552f\u4e00\u6807\u5fd7).</li> </ul>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u7981\u7528","title":"\u7981\u7528","text":"<p>\u201cDisable\u201d\u662fOAL\u4e2d\u7684\u9ad8\u7ea7\u8bed\u53e5\uff0c\u53ea\u5728\u7279\u5b9a\u60c5\u51b5\u4e0b\u4f7f\u7528\u3002 \u4e00\u4e9b\u805a\u5408\u548c\u5ea6\u91cf\u662f\u901a\u8fc7\u6838\u5fc3\u786c\u4ee3\u7801\u5b9a\u4e49\u7684\uff0c \u8fd9\u4e2a\u201c\u7981\u7528\u201d\u8bed\u53e5\u662f\u8bbe\u8ba1\u7528\u6765\u8ba9\u5b83\u4eec\u505c\u6b62\u6d3b\u52a8\u7684\uff0c \u6bd4\u5982' segment '\uff0c ' top_n_database_statement '\u3002 \u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6ca1\u6709\u4eba\u662f\u7981\u7528\u7684\u3002</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u793a\u4f8b","title":"\u793a\u4f8b","text":"<pre><code>// \u8ba1\u7b97 Endpoint1 \u548c Endpoint2 \u7684 p99 \u503c\nEndpoint_p99 = from(Endpoint.latency).filter(name in (\"Endpoint1\", \"Endpoint2\")).summary(0.99)\n\n// \u8ba1\u7b97\u7aef\u70b9\u540d\u4ee5 `serv` \u5f00\u5934\u7684\u7aef\u70b9\u7684 p99 \u503c\nserv_Endpoint_p99 = from(Endpoint.latency).filter(name like (\"serv%\")).summary(0.99)\n\n// \u8ba1\u7b97\u6bcf\u4e2a\u7aef\u70b9\u7684\u54cd\u5e94\u5e73\u5747\u65f6\u957f\nEndpoint_avg = from(Endpoint.latency).avg()\n\n// \u8ba1\u7b97\u6bcf\u4e2a\u7aef\u70b9 p50, p75, p90, p95 and p99 \u7684\u5ef6\u8fdf\u67f1\u72b6\u56fe, \u6bcf\u9694 50 \u6beb\u79d2\u4e00\u6761\u67f1\nEndpoint_percentile = from(Endpoint.latency).percentile(10)\n\n// \u7edf\u8ba1\u6bcf\u4e2a\u670d\u52a1\u54cd\u5e94\u72b6\u6001\u4e3a true \u7684\u767e\u5206\u6bd4\nEndpoint_success = from(Endpoint.*).filter(status = \"true\").percent()\n\n// \u7edf\u8ba1\u6bcf\u4e2a\u670d\u52a1\u54cd\u5e94\u7801\u5728 [200, 299] \u4e4b\u95f4\u7684\u767e\u5206\u6bd4\nEndpoint_200 = from(Endpoint.*).filter(responseCode like \"2%\").percent()\n\n// \u7edf\u8ba1\u6bcf\u4e2a\u670d\u52a1\u54cd\u5e94\u7801\u5728 [500, 599] \u4e4b\u95f4\u7684\u767e\u5206\u6bd4\nEndpoint_500 = from(Endpoint.*).filter(responseCode like \"5%\").percent()\n\n// \u7edf\u8ba1\u6bcf\u4e2a\u670d\u52a1\u7684\u8c03\u7528\u603b\u91cf\nEndpointCalls = from(Endpoint.*).sum()\n\ndisable(segment);\ndisable(endpoint_relation_server_side);\ndisable(top_n_database_statement);\n</code></pre>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u534f\u8bae","title":"\u534f\u8bae","text":"<p>\u6709\u4ee5\u4e0b\u4e24\u79cd\u7c7b\u578b\u7684\u534f\u8bae.</p> <ul> <li>\u63a2\u9488\u534f\u8bae. \u5305\u62ec\u5bf9\u63a2\u9488\u5982\u4f55\u53d1\u9001\u6536\u96c6\u5230\u7684\u5ea6\u91cf\u6570\u636e\u3001\u8ddf\u8e2a\u4fe1\u606f\u4ee5\u53ca\u6d89\u53ca\u5230\u7684\u6bcf\u4e2a\u5b9e\u4f53\u683c\u5f0f\u7684\u63cf\u8ff0\u548c\u5b9a\u4e49\u3002</li> <li>\u67e5\u8be2\u534f\u8bae. \u670d\u52a1\u540e\u7aef\u7ed9 SkyWalking \u81ea\u6709\u7684 UI \u548c\u4efb\u4f55\u7b2c\u4e09\u65b9 UI \u63d0\u4f9b\u4e86\u67e5\u8be2\u7684\u80fd\u529b. \u8fd9\u4e9b\u67e5\u8be2\u90fd\u662f\u57fa\u4e8e GraphQL \u7684.</li> </ul>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u63a2\u9488\u534f\u8bae","title":"\u63a2\u9488\u534f\u8bae","text":"<p>\u5b83\u4eec\u4e5f\u662f\u4e0e\u63a2\u9488\u7684\u7ec4\u76f8\u5173\u7684, \u4e3a\u4e86\u7406\u89e3\u8fd9\u4e00\u70b9, \u8bf7\u53c2\u8003\u6982\u5ff5\u548c\u8bbe\u8ba1\u4e00\u6587. \u8fd9\u4e9b\u63a2\u9488\u7ec4\u662f\u57fa\u4e8e\u539f\u751f\u8bed\u8a00\u4ee3\u7406\u534f\u8bae, \u670d\u52a1\u7f51\u683c\u534f\u8bae\u4ee5\u53ca\u5176\u4ed6\u7b2c\u4e09\u65b9\u6253\u70b9\u534f\u8bae.</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u6ce8\u518c\u534f\u8bae","title":"\u6ce8\u518c\u534f\u8bae","text":"<p>\u5305\u542b\u670d\u52a1, \u670d\u52a1\u5b9e\u4f8b, \u7f51\u7edc\u5730\u5740\u4ee5\u53ca\u7aef\u70b9\u5143\u6570\u636e\u6ce8\u518c. \u6ce8\u518c\u7684\u76ee\u7684\u662f:</p> <ol> <li>\u5bf9\u4e8e\u670d\u52a1, \u7f51\u7edc\u5730\u5740\u548c\u7aef\u70b9, \u6ce8\u518c\u4e4b\u540e\u5c06\u4f1a\u8fd4\u56de\u6ce8\u518c\u5bf9\u8c61\u7684\u4e00\u4e2a\u552f\u4e00 ID, \u901a\u5e38\u662f\u4e00\u4e2a\u6574\u6570. \u63a2\u9488\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a ID \u6765\u66ff\u4ee3\u5b57\u7b26\u4e32\u6587\u672c, \u8fbe\u5230\u6570\u636e\u538b\u7f29\u7684\u529f\u80fd. \u8fdb\u4e00\u6b65\u8bb2, \u6709\u4e9b\u534f\u8bae\u53ea\u63a5\u6536 ID.</li> <li>\u5bf9\u4e8e\u670d\u52a1\u5b9e\u4f8b, \u6ce8\u518c\u4e4b\u540e\u5c06\u4f1a\u4e3a\u6bcf\u4e2a\u65b0\u7684\u5b9e\u4f8b\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u552f\u4e00 ID. \u6bcf\u4e2a\u670d\u52a1\u5b9e\u4f8b\u5fc5\u987b\u5305\u542b\u670d\u52a1 ID.</li> </ol> <p>\u57fa\u4e8e\u8bed\u8a00\u7684\u539f\u751f\u4ee3\u7406\u534f\u8bae</p> <p>\u6709\u4ee5\u4e0b\u4e24\u79cd\u534f\u8bae\u53ef\u4ee5\u8ba9\u57fa\u4e8e\u8bed\u8a00\u7684\u4ee3\u7406\u5728\u5206\u5e03\u5f0f\u73af\u5883\u4e0b\u5de5\u4f5c.</p> <ol> <li>\u8de8\u8fdb\u7a0b\u4f20\u64ad\u7684\u5934\u90e8\u534f\u8bae\u662f\u4e00\u79cd\u6709\u7ebf\u6570\u636e\u683c\u5f0f, \u4ee3\u7406\u548c SDK \u901a\u5e38\u4f7f\u7528 RPC \u8bf7\u6c42\u4ee5\u53ca HTTP/MQ/HTTP2 \u8bf7\u6c42\u5934\u6765\u8fd0\u8f7d\u6570\u636e. \u8fdc\u7a0b\u4ee3\u7406\u5c06\u5728\u8bf7\u6c42\u5904\u7406\u5668\u4e2d\u63a5\u6536\u8fd9\u4e9b\u6570\u636e, \u5e76\u5c06\u4e0a\u4e0b\u6587\u7ed1\u5b9a\u5230\u8be5\u8bf7\u6c42\u4e2d.</li> <li>\u8ffd\u8e2a\u6570\u636e\u534f\u8bae\u662f\u4e00\u79cd\u79bb\u7ebf\u6570\u636e\u683c\u5f0f, \u4ee3\u7406\u548c SDK \u4f7f\u7528\u8fd9\u79cd\u6570\u636e\u683c\u5f0f\u6765\u53d1\u9001\u8ffd\u8e2a\u6570\u636e\u548c\u6307\u6807\u6570\u636e\u5230 SkyWalking \u6216\u5176\u4ed6\u517c\u5bb9\u7684\u540e\u7aef\u3002</li> </ol> <p>\u4e3a\u4e86\u517c\u5bb9\u6027, \u8bf7\u6c42\u5934\u6709\u4e24\u79cd\u683c\u5f0f. \u9ed8\u8ba4\u662f\u4f7f\u7528 v2.</p> <ul> <li>\u8de8\u8fdb\u7a0b\u4f20\u64ad\u7684\u8bf7\u6c42\u5934 v2 \u662f\u81ea 6.0.0-beta \u7248\u672c\u5f00\u59cb, \u9488\u5bf9\u5728\u7ebf\u4e0a\u4e0b\u6587\u4f20\u64ad\u7684\u4e00\u79cd\u65b0\u7684\u534f\u8bae. \u5b83\u5c06\u5728\u4ee5\u540e\u66ff\u4ee3\u8001\u7684 SW3 \u534f\u8bae, \u76ee\u524d\u6765\u8bf4\u5b83\u4eec\u4e8c\u8005\u90fd\u662f\u652f\u6301\u7684.</li> <li>\u8de8\u8fdb\u7a0b\u4f20\u64ad\u7684\u8bf7\u6c42\u5934 v1 \u662f\u9488\u5bf9\u5728\u7ebf\u4f20\u64ad\u7684\u534f\u8bae. \u9075\u5faa\u6b64\u534f\u8bae\u7684\u4e0d\u540c\u8fdb\u7a0b\u7684\u8ffd\u8e2a\u6570\u636e\u6bb5\u53ef\u4ee5\u88ab\u8fde\u63a5\u8d77\u6765.</li> </ul> <p>\u81ea SkyWalking v6.0.0-beta \u5f00\u59cb, SkyWalking \u4ee3\u7406\u548c\u540e\u7aef\u90fd\u4f7f\u7528\u7b2c\u4e8c\u7248\u7684\u8ffd\u8e2a\u6570\u636e\u534f\u8bae(Trace Data Protocol v2), \u540e\u7aef\u4ecd\u7136\u652f\u6301 v1 \u7248\u672c\u7684\u534f\u8bae.</p> <ul> <li>SkyWalking \u8ffd\u8e2a\u6570\u636e\u534f\u8bae v2 \u5b9a\u4e49\u4e86\u4ee3\u7406\u548c\u540e\u7aef\u4e4b\u95f4\u901a\u8baf\u7684\u65b9\u5f0f\u548c\u683c\u5f0f.</li> <li>SkyWalking \u8ffd\u8e2a\u6570\u636e\u534f\u8bae v1. \u8be5\u534f\u8bae\u7528\u4e8e\u65e7\u7684\u7248\u672c\u4e2d. \u76ee\u524d\u4ecd\u7136\u652f\u6301.</li> </ul>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u670d\u52a1\u7f51\u683c\u63a2\u9488\u534f\u8bae","title":"\u670d\u52a1\u7f51\u683c\u63a2\u9488\u534f\u8bae","text":"<p>Sidecar \u4e2d\u7684\u63a2\u9488\u6216\u4ee3\u7406\u53ef\u4ee5\u4f7f\u7528\u8be5\u534f\u8bae\u53d1\u9001\u6570\u636e\u5230\u540e\u7aef. \u8be5\u670d\u52a1\u901a\u8fc7 gRPC \u5b9e\u73b0, \u9700\u8981\u4ee5\u4e0b\u5173\u952e\u4fe1\u606f:</p> <ol> <li>\u5728\u670d\u52a1\u4e24\u4fa7\u90fd\u9700\u8981\u670d\u52a1\u540d\u6216 ID</li> <li>\u5728\u670d\u52a1\u4e24\u4fa7\u90fd\u9700\u8981\u670d\u52a1\u5b9e\u4f8b\u540d\u79f0\u6216 ID</li> <li>\u7aef\u70b9. HTTP \u4e2d\u7684 URI, gRPC \u4e2d\u7684\u65b9\u6cd5\u5b8c\u6574\u7b7e\u540d.</li> <li>\u65f6\u5ef6. \u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d</li> <li>HTTP \u4e2d\u7684\u54cd\u5e94\u7801</li> <li>\u72b6\u6001. \u6210\u529f\u6216\u5931\u8d25</li> <li>\u534f\u8bae. HTTP, gRPC \u7b49</li> <li>\u76d1\u6d4b\u70b9. \u5728\u670d\u52a1\u7f51\u683c sidecar \u4e2d, <code>client</code> \u6216 <code>server</code>\u3002 \u5728\u666e\u901a\u7684 L7 \u4ee3\u7406\u4e2d, \u503c\u662f <code>proxy</code>.</li> </ol> <p>\u7b2c\u4e09\u65b9\u6253\u70b9\u534f\u8bae</p> <p>SkyWalking \u5e76\u4e0d\u5b9a\u4e49\u7b2c\u4e09\u65b9\u6253\u70b9\u534f\u8bae. \u5b83\u4eec\u53ea\u662f\u534f\u8bae\u548c\u6570\u636e\u683c\u5f0f, SkyWalking \u517c\u5bb9\u8fd9\u4e9b\u534f\u8bae\u548c\u6570\u636e\u683c\u5f0f, \u4e14\u53ef\u4ee5\u63a5\u6536\u5b83\u4eec. SkyWalking \u4e00\u5f00\u59cb\u5c31\u652f\u6301 Zipkin v1, v2 \u6570\u636e\u683c\u5f0f. \u540e\u7aef\u9075\u5faa\u6a21\u5757\u5316\u539f\u5219, \u6240\u4ee5\u8981\u6269\u5c55\u65b0\u7684\u63a5\u6536\u5668\u4ee5\u652f\u6301\u65b0\u7684\u534f\u8bae\u548c\u683c\u5f0f\u662f\u975e\u5e38\u5bb9\u6613\u7684.</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u67e5\u8be2\u534f\u8bae","title":"\u67e5\u8be2\u534f\u8bae","text":"<p>\u67e5\u8be2\u534f\u8bae\u9075\u5faa GraphQL \u8bed\u6cd5, \u63d0\u4f9b\u4e86\u6570\u636e\u67e5\u8be2\u80fd\u529b, \u8fd9\u90fd\u53d6\u51b3\u4e8e\u4f60\u8981\u5206\u6790\u7684\u6307\u6807.</p> <p>\u5b9e\u9645\u7684\u67e5\u8be2 GraphQL \u811a\u672c\u53ef\u4ee5\u5728 <code>query-protocol</code> \u6587\u4ef6\u5939\u5185\u627e\u5230.</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#ui\u53ef\u89c6\u5316","title":"UI\u53ef\u89c6\u5316","text":"<p>SkyWalking \u539f\u751f UI \u63d0\u4f9b\u4e86\u4e00\u79cd\u9ed8\u8ba4\u7684\u53ef\u89c6\u5316\u65b9\u6848. \u5b83\u63d0\u4f9b\u4e86\u5173\u4e8e\u603b\u89c8, \u670d\u52a1, \u670d\u52a1\u5b9e\u4f8b, \u7aef\u70b9, \u8ffd\u8e2a\u548c\u62a5\u8b66\u76f8\u5173\u7684\u89c2\u6d4b\u56fe, \u5305\u62ec\u4e86\u62d3\u6251\u56fe, \u4f9d\u8d56\u56fe, \u70ed\u70b9\u56fe\u7b49\u7b49.</p> <p>\u800c\u4e14\uff0c\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\uff0c\u6211\u4eec\u7684\u8bb8\u591a\u7528\u6237\u5728\u4ea7\u54c1\u4e2d\u5df2\u7ecf\u96c6\u6210\u4e86SkyWalking\u3002 \u5982\u679c\u4f60\u4e5f\u60f3\u8fd9\u6837\u505a\uff0c\u8bf7\u53c2\u8003skywalk\u67e5\u8be2\u534f\u8bae\u3002</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u670d\u52a1\u7aefui\u548ccli\u8bbe\u7f6e","title":"\u670d\u52a1\u7aef\u3001UI\u548cCLI\u8bbe\u7f6e","text":"<p>SkyWalking \u540e\u7aef\u53d1\u5e03\u5305\u4e3b\u8981\u5206\u4ee5\u4e0b\u51e0\u5757\u5185\u5bb9;</p> <ol> <li>\u542f\u52a8\u811a\u672c, <code>/bin</code> \u76ee\u5f55. \u5305\u542blinux\u542f\u52a8\u548cWindows\u542f\u52a8\u670d\u52a1\u548cUI\u7684\u811a\u672c.</li> <li>\u914d\u7f6e\u6587\u4ef6, <code>/config</code> \u76ee\u5f55. \u5305\u542b\u4ee5\u4e0b\u914d\u7f6e\u6587\u4ef6.</li> <li><code>application.yml</code></li> <li><code>log4j.xml</code></li> <li><code>alarm-settings.yml</code></li> <li>\u5f15\u7528Jar, <code>/oap-libs</code> \u76ee\u5f55. \u5305\u542b\u670d\u52a1\u7aef\u6240\u6709\u4f9d\u8d56\u7684jar\u5305.</li> <li>Webapp\u76f8\u5173, <code>webapp</code> \u76ee\u5f55. \u5305\u542bUI\u754c\u9762\u7684jar\u548c <code>webapp.yml</code>\u7684\u914d\u7f6e\u6587\u4ef6.</li> </ol>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u5feb\u901f\u5165\u95e8","title":"\u5feb\u901f\u5165\u95e8","text":"","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u9ed8\u8ba4\u73af\u5883","title":"\u9ed8\u8ba4\u73af\u5883","text":"<p>\u9700\u8981: JDK8\u5230JDK12\u5df2\u6d4b\u8bd5\uff0c\u5176\u4ed6\u7248\u672c\u672a\u6d4b\u8bd5.</p> <p>\u5728\u770b\u8fd9\u4e2a\u4e4b\u524d\uff0c\u5e0c\u671b\u4f60\u77e5\u9053\uff0c\u5feb\u901f\u5165\u95e8\u53ea\u662f\u662f\u8fd0\u884cSkywalking\u7684Backend\u548cUI\u6765\u8fdb\u884c\u9884\u89c8\u6216\u6f14\u793a\u3002\u5728\u8fd9\u513f\uff0c\u6027\u80fd\u548c\u957f\u671f\u8fd0\u884c\u4e0d\u662f\u672c\u7ae0\u8282\u5185\u5bb9\u3002</p> <p>\u60f3\u90e8\u7f72\u5230product\u6216test\u7b49\u73af\u5883\u67e5\u770b\u90e8\u7f72\u670d\u52a1\u7aef\u548c\u754c\u9762UI</p> <p>\u4f60\u53ef\u4ee5\u901a\u8fc7<code>bin/startup.sh</code>(\u6216cmd) \u5728\u9ed8\u8ba4\u8bbe\u7f6e\u4e0b\u542f\u52a8Backend\u548cUI,\uff0c\u540c\u65f6\u5e0c\u671b\u4f60\u80fd\u4e86\u89e3\uff1a</p> <ul> <li>\u9ed8\u8ba4\u4f7f\u7528H2\u5b58\u50a8\uff0c\u8fd9\u6837\u5c31\u4e0d\u9700\u8981\u90e8\u7f72\u522b\u7684\u4e86\u3002</li> <li>Backend\u7684gRPC\u76f8\u5173\u7684API\u53ef\u8bbf\u95ee<code>0.0.0.0/11800</code>\uff0crest\u76f8\u5173\u7684API\u53ef\u8bbf\u95ee<code>0.0.0.0/12800</code>\u3002</li> </ul> <p>\u5728Java\uff0c.NetCore\uff0cNode.js\uff0c Istio agents/probe\u4e2d\uff0c\u8bbe\u7f6egRPC\u670d\u52a1\u5730\u5740\u4e3a<code>ip/host:11800</code>\u3002 (ip/host\u586b\u5199Backend\u66b4\u9732\u7684)</p> <ul> <li>UI \u76d1\u542c<code>8080</code> \u7aef\u53e3,\u540c\u65f6\u8bf7\u6c42<code>127.0.0.1/12800</code>\u6765\u505aGraphQL\u67e5\u8be2\u3002</li> </ul>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u90e8\u7f72\u670d\u52a1\u7aef\u548c\u754c\u9762ui","title":"\u90e8\u7f72\u670d\u52a1\u7aef\u548c\u754c\u9762UI","text":"<p>\u5feb\u901f\u5165\u95e8\u540e\uff0c\u60a8\u5e94\u8be5\u5e0c\u671b\u5728\u5206\u5e03\u5f0f\u73af\u5883\u4e2d\u90e8\u7f72\u540e\u7aef\u548cUI\u3002 \u5728\u90a3\u4e4b\u524d\uff0c \u4f60\u9700\u8981\u77e5\u9053agent/probe, Backend\u548cUI\u4e4b\u95f4\u662f\u600e\u4e48\u4ea4\u4e92\u7684\u3002</p> <p></p> <ul> <li>\u6240\u6709\u539f\u751f\u7684agents\u548cprobes\uff0c\u4e0d\u7ba1\u57fa\u4e8e\u4f55\u79cd\u8bed\u8a00\u6216\u7f51\u683c\u63a2\u9488\uff0c\u90fd\u662f\u4f7f\u7528gRPC\u670d\u52a1(<code>core/default/gRPC*</code> in <code>application.yml</code>) \u4e0a\u62a5\u6570\u636e\u7ed9\u670d\u52a1\u7aef\u3002\u53e6\u5916\uff0cjson\u683c\u5f0f\u652f\u6301Jetty\u670d\u52a1\u3002</li> <li>UI \u4f7f\u7528GraphQL(HTTP)\u67e5\u8be2\u6765\u8bbf\u95eeBackend\uff0c\u5728Jetty\u670d\u52a1\u4e2d\u4e5f\u662f(<code>core/default/rest*</code> in <code>application.yml</code>)\u3002</li> </ul>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#backend\u542f\u52a8","title":"Backend\u542f\u52a8","text":"<p>\u9996\u5148\u4e5f\u662f\u6700\u91cd\u8981\u7684\u662f\uff0cSkywalking backend\u542f\u52a8\u884c\u4e3a\u7531<code>config/application.yml</code>\u9a71\u52a8\u3002 \u4e86\u89e3\u8fd9\u4e2a\u8bbe\u7f6e\u6587\u4ef6\u5c06\u5e2e\u52a9\u60a8\u9605\u8bfb\u6b64\u6587\u6863\u3002</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u542f\u52a8\u811a\u672c","title":"\u542f\u52a8\u811a\u672c","text":"<p>\u9ed8\u8ba4\u7684\u542f\u52a8\u811a\u672c\u662f<code>/bin/oapService.sh</code>(.bat)\u3002 </p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u542f\u52a8\u6a21\u5f0f","title":"\u542f\u52a8\u6a21\u5f0f","text":"<p>\u5728\u4e0d\u540c\u7684\u90e8\u7f72\u5de5\u5177\uff08\u5982K8S\uff09\u4e2d\uff0c\u53ef\u80fd\u9700\u8981\u4e0d\u540c\u7684\u542f\u52a8\u6a21\u5f0f\u3002 \u6211\u4eec\u8fd8\u63d0\u4f9b\u53e6\u5916\u4e24\u79cd\u53ef\u9009\u7684\u542f\u52a8\u6a21\u5f0f\u3002</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u9ed8\u8ba4\u6a21\u5f0f","title":"\u9ed8\u8ba4\u6a21\u5f0f","text":"<p>\u9ed8\u8ba4\u6a21\u5f0f\u3002\u5982\u679c\u9700\u8981\uff0c\u8fdb\u884c\u521d\u59cb\u5316\u5de5\u4f5c\uff0c\u542f\u52a8\u76d1\u542c\u5e76\u63d0\u4f9b\u670d\u52a1\u3002</p> <p>\u8fd0\u884c <code>/bin/oapService.sh</code>(.bat) \u6765\u542f\u52a8\u8fd9\u4e2a\u6a21\u5f0f\u3002\u4e5f\u53ef\u4ee5\u5728\u4f7f\u7528 <code>startup.sh</code>(.bat)\u6765\u542f\u52a8\u3002</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u521d\u59cb\u5316\u6a21\u5f0f","title":"\u521d\u59cb\u5316\u6a21\u5f0f","text":"<p>\u5728\u6b64\u6a21\u5f0f\u4e0b\uff0cOAP\u670d\u52a1\u5668\u542f\u52a8\u4ee5\u6267\u884c\u521d\u59cb\u5316\u5de5\u4f5c\uff0c\u7136\u540e\u9000\u51fa\u3002 \u60a8\u53ef\u4ee5\u4f7f\u7528\u6b64\u6a21\u5f0f\u521d\u59cb\u5316\u5b58\u50a8\uff0c\u4f8b\u5982ElasticSearch\u7d22\u5f15\u3001MySQL\u548cTIDB\u8868\uff0c\u548cinit\u6570\u636e\u3002</p> <p>\u8fd0\u884c <code>/bin/oapServiceInit.sh</code>(.bat) \u6765\u542f\u52a8\u8fd9\u4e2a\u6a21\u5f0f\u3002</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u975e\u521d\u59cb\u5316\u6a21\u5f0f","title":"\u975e\u521d\u59cb\u5316\u6a21\u5f0f","text":"<p>\u5728\u6b64\u6a21\u5f0f\u4e0b\uff0cOAP\u670d\u52a1\u5668\u4e0d\u8fdb\u884c\u521d\u59cb\u5316\u3002 \u4f46\u5b83\u7b49\u5f85\u5b58\u5728\u5f39\u6027\u641c\u7d22\u7d22\u5f15\u3001mysql\u548ctidb\u8868\uff0c\u5f00\u59cb\u503e\u542c\u5e76\u63d0\u4f9b\u670d\u52a1\u3002\u610f\u5473\u7740\u6b64OAP\u670d\u52a1\u5e0c\u671b\u522b\u7684OAP\u670d\u52a1\u5668\u8fdb\u884c\u521d\u59cb\u5316\u3002</p> <p>\u8fd0\u884c <code>/bin/oapServiceNoInit.sh</code>(.bat) \u6765\u542f\u52a8\u8fd9\u4e2a\u6a21\u5f0f\u3002</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#applicationyml","title":"application.yml","text":"<p>\u8fd9\u4e2a\u8bbe\u7f6e\u6587\u4ef6\u80cc\u540e\u7684\u6838\u5fc3\u6982\u5ff5\u662f\uff0cSkywalking\u7684Collector\u57fa\u4e8e\u7eaf\u6a21\u5757\u5316\u8bbe\u8ba1\u3002 \u6700\u7ec8\u7528\u6237\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u9700\u6c42\u5207\u6362\u6216\u7ec4\u88c5\u6536\u96c6\u5668\u529f\u80fd\u3002</p> <p>\u6240\u6709, \u5728<code>application.yml</code>\u91cc\u6709\u4e09\u4e2a\u7ea7\u522b\u3002</p> <ol> <li>Level 1, \u6a21\u5757\u540d\u3002\u6a21\u5757\u5b9a\u4e49\u9879\u3002</li> <li>Level 2, \u6a21\u5757\u7c7b\u578b\u3002 \u8bbe\u7f6e\u6a21\u5757\u7c7b\u578b\u3002</li> <li>Level 3. \u7c7b\u578b\u5c5e\u6027\u3002</li> </ol> <p>\u4f8b\u5982:</p> <pre><code>storage:\n  selector: mysql # the mysql storage will actually be activated, while the h2 storage takes no effect\n  h2:\n    driver: ${SW_STORAGE_H2_DRIVER:org.h2.jdbcx.JdbcDataSource}\n    url: ${SW_STORAGE_H2_URL:jdbc:h2:mem:skywalking-oap-db}\n    user: ${SW_STORAGE_H2_USER:sa}\n    metadataQueryMaxSize: ${SW_STORAGE_H2_QUERY_MAX_SIZE:5000}\n  mysql:\n    properties:\n      jdbcUrl: ${SW_JDBC_URL:\"jdbc:mysql://localhost:3306/swtest\"}\n      dataSource.user: ${SW_DATA_SOURCE_USER:root}\n      dataSource.password: ${SW_DATA_SOURCE_PASSWORD:root@1234}\n      dataSource.cachePrepStmts: ${SW_DATA_SOURCE_CACHE_PREP_STMTS:true}\n      dataSource.prepStmtCacheSize: ${SW_DATA_SOURCE_PREP_STMT_CACHE_SQL_SIZE:250}\n      dataSource.prepStmtCacheSqlLimit: ${SW_DATA_SOURCE_PREP_STMT_CACHE_SQL_LIMIT:2048}\n      dataSource.useServerPrepStmts: ${SW_DATA_SOURCE_USE_SERVER_PREP_STMTS:true}\n    metadataQueryMaxSize: ${SW_STORAGE_MYSQL_QUERY_MAX_SIZE:5000}\n  # other configurations\n</code></pre> <ol> <li><code>storage</code> is the \u6a21\u5757\u540d.</li> <li><code>selector</code> \u6a21\u5757\u7c7b\u578b.</li> <li><code>default</code> \u6a21\u5757\u9ed8\u8ba4\u5c5e\u6027.</li> <li><code>driver</code>, <code>url</code>, ... <code>metadataQueryMaxSize</code> \u7c7b\u578b\u5c5e\u6027.</li> </ol> <p>\u540c\u65f6\uff0c\u6a21\u5757\u5305\u62ec\u5fc5\u4fee\u6a21\u5757\u548c\u53ef\u9009\u6a21\u5757\uff0c\u5fc5\u4fee\u6a21\u5757\u63d0\u4f9b\u540e\u7aef\u6846\u67b6\uff0c \u5373\u4f7f\u6a21\u5757\u5316\u652f\u6301\u53ef\u63d2\u62d4\uff0c\u5220\u9664\u8fd9\u4e9b\u6a21\u5757\u662f\u6ca1\u6709\u610f\u4e49\u7684\uff0c\u5bf9\u4e8e\u53ef\u9009\u6a21\u5757\uff0c\u5176\u4e2d\u4e00\u4e9b\u6709 \u4e00\u4e2a\u540d\u4e3a\u201cnone\u201d\u7684\u63d0\u4f9b\u7a0b\u5e8f\u5b9e\u73b0\uff0c\u8fd9\u610f\u5473\u7740\u5b83\u53ea\u63d0\u4f9b\u4e00\u4e2a\u6ca1\u6709\u5b9e\u9645\u903b\u8f91\u7684shell\uff0c\u5178\u578b\u7684\u4f8b\u5b50\u662ftelemetry\u3002 \u5c06\u201c-\u201d\u8bbe\u7f6e\u4e3a\u201cselector\u201d\u610f\u5473\u7740\u5728\u8fd0\u884c\u65f6\u5c06\u6392\u9664\u6574\u4e2a\u6a21\u5757\u3002 \u6211\u4eec\u5f3a\u70c8\u5efa\u8bae\u60a8\u4e0d\u8981\u5c1d\u8bd5\u66f4\u6539\u8fd9\u4e9b\u6a21\u5757\u7684api\uff0c\u9664\u975e\u4f60\u975e\u5e38\u4e86\u89e3SkyWalking\u9879\u76ee\u53ca\u5176\u4ee3\u7801\u3002</p> <p>\u5fc5\u987b\u7684\u6a21\u5757\u5217\u8868</p> <ol> <li>Core\u3002\u505a\u6240\u6709\u6570\u636e\u5206\u6790\u548c\u6d41\u8c03\u5ea6\u7684\u57fa\u672c\u548c\u4e3b\u8981\u6846\u67b6\u3002</li> <li>Cluster\u3002\u7ba1\u7406\u96c6\u7fa4\u4e2d\u7684\u591a\u4e2a\u540e\u7aef\u5b9e\u4f8b\uff0c\u8fd9\u53ef\u4ee5\u63d0\u4f9b\u9ad8\u541e\u5410\u91cf\u7684\u5904\u7406\u80fd\u529b\u3002</li> <li>Storage\u3002\u6301\u4e45\u5316\u5206\u6790\u7ed3\u679c\u3002</li> <li>Query\u3002\u63d0\u4f9b\u67e5\u8be2\u63a5\u53e3\u7ed9UI\u3002</li> </ol> <p>\u5bf9\u4e8eCluster \u548cStorage \u6709\u591a\u4e2a\u5b9e\u73b0\u8005(\u63d0\u4f9b\u8005), \u67e5\u770b Cluster management \u548c Choose storage \u7684link list\u6587\u6863\u3002</p> <p>\u4e00\u4e9breceiver \u6a21\u5757\u4e5f\u63d0\u4f9b\u4e86\u3002 Receiver\u662f\u4e00\u4e2a\u6a21\u5757\uff0c\u8d1f\u8d23\u63a5\u53d7\u540e\u7aef\u7684\u4f20\u5165\u6570\u636e\u8bf7\u6c42\u3002\u5927\u591a\u6570\uff08\u6240\u6709\uff09\u901a\u8fc7\u4e00\u4e9brpc\u534f\u8bae\uff0c\u5982GRPC\u548cHTTPrestful\u63d0\u4f9b\u3002 Receiver\u6709\u8bb8\u591a\u4e0d\u540c\u7684\u6a21\u5757\u540d\uff0c\u4f60\u53ef\u4ee5\u9605\u8bfblink list\u4e2d\u7684Set receivers\u6587\u6863\u3002</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u9ad8\u7ea7\u7279\u6027\u7684\u6587\u6863\u94fe\u63a5\u5217\u8868","title":"\u9ad8\u7ea7\u7279\u6027\u7684\u6587\u6863\u94fe\u63a5\u5217\u8868","text":"<p>\u5728\u7406\u89e3\u4e86\u8bbe\u7f6e\u6587\u4ef6\u7ed3\u6784\u4e4b\u540e\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u60a8\u611f\u5174\u8da3\u7684\u529f\u80fd\u6587\u6863\u3002 \u6211\u4eec\u5efa\u8bae\u60a8\u6309\u7167\u4ee5\u4e0b\u987a\u5e8f\u9605\u8bfb\u529f\u80fd\u6587\u6863\u3002</p> <ol> <li>Overriding settings\u3002\u652f\u6301\u91cd\u5199application.yml\u4e2d\u7684\u8bbe\u7f6e\u3002</li> <li>IP and port setting\u3002\u4ecb\u7ecd\u5982\u4f55\u8bbe\u7f6e\u548c\u4f7f\u7528IP\u548c\u7aef\u53e3\u3002</li> <li>Backend init mode startup\u3002\u5982\u4f55\u521d\u59cb\u5316\u73af\u5883\u5e76\u4f18\u96c5\u5730\u9000\u51fa\u3002 \u5728\u5c1d\u8bd5\u521d\u59cb\u5316\u65b0\u7fa4\u96c6\u4e4b\u524d\uff0c\u8bf7\u9605\u8bfb\u6b64\u5185\u5bb9\u3002</li> <li>Cluster management\u3002\u6307\u5bfc\u60a8\u5c06backend\u670d\u52a1\u5668\u8bbe\u7f6e\u4e3a\u7fa4\u96c6\u6a21\u5f0f\u3002</li> <li>Deploy in kubernetes.\u3002\u6307\u5bfc\u60a8\u6784\u5efa\u548c\u4f7f\u7528Skywalking\u955c\u50cf\uff0c\u5e76\u5728K8S\u4e2d\u90e8\u7f72\u3002</li> <li>Choose storage.\u5982\u6211\u4eec\u6240\u77e5\uff0c\u5728\u9ed8\u8ba4\u7684\u5feb\u901f\u542f\u52a8\u4e2d\uff0cbackend \u4f7f\u7528h2\u6570\u636e\u5e93\u8fd0\u884c\u3002\u4f46\u663e\u7136\uff0c\u5b83\u4e0d\u7b26\u5408\u4ea7\u54c1\u73af\u5883\u3002\u5728\u8fd9\u91cc\uff0c\u4f60\u53ef\u4ee5\u627e\u5230\u5176\u4ed6\u7684\u9009\u62e9\u3002 \u9009\u62e9\u4f60\u559c\u6b22\u7684\uff0c\u6211\u4eec\u4e5f\u6b22\u8fce\u4efb\u4f55\u4eba\u8d21\u732e\u65b0\u7684\u5b58\u50a8\u5b9e\u65bd\u8005\uff0c</li> <li>Set receivers\u3002 \u4f60\u53ef\u4ee5\u6839\u636e\u4f60\u7684\u8981\u6c42\u9009\u62e9\u63a5\u6536\u8005\uff0c\u5927\u591a\u6570\u63a5\u6536\u8005\u662f\u65e0\u5bb3\u7684\uff0c\u81f3\u5c11\u6211\u4eec\u7684\u9ed8\u8ba4\u63a5\u6536\u5668\u662f\u65e0\u5bb3\u7684\u3002\u60a8\u53ef\u4ee5\u8bbe\u7f6e\u5e76\u6fc0\u6d3b\u6240\u6709\u63d0\u4f9b\u7684\u63a5\u6536\u5668\u3002</li> <li>Open fetchers. \u4f60\u53ef\u4ee5\u4ece\u76ee\u6807\u5e94\u7528\u7a0b\u5e8f\u8bfb\u53d6\u6307\u6807\u3002\u5b83\u4eec\u7684\u5de5\u4f5c\u539f\u7406\u5c31\u50cf\u63a5\u6536\u5668\uff0c\u4f46\u5728\u62c9\u53d6\u6a21\u5f0f\u4e0b\uff0c\u5c31\u50cf\u5178\u578b\u7684\u666e\u7f57\u7c73\u4fee\u65af.</li> <li>Token authentication. \u4f60\u53ef\u4ee5\u6dfb\u52a0\u4ee4\u724c\u8eab\u4efd\u9a8c\u8bc1\u673a\u5236\uff0c\u4ee5\u907f\u514d\u201cOAP\u201d\u63a5\u6536\u4e0d\u53ef\u4fe1\u7684\u6570\u636e.</li> <li>\u5728backend\u8fdb\u884ctrace sampling \u3002 \u6b64\u793a\u4f8b\u4fdd\u6301\u5ea6\u91cf\u7684\u51c6\u786e\u6027\uff0c\u4f46\u4e0d\u4fdd\u5b58\u67d0\u4e9b\u5b58\u50a8\u4e2d\u4f9d\u8d56\u4e8e\u901f\u7387\u7684traces\u3002</li> <li>\u6839\u636e slow DB statement threshold \u914d\u7f6e\u6587\u6863\u53ef\u4e86\u89e3\u5982\u4f55\u68c0\u6d4b\u7cfb\u7edf\u4e2d\u7684\u6162\u901f\u6570\u636e\u5e93\u8bed\u53e5\uff08\u5305\u62ecSQL\u8bed\u53e5\uff09\u3002</li> <li>\u5b98\u65b9 OAL scripts\u3002\u6b63\u5982\u60a8\u4ece\u6211\u4eec\u7684OAL introduction\u4e2d\u6240\u77e5\uff0c \u5927\u591a\u6570backend\u5206\u6790\u529f\u80fd\u90fd\u57fa\u4e8e\u811a\u672c\u3002\u8fd9\u662f\u5bf9\u5b98\u65b9\u624b\u7a3f\u7684\u63cf\u8ff0\uff0c\u8fd9\u6709\u52a9\u4e8e\u60a8\u4e86\u89e3\u6b63\u5728\u5904\u7406\u7684\u5ea6\u91cf\u6570\u636e\uff0c\u4e5f\u53ef\u4ee5\u7528\u4e8e\u8b66\u62a5\u3002</li> <li>Alarm. \u544a\u8b66\u63d0\u4f9b\u57fa\u4e8e\u65f6\u95f4\u5e8f\u5217\u7684\u68c0\u67e5\u673a\u5236\u3002\u4f60\u53ef\u4ee5\u8bbe\u7f6e\u9488\u5bf9\u5206\u6790OAL\u5ea6\u91cf\u5bf9\u8c61\u7684\u544a\u8b66\u89c4\u5219\u3002</li> <li>Advanced deployment options\u3002\u5982\u679c\u4f60\u9700\u8981\u90e8\u7f72\u7684backend\u6709\u5f88\u5927\u7684\u6269\u5c55\u6027\u5e76\u652f\u6301\u9ad8\u8d1f\u8f7d\uff0c\u4f60\u9700\u8981\u770b\u770b\u8fd9\u4e2a\u3002</li> <li>Metrics exporter. \u4f7f\u7528metrics data\u5bfc\u51fa\u5668\u5c06metric\u6570\u636e\u8f6c\u53d1\u7ed9\u7b2c\u4e09\u65b9\u7cfb\u7edf\u3002</li> <li>Time To Live (TTL). Metrics \u548c trace \u662f\u65f6\u95f4\u5e8f\u5217\u6570\u636e, \u56e0\u6b64\u53ef\u80fd\u4f1a\u88ab\u6c38\u4e45\u5b58\u50a8, \u4f60\u53ef\u4ee5\u8bbe\u7f6e\u5404\u4e2a\u7ef4\u5ea6\u7684\u8fc7\u671f\u65f6\u95f4\u3002</li> <li>Dynamic Configuration. \u4ece\u8fdc\u7a0b\u670d\u52a1\u62c9\u53d6\u52a8\u6001\u6539\u53d8OAP\u914d\u7f6e\u6216\u7b2c\u4e09\u65b9\u914d\u7f6e\u3002</li> <li>Uninstrumented Gateways. \u914d\u7f6eSkyWalking\u4ee3\u7406\u63d2\u4ef6\u4e0d\u652f\u6301\u7684\u7f51\u5173/\u4ee3\u7406\uff0c\u5728\u62d3\u6251\u56fe\u4e2d\u53cd\u6620\u59d4\u6258\u4fe1\u606f\u3002</li> <li>Apdex threshold. \u5982\u679c\u5728OAL\u4e2d\u6fc0\u6d3bApdex\u8ba1\u7b97\uff0c\u5219\u9700\u8981\u4e3a\u4e0d\u540c\u7684\u670d\u52a1\u914d\u7f6e\u9608\u503c\u3002</li> <li>Group Parameterized Endpoints. \u4e3a\u53c2\u6570\u5316\u7aef\u70b9\u914d\u7f6e\u5206\u7ec4\u89c4\u5219\uff0c\u4ee5\u6539\u8fdb\u6307\u6807\u7684\u610f\u4e49\u3002</li> </ol>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#backend-\u9065\u6d4b","title":"backend \u9065\u6d4b","text":"<p>OAP\u540e\u7aef\u96c6\u7fa4\u672c\u8eab\u7684\u5e95\u5c42\u662f\u4e00\u4e2a\u5206\u5e03\u5f0f\u6d41\u5904\u7406\u7cfb\u7edf\u3002\u4e3a\u4e86\u5e2e\u52a9\u8fd0\u8425\u56e2\u961f\uff0c\u6211\u4eec\u4e3aOAP\u540e\u7aef\u672c\u8eab\u63d0\u4f9b\u9065\u6d4b\u3002\u6309\u7167document\u4f7f\u7528\u5b83\u3002</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#faqs","title":"FAQs","text":"","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u4f55\u65f6\u4ee5\u53ca\u4e3a\u4f55\u6211\u4eec\u9700\u8981\u8bbe\u7f6e\u65f6\u533a","title":"\u4f55\u65f6\u4ee5\u53ca\u4e3a\u4f55\u6211\u4eec\u9700\u8981\u8bbe\u7f6e\u65f6\u533a","text":"<p>SkyWalking \u63d0\u4f9b\u4e86\u964d\u53d6\u6837\u65f6\u95f4\u5e8f\u5217\u6307\u6807\u7684\u529f\u80fd. \u6839\u636e\u5404\u4e2a\u65f6\u95f4\u7ef4\u5ea6(\u5982\u5206\u949f, \u5c0f\u65f6, \u5929, \u6708)\u8fdb\u884c\u67e5\u8be2\u548c\u5b58\u50a8\u65f6\u7684\u65f6\u95f4\u683c\u5f0f\u5316\u4f1a\u6d89\u53ca\u5230\u65f6\u533a\u3002</p> <p>\u6bd4\u5982\u8bf4, \u6309\u5206\u949f\u7ef4\u5ea6\u7684\u6307\u6807\u65f6\u95f4\u5c06\u4f1a\u88ab\u683c\u5f0f\u5316\u6210 YYYYMMDDHHmm \u683c\u5f0f, \u683c\u5f0f\u5316\u8fc7\u7a0b\u662f\u548c\u65f6\u533a\u76f8\u5173\u7684\u3002</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b, SkyWalking OAP \u540e\u7aef\u9009\u62e9\u64cd\u4f5c\u7cfb\u7edf\u7684\u9ed8\u8ba4\u65f6\u533a, \u5982\u679c\u4f60\u60f3\u8986\u76d6\u8fd9\u4e2a\u884c\u4e3a, \u8bf7\u6309\u7167\u666e\u901a Java \u7a0b\u5e8f\u548c\u64cd\u4f5c\u7cfb\u7edf\u8bbe\u7f6e\u7684\u76f8\u5173\u6587\u6863\u8fdb\u884c\u8bbe\u7f6e\u3002</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u5982\u4f55\u901a\u8fc7\u7b2c\u4e09\u65b9\u5de5\u5177\u67e5\u8be2\u5b58\u50a8\u4fe1\u606f","title":"\u5982\u4f55\u901a\u8fc7\u7b2c\u4e09\u65b9\u5de5\u5177\u67e5\u8be2\u5b58\u50a8\u4fe1\u606f?","text":"<p>SkyWalking\u63d0\u4f9b\u4e86\u6d4f\u89c8\u5668UI\u3001CLI\u548cGraphQL\u65b9\u5f0f\u6765\u652f\u6301\u6269\u5c55. \u4f46\u6709\u4e9b\u7528\u6237\u53ef\u80fd\u4f1a\u60f3\u5230\u76f4\u63a5\u4ece\u5b58\u50a8\u4e2d\u67e5\u8be2\u6570\u636e\u3002 \u6bd4\u5982\u5728ElasticSearch\u7684\u4f8b\u5b50\u4e2d\uff0cKibana\u5c31\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u5de5\u5177\u3002</p> <p>\u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u7531\u4e8e\u51cf\u5c11\u5185\u5b58\u3001\u7f51\u7edc\u548c\u5b58\u50a8\u7a7a\u95f4\u7684\u4f7f\u7528, skywalk\u53ea\u5728\u5b9e\u4f53\u4e2d\u4fdd\u5b58id\uff0c\u800c\u5143\u6570\u636e\u53ea\u4fdd\u5b58\u5728\u201c*_inventory\u201d\u5b9e\u4f53\u4e2d\u3002 \u5728\u8fd9\u79cd\u7279\u6b8a\u60c5\u51b5\u4e0b\u8fd9\u4e9b\u5de5\u5177\u901a\u5e38\u4e0d\u652f\u6301\u5d4c\u5957\u67e5\u8be2\uff0c\u6216\u8005\u5de5\u4f5c\u8d77\u6765\u4e0d\u65b9\u4fbf\u3002 SkyWalking\u63d0\u4f9b\u4e86\u4e00\u4e2a\u914d\u7f6e\uff0c\u5c06\u6240\u6709\u5fc5\u8981\u7684name\u5217\u6dfb\u52a0\u5230\u6700\u7ec8\u7684\u5ea6\u91cf\u5b9e\u4f53\u4e2d\uff0c\u4ee5ID\u4f5c\u4e3a\u6743\u8861\u3002</p> <p>\u770b\u4e00\u4e0b'application.yaml'\u4e2d\u914d\u7f6e\u201ccore/default/activeExtraModelColumns\u201d\uff0c\u5e76\u5c06\u5176\u8bbe\u7f6e\u4e3atrue\u4ee5\u6253\u5f00\u8be5\u7279\u6027\u3002</p> <p>\u8fd9\u4e2a\u7279\u6027\u4e0d\u4f1a\u4e3a\u672c\u5730\u7684skywalk\u573a\u666f\u63d0\u4f9b\u4efb\u4f55\u65b0\u7279\u6027\uff0c\u53ea\u7528\u4e8e\u7b2c\u4e09\u65b9\u96c6\u6210\u3002</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#ui","title":"UI","text":"<p>Skywalking UI\u7684\u53d1\u884c\u7248\u5df2\u7ecf\u5305\u542b\u5728\u6211\u4eec\u7684Apache\u5b98\u65b9\u7248\u672c\u4e2d\u3002</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u542f\u52a8","title":"\u542f\u52a8","text":"<p>\u542f\u52a8\u811a\u672c\u4e5f\u5728<code>/bin/webappService.sh</code>(.bat). UI \u8fd0\u884c\u4e00\u4e2ajava\u8fdb\u7a0b\uff0c\u7528\u7684zuul\u6846\u67b6\u3002</p>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u8bbe\u7f6e","title":"\u8bbe\u7f6e","text":"<p>UI\u7684\u8bbe\u7f6e\u6587\u4ef6\u662f\u53d1\u884c\u5305\u91cc\u7684<code>webapp/webapp.yml</code>\u3002\u5b83\u7531\u4e09\u4e2a\u90e8\u5206\u7ec4\u6210\u3002</p> <ol> <li>\u76d1\u542c\u7aef\u53e3</li> <li>\u914d\u7f6e\u8f6c\u53d1\u8fde\u63a5\u4fe1\u606f</li> </ol> <pre><code>server:\n  port: 8080\n\ncollector:\n  path: /graphql\n  ribbon:\n    ReadTimeout: 10000\n    # Point to all backend's restHost:restPort, split by , \n    listOfServers: 10.2.34.1:12800,10.2.34.2:12800\n</code></pre>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/05/21/skywalking%E6%95%99%E7%A8%8B/#\u53c2\u8003","title":"\u53c2\u8003","text":"<ul> <li> <p>skywalking\u4e2d\u6587\u6587\u6863\uff0c\u73b0\u5728\u5c31\u7ef4\u62a4\u52308.0.0 </p> </li> <li></li> </ul>","tags":["skywalking","java","\u4e91\u539f\u751f"]},{"location":"2024/11/25/%E8%82%A1%E7%A5%A8%E6%8A%95%E8%B5%84%E5%BF%83%E5%BE%97/","title":"\u80a1\u7968\u6295\u8d44\u5fc3\u5f97","text":"<p>\u9694\u4e09\u5dee\u4e94\u8bb0\u5f55\u81ea\u5df1\u7684\u7092\u80a1\u5fc3\u5f97\uff0c\u5e38\u770b\u5e38\u65b0</p>","tags":["\u80a1\u7968","\u6295\u8d44"]},{"location":"2024/11/25/%E8%82%A1%E7%A5%A8%E6%8A%95%E8%B5%84%E5%BF%83%E5%BE%97/#\u5fc3\u6001","title":"\u5fc3\u6001","text":"<p>\u4ea4\u6613\u7684\u5e02\u573a\u6709\u8d77\u6709\u843d\uff0c\u5fc3\u6001\u4e00\u5b9a\u8981\u653e\u597d</p>","tags":["\u80a1\u7968","\u6295\u8d44"]},{"location":"2024/11/25/%E8%82%A1%E7%A5%A8%E6%8A%95%E8%B5%84%E5%BF%83%E5%BE%97/#\u4ea4\u6613\u7b56\u7565","title":"\u4ea4\u6613\u7b56\u7565","text":"<p>\u884c\u60c5\u4e0d\u597d\u7684\u65f6\u5019\uff0c\u7edd\u5bf9\u4e0d\u8981\u6ee1\u4ed3\uff0c\u8981\u7559\u5b50\u5f39\u7075\u6d3b\u6447\u6446\uff1b</p> <p>\u884c\u60c5\u4e0d\u597d\u7684\u65f6\u5019\uff0c\u6709\u4e00\u4e9b\u7a33\u5b9a\u7684\u6807\u7684\uff0c\u5982\u5de5\u5546\u94f6\u884c\uff0c\u4f1a\u51fa\u73b0\u65b0\u9ad8\u7684\u73b0\u8c61</p> <p>\u81ea\u5df1\u5fc3\u6001\u8981\u597d\uff0c\u4e0d\u8981\u56e0\u4e3a\u5c11\u5403\u4e86\u5229\u6da6\u5c31\u96be\u53d7\u60c5\u7eea\u4e0d\u597d\u7684\u65f6\u5019\u8981\u9002\u5f53\u7684\u7a7a\u4ed3</p> <p>\u6700\u8fd1\u7b56\u7565\uff0c\u9009\u51e0\u53ea\u80a1\u7968\u505a\u957f\u7ebf\uff0c\u7136\u540e\u5907\u8db35w\u4f5c\u4e3at\u8d44\u91d1\uff0c\u6bcf\u5929\u7075\u6d3b\u914d\u7f6e\u8bbe\u7f6e\u6b62\u635f\u70b9\uff085%\uff09\u5dee\u4e0d\u591a\u662f2500\u5de6\u53f3\uff0c\u4ee5\u4e0a\u9762\u76845w\u505a\u6e38\u8d44\u53bb\u535a\u5f08\uff0c\u505at\u8981\u6709\u8010\u5fc3\uff0c\u8fd8\u6ca1\u4e8f\u592a\u591a\u5c31\u91ca\u653e\u7b79\u7801\u4e86</p> <p>\u7136\u540e\u53c2\u8003\u77ed\u7ebf\u7684\u9009\u80a1\u65b9\u6848\uff0c\u770b\u70ed\u70b9\u3001\u653f\u7b56\u3001\u9f99\u5934\uff0c\u665a\u4e0a\u7b5b\u9009\u4e00\u4e0b\u60c5\u7eea\u3001\u653f\u7b56\uff0c\u76f8\u4fe1\u56fd\u8fd0</p> <p>\u60c5\u7eea\u4e0d\u597d\u7684\u65f6\u5019\uff0c\u8981\u5b66\u4f1a\u505aT\uff0c\u5373\u4f7f\u6b62\u635f</p> <p>\u5bf9\u4e8e\u5927\u76d8\u4e0d\u5f3a\u52bf\u7684\u65f6\u5019\uff0c\u8981\u5b66\u4f1a\u5728\u53cd\u5f39\u7684\u9ad8\u70b9\u53ca\u65f6\u6b62\u635f\u6216\u8005\u6b62\u76c8\uff0c\u7136\u540eT\u4e00\u6ce2</p> <p>T\u7684\u672c\u8d28\u8fd8\u662f\u964d\u4f4e\u6210\u672c\uff0c\u66f4\u591a\u7684\u8d5a\u94b1\uff0c\u5bf9\u4e8e\u9707\u8361\u7684\u884c\u60c5\uff0c\u8fd8\u662f\u8981\u5927\u80c6\u505aT</p> <p>\u6ca1\u6709\u4eba\u80fd\u5356\u5728\u6700\u9ad8\u70b9\uff0c\u6240\u4ee5\u8981\u9002\u5f53\u7684\u6b62\u76c8</p> <p>\u81ea\u5df1\u65e2\u7136\u5b9a\u4e0b\u4e86\u957f\u77ed\u5e76\u5b58\u7684\u7b56\u7565\uff0c\u5c31\u8981\u5206\u6e05\u695a\uff0c\u54ea\u4e9b\u662f\u957f\u7ebf\uff0c\u54ea\u4e9b\u662f\u77ed\u7ebf\uff0c\u8981\u505a\u5230\u77ed\u7ebf\u7684\u6b62\u76c8\uff0c\u4e0d\u8981\u4ecb\u610f\u540e\u7eed\u7684\u589e\u957f</p> <p>\u4e0d\u8981\u8003\u9a8c\u4eba\u6027\uff0c\u4f60\u61c2\u4eba\u6027\uff0c\u522b\u4eba\u4e5f\u61c2\uff0c\u6240\u4ee5\u8981\u505a\u7684\u5c31\u662f\u6bd4\u4ed6\u4eec\u66f4\u65e9\u4e00\u6b65\u7684\u6536\u624b</p> <p>\u5927A\u4e0d\u662f\u770b\u4e1a\u7ee9\u7684\uff0c\u5996\u80a1\u6ee1\u5929\u98de\uff0c\u6839\u672c\u4e0d\u770b\u4f60\u4e1a\u7ee9\uff0c\u53ea\u8981\u4e1a\u7ee9\u7a0d\u5fae\u4e0d\u8fbe\u9884\u671f\uff0c\u5c31\u662f\u66b4\u8dcc</p> <p>\u5bf9\u81ea\u5df1\u4e0d\u4e86\u89e3\u7684\u7968\u5b50\uff0c\u7b2c\u4e8c\u5929\u4e0a\u6da8\u5230\u6307\u5b9a\u4f4d\u7f6e\uff0c\u4e0b\u843d\u5c31\u5356\u51fa\uff0c\u4e0d\u7136\u5bb9\u6613\u88ab\u57cb</p> <p>\u5728\u725b\u5e02\u7684\u65f6\u5019\uff0c\u4e0d\u8981\u4e71\u52a8\u81ea\u5df1\u7684\u7968\u5b50\uff0c\u5bb9\u6613\u8e0f\u7a7a\uff0c\u65e2\u7136\u4e70\u4e86\u4e00\u5b9a\u8981\u6709\u81ea\u5df1\u7684\u7406\u7531\u548c\u5206\u6790\uff0c\u540e\u7eed\u6bcf\u6b21\u4e70\u7684\u90fd\u8981\u8bb0\u5f55\u4e0b\u6765</p>","tags":["\u80a1\u7968","\u6295\u8d44"]},{"location":"2024/11/25/%E8%82%A1%E7%A5%A8%E6%8A%95%E8%B5%84%E5%BF%83%E5%BE%97/#7\u5927\u4ea4\u6613\u7eaa\u5f8b","title":"7\u5927\u4ea4\u6613\u7eaa\u5f8b","text":"<ul> <li> <p>\u7b2c\u4e00\uff1a\u5982\u679c\u65e9\u76d8\u9ad8\u5f00\u8d85\u8fc75\u4e2a\u70b9\u7684\u7968\uff0c\u4e00\u5b9a\u8981\u7b49\u76d8\u4e2d\u56de\u8e29\u4e4b\u540e\u518d\u8003\u8651\u3002\u4e0d\u80fd\u770b\u89c1\u80a1\u7968\u5c31\u76f4\u63a5\u4e70\u3002\u54ea\u6015\u9519\u8fc7\u6da8\u505c\u677f\uff0c\u4e5f\u4e0d\u8ffd\u9ad8\u3002</p> </li> <li> <p>\u7b2c\u4e8c\uff1a\u56de\u8e29\u5230\u54ea\u4e9b\u4f4d\u7f6e\u53ef\u4ee5\u4e70\uff1f\u770b5\u65e5/10\u65e5\u7ebf\uff0820\u65e5\u7ebf\u652f\u6491\u4e5f\u4f1a\u9002\u5f53\u53c2\u8003\uff09\uff0c\u5982\u679c\u80a1\u4ef7\u8dcc\u78345/10\u65e5\u7ebf\u4e2a\u80a1\uff0c\u5148\u4e0d\u4e70\uff0c\u7b49\u52305\u65e5\u7ebf\u652f\u6491\u9644\u8fd1\u7ad9\u7a33\u518d\u51fa\u624b\uff0c\u4e00\u65e6\u8dcc\u78345/10\u65e5\u7ebf\u6536\u4e0d\u56de\u652f\u6491\uff0c\u90a3\u4e48\u53ef\u4ee5\u8003\u8651\u653e\u5f03\u3002</p> </li> <li>\u7b2c\u4e09\u6761\uff1a\u4e00\u65e6\u4f4e\u4f4d\u4e70\uff0c\u4ed3\u4f4d\u5efa\u8bae\u4e0d\u8d85\u8fc73\u6210\u3001\u6301\u80a1\u5929\uff082-5\u5929\uff09</li> <li>\u7b2c\u56db\u6761\uff1a\u4e00\u65e6\u9ad8\u4f4d\u4e70\uff0c\u4ed3\u4f4d\u5efa\u8bae\u4e0d\u8d85\u8fc72\u6210\u3001\u6301\u80a1\u5929\u6570\uff082-3\u5929\uff09</li> <li>\u7b2c\u4e94\u6761\uff1a\u4e70\u80a1\u7968\uff0c\u5207\u52ff\u540c\u4e00\u4e2a\u4ef7\u683c\u6ee1\u4ed3\u8fdb\uff0c\u770b\u597d\u7684\u80a1\u7968\u53ef\u4ee5\u5148\u8fdb\u5e95\u4ed3\uff0c\u6709\u56de\u8c03\u4e4b\u540e\u518d\u4f4e\u5438\uff0c\u8fd9\u6837\u624d\u80fd\u4e0d\u65ad\u964d\u4f4e\u6210\u672c</li> <li>\u7b2c\u516d\u6761\u3001\u6b62\u76c8\u4f4d\uff0c\u77ed\u7ebf\u4e00\u822c2-4\u5929\u5185\u67098%-15%\u7684\u5229\u6da6\u533a\u95f4\u53ef\u4ee5\u8003\u8651\u81ea\u884c\u6b62\u76c8\u3002\u8bb0\u4f4f\uff1a\u4e0d\u8981\u8d2a\u5fc3\u3002\u505a\u77ed\u7ebf\u53ea\u8981\u7b26\u5408\u6b62\u76c8\u533a\u95f4\uff0c\u8be5\u8d70\u5c31\u8d70\uff0c\u53ea\u6709\u5356\u6389\u7684\u624d\u662f\u5229\u6da6\u3002\u4e0d\u4e8f\u94b1\uff0c\u600e\u4e48\u5356\u90fd\u4e0d\u4f1a\u9519\uff0c\u8fd9\u4e00\u6761\u5f88\u91cd\u8981\uff01\uff01\u907f\u514d\u8d5a\u94b1\u7684\u7968\u53d8\u4e8f\u4e86</li> <li>\u7b2c7\u6761\u662f\u6700\u91cd\u8981\u7684\uff01\u8981\u6709\u6b62\u635f\u7eaa\u5f8b\uff1a\u77ed\u7ebf\u53ea\u8981\u8dcc\u7834\u5341\u65e5\u7ebf\u5c31\u8981\u8003\u8651\u53ca\u65f6\u6b62\u635f\uff0c\u4e2d\u957f\u7ebf\u5219\u770b\u4e8c\u5341\u65e5\u7ebf\u505a\u6b62\u635f\uff01</li> </ul>","tags":["\u80a1\u7968","\u6295\u8d44"]},{"location":"2024/11/25/%E8%82%A1%E7%A5%A8%E6%8A%95%E8%B5%84%E5%BF%83%E5%BE%97/#\u53ef\u4f9b\u53c2\u8003\u7684\u6307\u6807","title":"\u53ef\u4f9b\u53c2\u8003\u7684\u6307\u6807","text":"","tags":["\u80a1\u7968","\u6295\u8d44"]},{"location":"2024/11/25/%E8%82%A1%E7%A5%A8%E6%8A%95%E8%B5%84%E5%BF%83%E5%BE%97/#rsirelative-strength-index","title":"RSI\uff08Relative Strength Index\uff09","text":"<p>\u5373\u76f8\u5bf9\u5f3a\u5f31\u6307\u6807\uff0c\u662f\u901a\u8fc7\u6bd4\u8f83\u4e00\u6bb5\u65f6\u671f\u5185\u7684\u5e73\u5747\u6536\u76d8\u6da8\u6570\u548c\u5e73\u5747\u6536\u76d8\u8dcc\u6570\u6765\u5206\u6790\u5e02\u573a\u4e70\u6cbd\u76d8\u7684\u610f\u5411\u548c\u5b9e\u529b\uff0c\u4ece\u800c\u4f5c\u51fa\u672a\u6765\u5e02\u573a\u7684\u8d70\u52bf\u5224\u65ad\u3002\u8d85\u4e70\u60c5\u51b5\uff1a\u5f53 RSI \u6307\u6807\u8d85\u8fc7 70 \u65f6\uff0c\u5e02\u573a\u88ab\u8ba4\u4e3a\u5904\u4e8e\u8d85\u4e70\u72b6\u6001\u3002\u8fd9\u610f\u5473\u7740\u5728\u77ed\u671f\u5185\uff0c\u80a1\u7968\u4ef7\u683c\u4e0a\u6da8\u7684\u5e45\u5ea6\u8f83\u5927\uff0c\u5e02\u573a\u4e0a\u7684\u591a\u5934\u529b\u91cf\u53ef\u80fd\u5df2\u7ecf\u8fc7\u5ea6\u6d88\u8017\uff0c\u80a1\u4ef7\u6709\u56de\u8c03\u7684\u98ce\u9669\u3002\u8d85\u5356\u60c5\u51b5\uff1a\u5f53 RSI \u6307\u6807\u4f4e\u4e8e 30 \u65f6\uff0c\u5e02\u573a\u5904\u4e8e\u8d85\u5356\u72b6\u6001\u3002\u8fd9\u8868\u793a\u80a1\u7968\u4ef7\u683c\u5728\u77ed\u671f\u5185\u4e0b\u8dcc\u7684\u5e45\u5ea6\u8f83\u5927\uff0c\u7a7a\u5934\u529b\u91cf\u53ef\u80fd\u5df2\u7ecf\u8fc7\u5ea6\u91ca\u653e\uff0c\u80a1\u4ef7\u6709\u53cd\u5f39\u7684\u53ef\u80fd\u3002</p> <p>todo\uff1a\u540e\u7eed\u8865\u5145\u76f8\u5e94\u7684\u56fe\u7247</p>","tags":["\u80a1\u7968","\u6295\u8d44"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/","title":"Vim\u5165\u95e8(\u8f6c\u8f7d)","text":"<p>\u8f6c\u8f7d\u81ea vim\u4f7f\u7528\u7b14\u8bb0</p>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#1vim\u7684\u51e0\u79cd\u6a21\u5f0f","title":"1.Vim\u7684\u51e0\u79cd\u6a21\u5f0f","text":"<ul> <li> <p>\u6b63\u5e38\u6a21\u5f0f\uff1a\u53ef\u4ee5\u4f7f\u7528\u5feb\u6377\u952e\u547d\u4ee4\uff0c\u6216\u6309:\u8f93\u5165\u547d\u4ee4\u884c\u3002</p> </li> <li> <p>\u63d2\u5165\u6a21\u5f0f\uff1a\u53ef\u4ee5\u8f93\u5165\u6587\u672c\uff0c\u5728\u6b63\u5e38\u6a21\u5f0f\u4e0b\uff0c\u6309i\u3001a\u3001o\u7b49\u90fd\u53ef\u4ee5\u8fdb\u5165\u63d2\u5165\u6a21\u5f0f\u3002</p> </li> <li>\u53ef\u89c6\u6a21\u5f0f\uff1a\u6b63\u5e38\u6a21\u5f0f\u4e0b\u6309v\u53ef\u4ee5\u8fdb\u5165\u53ef\u89c6\u6a21\u5f0f\uff0c \u5728\u53ef\u89c6\u6a21\u5f0f\u4e0b\uff0c\u79fb\u52a8\u5149\u6807\u53ef\u4ee5\u9009\u62e9\u6587\u672c\u3002\u6309V\u8fdb\u5165\u53ef\u89c6\u884c\u6a21\u5f0f\uff0c \u603b\u662f\u6574\u884c\u6574\u884c\u7684\u9009\u4e2d\u3002ctrl+v\u8fdb\u5165\u53ef\u89c6\u5757\u6a21\u5f0f\u3002</li> <li>\u66ff\u6362\u6a21\u5f0f\uff1a\u6b63\u5e38\u6a21\u5f0f\u4e0b\uff0c\u6309R\u8fdb\u5165\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#2\u542f\u52a8vim","title":"2.\u542f\u52a8Vim","text":"<ul> <li>vim -c cmd file: \u5728\u6253\u5f00\u6587\u4ef6\u524d\uff0c\u5148\u6267\u884c\u6307\u5b9a\u7684\u547d\u4ee4\uff1b</li> <li>vim -r file: \u6062\u590d\u4e0a\u6b21\u5f02\u5e38\u9000\u51fa\u7684\u6587\u4ef6\uff1b</li> <li>vim -R file: \u4ee5\u53ea\u8bfb\u7684\u65b9\u5f0f\u6253\u5f00\u6587\u4ef6\uff0c\u4f46\u53ef\u4ee5\u5f3a\u5236\u4fdd\u5b58\uff1b</li> <li>vim -M file: \u4ee5\u53ea\u8bfb\u7684\u65b9\u5f0f\u6253\u5f00\u6587\u4ef6\uff0c\u4e0d\u53ef\u4ee5\u5f3a\u5236\u4fdd\u5b58\uff1b</li> <li>vim -y num file: \u5c06\u7f16\u8f91\u7a97\u53e3\u7684\u5927\u5c0f\u8bbe\u4e3anum\u884c\uff1b</li> <li>vim + file: \u4ece\u6587\u4ef6\u7684\u672b\u5c3e\u5f00\u59cb\uff1b</li> <li>vim +num file: \u4ece\u7b2cnum\u884c\u5f00\u59cb\uff1b</li> <li>vim +/string file: \u6253\u5f00file\uff0c\u5e76\u5c06\u5149\u6807\u505c\u7559\u5728\u7b2c\u4e00\u4e2a\u627e\u5230\u7684string\u4e0a\u3002</li> <li>vim --remote file: \u7528\u5df2\u6709\u7684vim\u8fdb\u7a0b\u6253\u5f00\u6307\u5b9a\u7684\u6587\u4ef6\u3002 \u5982\u679c\u4f60\u4e0d\u60f3\u542f\u7528\u591a\u4e2avim\u4f1a\u8bdd\uff0c\u8fd9\u4e2a\u5f88\u6709\u7528\u3002\u4f46\u8981\u6ce8\u610f\uff0c \u5982\u679c\u4f60\u7528vim\uff0c\u4f1a\u5bfb\u627e\u540d\u53ebVIM\u7684\u670d\u52a1\u5668\uff1b\u5982\u679c\u4f60\u5df2\u7ecf\u6709\u4e00\u4e2agvim\u5728\u8fd0\u884c\u4e86\uff0c \u4f60\u53ef\u4ee5\u7528gvim --remote file\u5728\u5df2\u6709\u7684gvim\u4e2d\u6253\u5f00\u6587\u4ef6\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#3\u6587\u6863\u7684\u64cd\u4f5c","title":"3.\u6587\u6863\u7684\u64cd\u4f5c","text":"<ul> <li> <p>:e file --\u5173\u95ed\u5f53\u524d\u7f16\u8f91\u7684\u6587\u4ef6\uff0c\u5e76\u5f00\u542f\u65b0\u7684\u6587\u4ef6\u3002 \u5982\u679c\u5bf9\u5f53\u524d\u6587\u4ef6\u7684\u4fee\u6539\u672a\u4fdd\u5b58\uff0cvi\u4f1a\u8b66\u544a\u3002</p> </li> <li> <p>:e! file --\u653e\u5f03\u5bf9\u5f53\u524d\u6587\u4ef6\u7684\u4fee\u6539\uff0c\u7f16\u8f91\u65b0\u7684\u6587\u4ef6\u3002</p> </li> <li> <p>:e+file -- \u5f00\u59cb\u65b0\u7684\u6587\u4ef6\uff0c\u5e76\u4ece\u6587\u4ef6\u5c3e\u5f00\u59cb\u7f16\u8f91\u3002</p> </li> <li> <p>:e+n file -- \u5f00\u59cb\u65b0\u7684\u6587\u4ef6\uff0c\u5e76\u4ece\u7b2cn\u884c\u5f00\u59cb\u7f16\u8f91\u3002</p> </li> <li> <p>:enew --\u7f16\u8bd1\u4e00\u4e2a\u672a\u547d\u540d\u7684\u65b0\u6587\u6863\u3002(CTRL-W n)</p> </li> <li> <p>:e -- \u91cd\u65b0\u52a0\u8f7d\u5f53\u524d\u6587\u6863\u3002</p> </li> <li> <p>:e! -- \u91cd\u65b0\u52a0\u8f7d\u5f53\u524d\u6587\u6863\uff0c\u5e76\u4e22\u5f03\u5df2\u505a\u7684\u6539\u52a8\u3002</p> </li> <li> <p>:e#\u6216ctrl+^ -- \u56de\u5230\u521a\u624d\u7f16\u8f91\u7684\u6587\u4ef6\uff0c\u5f88\u5b9e\u7528\u3002</p> </li> <li> <p>:f\u6216ctrl+g -- \u663e\u793a\u6587\u6863\u540d\uff0c\u662f\u5426\u4fee\u6539\uff0c\u548c\u5149\u6807\u4f4d\u7f6e\u3002</p> </li> <li> <p>:f filename -- \u6539\u53d8\u7f16\u8f91\u7684\u6587\u4ef6\u540d\uff0c\u8fd9\u65f6\u518d\u4fdd\u5b58\u76f8\u5f53\u4e8e\u53e6\u5b58\u4e3a\u3002</p> </li> <li> <p>gf -- \u6253\u5f00\u4ee5\u5149\u6807\u6240\u5728\u5b57\u7b26\u4e32\u4e3a\u6587\u4ef6\u540d\u7684\u6587\u4ef6\u3002</p> </li> <li> <p>:w -- \u4fdd\u5b58\u4fee\u6539\u3002</p> </li> <li> <p>:n1,n2w filename -- \u9009\u62e9\u6027\u4fdd\u5b58\u4ece\u67d0n1\u884c\u5230\u53e6n2\u884c\u7684\u5185\u5bb9\u3002</p> </li> <li> <p>:wq -- \u4fdd\u5b58\u5e76\u9000\u51fa\u3002</p> </li> <li> <p>ZZ -- \u4fdd\u5b58\u5e76\u9000\u51fa\u3002</p> </li> <li> <p>:x -- \u4fdd\u5b58\u5e76\u9000\u51fa\u3002</p> </li> <li> <p>:q[uit] \u2014\u2014\u9000\u51fa\u5f53\u524d\u7a97\u53e3\u3002(CTRL-W q\u6216CTRL-W CTRL-Q)</p> </li> <li> <p>:saveas newfilename -- \u53e6\u5b58\u4e3a</p> </li> <li> <p>:browse e -- \u4f1a\u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\u6d4f\u89c8\u5668\u8ba9\u4f60\u9009\u62e9\u8981\u7f16\u8f91\u7684\u6587\u4ef6\u3002 \u5982\u679c\u662f\u7ec8\u7aef\u4e2d\uff0c\u5219\u4f1a\u6253\u5f00netrw\u7684\u6587\u4ef6\u6d4f\u89c8\u7a97\u53e3\uff1b \u5982\u679c\u662fgvim\uff0c\u5219\u4f1a\u6253\u5f00\u4e00\u4e2a\u56fe\u5f62\u754c\u9762\u7684\u6d4f\u89c8\u7a97\u53e3\u3002 \u5b9e\u9645\u4e0a:browse\u540e\u53ef\u4ee5\u8ddf\u4efb\u4f55\u7f16\u8f91\u6587\u6863\u7684\u547d\u4ee4\uff0c\u5982sp\u7b49\u3002 \u7528browse\u6253\u5f00\u7684\u8d77\u59cb\u76ee\u5f55\u53ef\u4ee5\u7531browsedir\u6765\u8bbe\u7f6e\uff1a</p> </li> <li> <ul> <li>:set browsedir=last -- \u7528\u4e0a\u6b21\u8bbf\u95ee\u8fc7\u7684\u76ee\u5f55\uff08\u9ed8\u8ba4\uff09\uff1b</li> </ul> </li> <li>:set browsedir=buffer -- \u7528\u5f53\u524d\u6587\u4ef6\u6240\u5728\u76ee\u5f55\uff1b</li> <li> <p>:set browsedir=current -- \u7528\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\uff1b</p> </li> <li> <p>:Sex -- \u6c34\u5e73\u5206\u5272\u4e00\u4e2a\u7a97\u53e3\uff0c\u6d4f\u89c8\u6587\u4ef6\u7cfb\u7edf\uff1b</p> </li> <li> <p>:Vex -- \u5782\u76f4\u5206\u5272\u4e00\u4e2a\u7a97\u53e3\uff0c\u6d4f\u89c8\u6587\u4ef6\u7cfb\u7edf\uff1b</p> </li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#4\u5149\u6807\u7684\u79fb\u52a8","title":"4.\u5149\u6807\u7684\u79fb\u52a8","text":"","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#41-\u57fa\u672c\u79fb\u52a8","title":"4.1 \u57fa\u672c\u79fb\u52a8","text":"<p>\u4ee5\u4e0b\u79fb\u52a8\u90fd\u662f\u5728normal\u6a21\u5f0f\u4e0b\u3002</p> <ul> <li>h\u6216\u9000\u683c: \u5de6\u79fb\u4e00\u4e2a\u5b57\u7b26\uff1b</li> <li>l\u6216\u7a7a\u683c: \u53f3\u79fb\u4e00\u4e2a\u5b57\u7b26\uff1b</li> <li>j: \u4e0b\u79fb\u4e00\u884c\uff1b</li> <li>k: \u4e0a\u79fb\u4e00\u884c\uff1b</li> <li>gj: \u79fb\u52a8\u5230\u4e00\u6bb5\u5185\u7684\u4e0b\u4e00\u884c\uff1b</li> <li>gk: \u79fb\u52a8\u5230\u4e00\u6bb5\u5185\u7684\u4e0a\u4e00\u884c\uff1b</li> <li>+\u6216Enter: \u628a\u5149\u6807\u79fb\u81f3\u4e0b\u4e00\u884c\u7b2c\u4e00\u4e2a\u975e\u7a7a\u767d\u5b57\u7b26\u3002</li> <li>-: \u628a\u5149\u6807\u79fb\u81f3\u4e0a\u4e00\u884c\u7b2c\u4e00\u4e2a\u975e\u7a7a\u767d\u5b57\u7b26\u3002</li> <li>w: \u524d\u79fb\u4e00\u4e2a\u5355\u8bcd\uff0c\u5149\u6807\u505c\u5728\u4e0b\u4e00\u4e2a\u5355\u8bcd\u5f00\u5934\uff1b</li> <li>W: \u79fb\u52a8\u4e0b\u4e00\u4e2a\u5355\u8bcd\u5f00\u5934\uff0c\u4f46\u5ffd\u7565\u4e00\u4e9b\u6807\u70b9\uff1b</li> <li>e: \u524d\u79fb\u4e00\u4e2a\u5355\u8bcd\uff0c\u5149\u6807\u505c\u5728\u4e0b\u4e00\u4e2a\u5355\u8bcd\u672b\u5c3e\uff1b</li> <li>E: \u79fb\u52a8\u5230\u4e0b\u4e00\u4e2a\u5355\u8bcd\u672b\u5c3e\uff0c\u5982\u679c\u8bcd\u5c3e\u6709\u6807\u70b9\uff0c\u5219\u79fb\u52a8\u5230\u6807\u70b9\uff1b</li> <li>b: \u540e\u79fb\u4e00\u4e2a\u5355\u8bcd\uff0c\u5149\u6807\u505c\u5728\u4e0a\u4e00\u4e2a\u5355\u8bcd\u5f00\u5934\uff1b</li> <li>B: \u79fb\u52a8\u5230\u4e0a\u4e00\u4e2a\u5355\u8bcd\u5f00\u5934\uff0c\u5ffd\u7565\u4e00\u4e9b\u6807\u70b9\uff1b</li> <li>ge: \u540e\u79fb\u4e00\u4e2a\u5355\u8bcd\uff0c\u5149\u6807\u505c\u5728\u4e0a\u4e00\u4e2a\u5355\u8bcd\u672b\u5c3e\uff1b</li> <li> <p>gE: \u540c ge \uff0c\u4e0d\u8fc7\u2018\u5355\u8bcd\u2019\u5305\u542b\u5355\u8bcd\u76f8\u90bb\u7684\u6807\u70b9\u3002</p> </li> <li> <p>(: \u524d\u79fb1\u53e5\u3002</p> </li> <li>): \u540e\u79fb1\u53e5\u3002</li> <li>{: \u524d\u79fb1\u6bb5\u3002</li> <li>}: \u540e\u79fb1\u6bb5\u3002</li> <li>fc: \u628a\u5149\u6807\u79fb\u5230\u540c\u4e00\u884c\u7684\u4e0b\u4e00\u4e2ac\u5b57\u7b26\u5904</li> <li>Fc: \u628a\u5149\u6807\u79fb\u5230\u540c\u4e00\u884c\u7684\u4e0a\u4e00\u4e2ac\u5b57\u7b26\u5904</li> <li>tc: \u628a\u5149\u6807\u79fb\u5230\u540c\u4e00\u884c\u7684\u4e0b\u4e00\u4e2ac\u5b57\u7b26\u524d</li> <li>Tc: \u628a\u5149\u6807\u79fb\u5230\u540c\u4e00\u884c\u7684\u4e0a\u4e00\u4e2ac\u5b57\u7b26\u540e</li> <li>;: \u914d\u5408f &amp; t\u4f7f\u7528\uff0c\u91cd\u590d\u4e00\u6b21</li> <li>,: \u914d\u5408f &amp; t\u4f7f\u7528\uff0c\u53cd\u5411\u91cd\u590d\u4e00\u6b21</li> </ul> <p>\u4e0a\u9762\u7684\u64cd\u4f5c\u90fd\u53ef\u4ee5\u914d\u5408n\u4f7f\u7528\uff0c\u6bd4\u5982\u5728\u6b63\u5e38\u6a21\u5f0f(\u4e0b\u9762\u4f1a\u8bb2\u5230)\u4e0b\u8f93\u51653h\uff0c \u5219\u5149\u6807\u5411\u5de6\u79fb\u52a83\u4e2a\u5b57\u7b26\u3002</p> <ul> <li> <p>0: \u79fb\u52a8\u5230\u884c\u9996\u3002</p> </li> <li> <p>g0: \u79fb\u5230\u5149\u6807\u6240\u5728\u5c4f\u5e55\u884c\u884c\u9996\u3002</p> </li> <li>^: \u79fb\u52a8\u5230\u672c\u884c\u7b2c\u4e00\u4e2a\u975e\u7a7a\u767d\u5b57\u7b26\u3002</li> <li> <p>g^: \u540c ^ \uff0c\u4f46\u662f\u79fb\u52a8\u5230\u5f53\u524d\u5c4f\u5e55\u884c\u7b2c\u4e00\u4e2a\u975e\u7a7a\u5b57\u7b26\u5904\u3002</p> </li> <li> <p>$: \u79fb\u52a8\u5230\u884c\u5c3e\u3002</p> </li> <li>g$: \u79fb\u52a8\u5149\u6807\u6240\u5728\u5c4f\u5e55\u884c\u884c\u5c3e\u3002</li> <li>n|: \u628a\u5149\u6807\u79fb\u5230\u9012n\u5217\u4e0a\u3002</li> <li>nG: \u5230\u6587\u4ef6\u7b2cn\u884c\u3002</li> <li>:n \u79fb\u52a8\u5230\u7b2cn\u884c\u3002</li> <li>:$ \u79fb\u52a8\u5230\u6700\u540e\u4e00\u884c\u3002</li> <li>H: \u628a\u5149\u6807\u79fb\u5230\u5c4f\u5e55\u6700\u9876\u7aef\u4e00\u884c\u3002</li> <li>M: \u628a\u5149\u6807\u79fb\u5230\u5c4f\u5e55\u4e2d\u95f4\u4e00\u884c\u3002</li> <li>L: \u628a\u5149\u6807\u79fb\u5230\u5c4f\u5e55\u6700\u5e95\u7aef\u4e00\u884c\u3002</li> <li>gg: \u5230\u6587\u4ef6\u5934\u90e8\u3002</li> <li>G: \u5230\u6587\u4ef6\u5c3e\u90e8\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#42-\u7ffb\u5c4f","title":"4.2 \u7ffb\u5c4f","text":"<ul> <li>ctrl+f: \u4e0b\u7ffb\u4e00\u5c4f\u3002</li> <li>ctrl+b: \u4e0a\u7ffb\u4e00\u5c4f\u3002</li> <li>ctrl+d: \u4e0b\u7ffb\u534a\u5c4f\u3002</li> <li>ctrl+u: \u4e0a\u7ffb\u534a\u5c4f\u3002</li> <li>ctrl+e: \u5411\u4e0b\u6eda\u52a8\u4e00\u884c\u3002</li> <li>ctrl+y: \u5411\u4e0a\u6eda\u52a8\u4e00\u884c\u3002</li> <li>n%: \u5230\u6587\u4ef6n%\u7684\u4f4d\u7f6e\u3002</li> <li>zz: \u5c06\u5f53\u524d\u884c\u79fb\u52a8\u5230\u5c4f\u5e55\u4e2d\u592e\u3002</li> <li>zt: \u5c06\u5f53\u524d\u884c\u79fb\u52a8\u5230\u5c4f\u5e55\u9876\u7aef\u3002</li> <li>zb: \u5c06\u5f53\u524d\u884c\u79fb\u52a8\u5230\u5c4f\u5e55\u5e95\u7aef\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#43-\u6807\u8bb0","title":"4.3 \u6807\u8bb0","text":"<p>\u4f7f\u7528\u6807\u8bb0\u53ef\u4ee5\u5feb\u901f\u79fb\u52a8\u3002\u5230\u8fbe\u6807\u8bb0\u540e\uff0c\u53ef\u4ee5\u7528Ctrl+o\u8fd4\u56de\u539f\u6765\u7684\u4f4d\u7f6e\u3002 Ctrl+o\u548cCtrl+i \u5f88\u50cf\u6d4f\u89c8\u5668\u4e0a\u7684 \u540e\u9000 \u548c \u524d\u8fdb \u3002</p> <ul> <li>m{a-z}: \u6807\u8bb0\u5149\u6807\u6240\u5728\u4f4d\u7f6e\uff0c\u5c40\u90e8\u6807\u8bb0\uff0c\u53ea\u7528\u4e8e\u5f53\u524d\u6587\u4ef6\u3002</li> <li>m{A-Z}: \u6807\u8bb0\u5149\u6807\u6240\u5728\u4f4d\u7f6e\uff0c\u5168\u5c40\u6807\u8bb0\u3002\u6807\u8bb0\u4e4b\u540e\uff0c\u9000\u51faVim\uff0c \u91cd\u65b0\u542f\u52a8\uff0c\u6807\u8bb0\u4ecd\u7136\u6709\u6548\u3002</li> <li>`{a-z}: \u79fb\u52a8\u5230\u6807\u8bb0\u4f4d\u7f6e\u3002</li> <li>'{a-z}: \u79fb\u52a8\u5230\u6807\u8bb0\u884c\u7684\u884c\u9996\u3002</li> <li>`{0-9}\uff1a\u56de\u5230\u4e0a[2-10]\u6b21\u5173\u95edvim\u65f6\u6700\u540e\u79bb\u5f00\u7684\u4f4d\u7f6e\u3002</li> <li><code>: \u79fb\u52a8\u5230\u4e0a\u6b21\u7f16\u8f91\u7684\u4f4d\u7f6e\u3002''\u4e5f\u53ef\u4ee5\uff0c\u4e0d\u8fc7</code>\u7cbe\u786e\u5230\u5217\uff0c\u800c''\u7cbe\u786e\u5230\u884c \u3002\u5982\u679c\u60f3\u8df3\u8f6c\u5230\u66f4\u8001\u7684\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u6309C-o\uff0c\u8df3\u8f6c\u5230\u66f4\u65b0\u7684\u4f4d\u7f6e\u7528C-i\u3002</li> <li>`\": \u79fb\u52a8\u5230\u4e0a\u6b21\u79bb\u5f00\u7684\u5730\u65b9\u3002</li> <li>`.: \u79fb\u52a8\u5230\u6700\u540e\u6539\u52a8\u7684\u5730\u65b9\u3002</li> <li>:marks \u663e\u793a\u6240\u6709\u6807\u8bb0\u3002</li> <li>:delmarks a b -- \u5220\u9664\u6807\u8bb0a\u548cb\u3002</li> <li>:delmarks a-c -- \u5220\u9664\u6807\u8bb0a\u3001b\u548cc\u3002</li> <li>:delmarks a c-f -- \u5220\u9664\u6807\u8bb0a\u3001c\u3001d\u3001e\u3001f\u3002</li> <li>:delmarks! -- \u5220\u9664\u5f53\u524d\u7f13\u51b2\u533a\u7684\u6240\u6709\u6807\u8bb0\u3002</li> <li>:help mark-motions \u67e5\u770b\u66f4\u591a\u5173\u4e8emark\u7684\u77e5\u8bc6\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#5\u63d2\u5165\u6587\u672c","title":"5.\u63d2\u5165\u6587\u672c","text":"","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#51-\u57fa\u672c\u63d2\u5165","title":"5.1 \u57fa\u672c\u63d2\u5165","text":"<ul> <li>i: \u5728\u5149\u6807\u524d\u63d2\u5165\uff1b\u4e00\u4e2a\u5c0f\u6280\u5de7\uff1a\u63098\uff0c\u518d\u6309i\uff0c\u8fdb\u5165\u63d2\u5165\u6a21\u5f0f\uff0c\u8f93\u5165=\uff0c \u6309esc\u8fdb\u5165\u547d\u4ee4\u6a21\u5f0f\uff0c\u5c31\u4f1a\u51fa\u73b08\u4e2a=\u3002 \u8fd9\u5728\u63d2\u5165\u5206\u5272\u7ebf\u65f6\u975e\u5e38\u6709\u7528\uff0c\u598230i+\u5c31\u63d2\u5165\u4e8636\u4e2a+\u7ec4\u6210\u7684\u5206\u5272\u7ebf\u3002</li> <li>I: \u5728\u5f53\u524d\u884c\u7b2c\u4e00\u4e2a\u975e\u7a7a\u5b57\u7b26\u524d\u63d2\u5165\uff1b</li> <li>gI: \u5728\u5f53\u524d\u884c\u7b2c\u4e00\u5217\u63d2\u5165\uff1b</li> <li>a: \u5728\u5149\u6807\u540e\u63d2\u5165\uff1b</li> <li>A: \u5728\u5f53\u524d\u884c\u6700\u540e\u63d2\u5165\uff1b</li> <li>o: \u5728\u4e0b\u9762\u65b0\u5efa\u4e00\u884c\u63d2\u5165\uff1b</li> <li>O: \u5728\u4e0a\u9762\u65b0\u5efa\u4e00\u884c\u63d2\u5165\uff1b</li> <li>:r filename\u5728\u5f53\u524d\u4f4d\u7f6e\u63d2\u5165\u53e6\u4e00\u4e2a\u6587\u4ef6\u7684\u5185\u5bb9\u3002</li> <li>:[n]r filename\u5728\u7b2cn\u884c\u63d2\u5165\u53e6\u4e00\u4e2a\u6587\u4ef6\u7684\u5185\u5bb9\u3002</li> <li>:r !date \u5728\u5149\u6807\u5904\u63d2\u5165\u5f53\u524d\u65e5\u671f\u4e0e\u65f6\u95f4\u3002\u540c\u7406\uff0c:r !command\u53ef\u4ee5\u5c06\u5176\u5b83shell\u547d\u4ee4\u7684\u8f93\u51fa\u63d2\u5165\u5f53\u524d\u6587\u6863\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#52-\u6539\u5199\u63d2\u5165","title":"5.2 \u6539\u5199\u63d2\u5165","text":"<ul> <li>c[n]w: \u6539\u5199\u5149\u6807\u540e1(n)\u4e2a\u8bcd\u3002</li> <li>c[n]l: \u6539\u5199\u5149\u6807\u540en\u4e2a\u5b57\u6bcd\u3002</li> <li>c[n]h: \u6539\u5199\u5149\u6807\u524dn\u4e2a\u5b57\u6bcd\u3002</li> <li>[n]cc: \u4fee\u6539\u5f53\u524d[n]\u884c\u3002</li> <li>[n]s: \u4ee5\u8f93\u5165\u7684\u6587\u672c\u66ff\u4ee3\u5149\u6807\u4e4b\u540e1(n)\u4e2a\u5b57\u7b26\uff0c\u76f8\u5f53\u4e8ec[n]l\u3002</li> <li>[n]S: \u5220\u9664\u6307\u5b9a\u6570\u76ee\u7684\u884c\uff0c\u5e76\u4ee5\u6240\u8f93\u5165\u6587\u672c\u4ee3\u66ff\u4e4b\u3002</li> </ul> <p>\u6ce8\u610f\uff0c\u7c7b\u4f3ccnw,dnw,ynw\u7684\u5f62\u5f0f\u540c\u6837\u53ef\u4ee5\u5199\u4e3ancw,ndw,nyw\u3002</p>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#6\u526a\u5207\u590d\u5236\u548c\u5bc4\u5b58\u5668","title":"6.\u526a\u5207\u590d\u5236\u548c\u5bc4\u5b58\u5668","text":"","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#61-\u526a\u5207\u548c\u590d\u5236\u7c98\u8d34","title":"6.1 \u526a\u5207\u548c\u590d\u5236\u3001\u7c98\u8d34","text":"<ul> <li>[n]x: \u526a\u5207\u5149\u6807\u53f3\u8fb9n\u4e2a\u5b57\u7b26\uff0c\u76f8\u5f53\u4e8ed[n]l\u3002</li> <li>[n]X: \u526a\u5207\u5149\u6807\u5de6\u8fb9n\u4e2a\u5b57\u7b26\uff0c\u76f8\u5f53\u4e8ed[n]h\u3002</li> <li>y: \u590d\u5236\u5728\u53ef\u89c6\u6a21\u5f0f\u4e0b\u9009\u4e2d\u7684\u6587\u672c\u3002</li> <li>yy or Y: \u590d\u5236\u6574\u884c\u6587\u672c\u3002</li> <li>y[n]w: \u590d\u5236\u4e00(n)\u4e2a\u8bcd\u3002</li> <li>y[n]l: \u590d\u5236\u5149\u6807\u53f3\u8fb91(n)\u4e2a\u5b57\u7b26\u3002</li> <li>y[n]h: \u590d\u5236\u5149\u6807\u5de6\u8fb91(n)\u4e2a\u5b57\u7b26\u3002</li> <li>y$: \u4ece\u5149\u6807\u5f53\u524d\u4f4d\u7f6e\u590d\u5236\u5230\u884c\u5c3e\u3002</li> <li>y0: \u4ece\u5149\u6807\u5f53\u524d\u4f4d\u7f6e\u590d\u5236\u5230\u884c\u9996\u3002</li> <li>:m,ny \u590d\u5236m\u884c\u5230n\u884c\u7684\u5185\u5bb9\u3002</li> <li>y1G\u6216ygg: \u590d\u5236\u5149\u6807\u4ee5\u4e0a\u7684\u6240\u6709\u884c\u3002</li> <li>yG: \u590d\u5236\u5149\u6807\u4ee5\u4e0b\u7684\u6240\u6709\u884c\u3002</li> <li>yaw\u548cyas\uff1a\u590d\u5236\u4e00\u4e2a\u8bcd\u548c\u590d\u5236\u4e00\u4e2a\u53e5\u5b50\uff0c\u5373\u4f7f\u5149\u6807\u4e0d\u5728\u8bcd\u9996\u548c\u53e5\u9996\u4e5f\u6ca1\u5173\u7cfb\u3002</li> <li>d: \u5220\u9664\uff08\u526a\u5207\uff09\u5728\u53ef\u89c6\u6a21\u5f0f\u4e0b\u9009\u4e2d\u7684\u6587\u672c\u3002</li> <li>d$ or D: \u5220\u9664\uff08\u526a\u5207\uff09\u5f53\u524d\u4f4d\u7f6e\u5230\u884c\u5c3e\u7684\u5185\u5bb9\u3002</li> <li>d[n]w: \u5220\u9664\uff08\u526a\u5207\uff091(n)\u4e2a\u5355\u8bcd</li> <li>d[n]l: \u5220\u9664\uff08\u526a\u5207\uff09\u5149\u6807\u53f3\u8fb91(n)\u4e2a\u5b57\u7b26\u3002</li> <li>d[n]h: \u5220\u9664\uff08\u526a\u5207\uff09\u5149\u6807\u5de6\u8fb91(n)\u4e2a\u5b57\u7b26\u3002</li> <li>d0: \u5220\u9664\uff08\u526a\u5207\uff09\u5f53\u524d\u4f4d\u7f6e\u5230\u884c\u9996\u7684\u5185\u5bb9</li> <li>[n] dd: \u5220\u9664\uff08\u526a\u5207\uff091(n)\u884c\u3002</li> <li>:m,nd \u526a\u5207m\u884c\u5230n\u884c\u7684\u5185\u5bb9\u3002</li> <li>d1G\u6216dgg: \u526a\u5207\u5149\u6807\u4ee5\u4e0a\u7684\u6240\u6709\u884c\u3002</li> <li>dG: \u526a\u5207\u5149\u6807\u4ee5\u4e0b\u7684\u6240\u6709\u884c\u3002</li> <li>daw\u548cdas\uff1a\u526a\u5207\u4e00\u4e2a\u8bcd\u548c\u526a\u5207\u4e00\u4e2a\u53e5\u5b50\uff0c\u5373\u4f7f\u5149\u6807\u4e0d\u5728\u8bcd\u9996\u548c\u53e5\u9996\u4e5f\u6ca1\u5173\u7cfb\u3002</li> <li>d/f\uff1a\u8fd9\u662f\u4e00\u4e2a\u6bd4\u8f83\u9ad8\u7ea7\u7684\u7ec4\u5408\u547d\u4ee4\uff0c\u5b83\u5c06\u5220\u9664\u5f53\u524d\u4f4d\u7f6e \u5230\u4e0b\u4e00\u4e2af\u4e4b\u95f4\u7684\u5185\u5bb9\u3002</li> <li>p: \u5728\u5149\u6807\u4e4b\u540e\u7c98\u8d34\u3002</li> <li>P: \u5728\u5149\u6807\u4e4b\u524d\u7c98\u8d34\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#62-\u6587\u672c\u5bf9\u8c61","title":"6.2 \u6587\u672c\u5bf9\u8c61","text":"<ul> <li>aw\uff1a\u4e00\u4e2a\u8bcd</li> <li>as\uff1a\u4e00\u53e5\u3002</li> <li>ap\uff1a\u4e00\u6bb5\u3002</li> <li>ab\uff1a\u4e00\u5757\uff08\u5305\u542b\u5728\u5706\u62ec\u53f7\u4e2d\u7684\uff09\u3002</li> </ul> <p>y, d, c, v\u90fd\u53ef\u4ee5\u8ddf\u6587\u672c\u5bf9\u8c61\u3002</p>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#63-\u5bc4\u5b58\u5668","title":"6.3 \u5bc4\u5b58\u5668","text":"<ul> <li>a-z\uff1a\u90fd\u53ef\u4ee5\u7528\u4f5c\u5bc4\u5b58\u5668\u540d\u3002\"ayy\u628a\u5f53\u524d\u884c\u7684\u5185\u5bb9\u653e\u5165a\u5bc4\u5b58\u5668\u3002</li> <li>A-Z\uff1a\u7528\u5927\u5199\u5b57\u6bcd\u7d22\u5f15\u5bc4\u5b58\u5668\uff0c\u53ef\u4ee5\u5728\u5bc4\u5b58\u5668\u4e2d\u8ffd\u52a0\u5185\u5bb9\u3002 \u5982\"Ayy\u628a\u5f53\u524d\u884c\u7684\u5185\u5bb9\u8ffd\u52a0\u5230a\u5bc4\u5b58\u5668\u4e2d\u3002</li> <li>:reg \u663e\u793a\u6240\u6709\u5bc4\u5b58\u5668\u7684\u5185\u5bb9\u3002</li> <li>\"\"\uff1a\u4e0d\u52a0\u5bc4\u5b58\u5668\u7d22\u5f15\u65f6\uff0c\u9ed8\u8ba4\u4f7f\u7528\u7684\u5bc4\u5b58\u5668\u3002</li> <li>\"\uff1a\u5f53\u524d\u9009\u62e9\u7f13\u51b2\u533a\uff0c\"yy\u628a\u5f53\u524d\u884c\u7684\u5185\u5bb9\u653e\u5165\u5f53\u524d\u9009\u62e9\u7f13\u51b2\u533a\u3002</li> <li>\"+\uff1a\u7cfb\u7edf\u526a\u8d34\u677f\u3002\"+yy\u628a\u5f53\u524d\u884c\u7684\u5185\u5bb9\u653e\u5165\u7cfb\u7edf\u526a\u8d34\u677f\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#7\u67e5\u627e\u4e0e\u66ff\u6362","title":"7.\u67e5\u627e\u4e0e\u66ff\u6362","text":"","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#71-\u67e5\u627e","title":"7.1 \u67e5\u627e","text":"<ul> <li>something: \u5728\u540e\u9762\u7684\u6587\u672c\u4e2d\u67e5\u627esomething\u3002</li> <li>?something: \u5728\u524d\u9762\u7684\u6587\u672c\u4e2d\u67e5\u627esomething\u3002</li> <li>/pattern/+number: \u5c06\u5149\u6807\u505c\u5728\u5305\u542bpattern\u7684\u884c\u540e\u9762\u7b2cnumber\u884c\u4e0a\u3002</li> <li>/pattern/-number: \u5c06\u5149\u6807\u505c\u5728\u5305\u542bpattern\u7684\u884c\u524d\u9762\u7b2cnumber\u884c\u4e0a\u3002</li> <li>n: \u5411\u540e\u67e5\u627e\u4e0b\u4e00\u4e2a\u3002</li> <li>N: \u5411\u524d\u67e5\u627e\u4e0b\u4e00\u4e2a\u3002</li> </ul> <p>\u53ef\u4ee5\u7528grep\u6216vimgrep\u67e5\u627e\u4e00\u4e2a\u6a21\u5f0f\u90fd\u5728\u54ea\u4e9b\u5730\u65b9\u51fa\u73b0\u8fc7\uff0c</p> <p>\u5176\u4e2d:grep\u662f\u8c03\u7528\u5916\u90e8\u7684grep\u7a0b\u5e8f\uff0c\u800c:vimgrep\u662fvim\u81ea\u5df1\u7684\u67e5\u627e\u7b97\u6cd5\u3002</p> <p>\u7528\u6cd5\u4e3a\uff1a :vim[grep]/pattern/[g] [j] files</p> <p>g\u7684\u542b\u4e49\u662f\u5982\u679c\u4e00\u4e2a\u6a21\u5f0f\u5728\u4e00\u884c\u4e2d\u591a\u6b21\u51fa\u73b0\uff0c\u5219\u8fd9\u4e00\u884c\u4e5f\u5728\u7ed3\u679c\u4e2d\u591a\u6b21\u51fa\u73b0\u3002</p> <p>j\u7684\u542b\u4e49\u662fgrep\u7ed3\u675f\u540e\uff0c\u7ed3\u679c\u505c\u5728\u7b2cj\u9879\uff0c\u9ed8\u8ba4\u662f\u505c\u5728\u7b2c\u4e00\u9879\u3002</p> <p>vimgrep\u524d\u9762\u53ef\u4ee5\u52a0\u6570\u5b57\u9650\u5b9a\u641c\u7d22\u7ed3\u679c\u7684\u4e0a\u9650\uff0c\u5982</p> <p>:1vim/pattern/ % \u53ea\u67e5\u627e\u90a3\u4e2a\u6a21\u5f0f\u5728\u672c\u6587\u4ef6\u4e2d\u7684\u7b2c\u4e00\u4e2a\u51fa\u73b0\u3002</p> <p>\u5176\u5b9evimgrep\u5728\u8bfb\u7eaf\u6587\u672c\u7535\u5b50\u4e66\u65f6\u7279\u522b\u6709\u7528\uff0c\u53ef\u4ee5\u751f\u6210\u5bfc\u822a\u7684\u76ee\u5f55\u3002</p> <p>\u6bd4\u5982\u7535\u5b50\u4e66\u4e2d\u6bcf\u4e00\u8282\u7684\u6807\u9898\u5f62\u5f0f\u4e3a\uff1an. xxxx\u3002\u4f60\u5c31\u53ef\u4ee5\u8fd9\u6837\uff1a</p> <p>:vim/^d{1,}./ %</p> <p>\u7136\u540e\u7528:cw\u6216:copen\u67e5\u770b\u7ed3\u679c\uff0c\u53ef\u4ee5\u7528C-w H\u628aquickfix\u7a97\u53e3\u79fb\u5230\u5de6\u4fa7\uff0c</p> <p>\u5c31\u66f4\u50cf\u4e2a\u76ee\u5f55\u4e86\u3002</p>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#72-\u66ff\u6362","title":"7.2 \u66ff\u6362","text":"<ul> <li>:s/old/new - \u7528new\u66ff\u6362\u5f53\u524d\u884c\u7b2c\u4e00\u4e2aold\u3002</li> <li>:s/old/new/g - \u7528new\u66ff\u6362\u5f53\u524d\u884c\u6240\u6709\u7684old\u3002</li> <li>:n1,n2s/old/new/g - \u7528new\u66ff\u6362\u6587\u4ef6n1\u884c\u5230n2\u884c\u6240\u6709\u7684old\u3002</li> <li>:%s/old/new/g - \u7528new\u66ff\u6362\u6587\u4ef6\u4e2d\u6240\u6709\u7684old\u3002</li> <li>:%s/^/xxx/g - \u5728\u6bcf\u4e00\u884c\u7684\u884c\u9996\u63d2\u5165xxx\uff0c^\u8868\u793a\u884c\u9996\u3002</li> <li>:%s/\\(/xxx/g - \u5728\u6bcf\u4e00\u884c\u7684\u884c\u5c3e\u63d2\u5165xxx\uff0c\\)\u8868\u793a\u884c\u5c3e\u3002</li> <li>\u6240\u6709\u66ff\u6362\u547d\u4ee4\u672b\u5c3e\u52a0\u4e0ac\uff0c\u6bcf\u4e2a\u66ff\u6362\u90fd\u5c06\u9700\u8981\u7528\u6237\u786e\u8ba4\u3002 \u5982\uff1a%s/old/new/gc\uff0c\u52a0\u4e0ai\u5219\u5ffd\u7565\u5927\u5c0f\u5199(ignore)\u3002</li> </ul> <p>\u8fd8\u6709\u4e00\u79cd\u6bd4\u66ff\u6362\u66f4\u7075\u6d3b\u7684\u65b9\u5f0f\uff0c\u5b83\u662f\u5339\u914d\u5230\u67d0\u4e2a\u6a21\u5f0f\u540e\u6267\u884c\u67d0\u79cd\u547d\u4ee4\uff0c</p> <p>\u8bed\u6cd5\u4e3a :[range]g/pattern/command</p> <p>\u4f8b\u5982 :%g/^ xyz/normal dd\u3002</p> <p>\u8868\u793a\u5bf9\u4e8e\u4ee5\u4e00\u4e2a\u7a7a\u683c\u548cxyz\u5f00\u5934\u7684\u884c\u6267\u884cnormal\u6a21\u5f0f\u4e0b\u7684dd\u547d\u4ee4\u3002</p> <p>\u5173\u4e8erange\u7684\u89c4\u5b9a\u4e3a\uff1a</p> <ul> <li>\u5982\u679c\u4e0d\u6307\u5b9arange\uff0c\u5219\u8868\u793a\u5f53\u524d\u884c\u3002</li> <li>m,n: \u4ecem\u884c\u5230n\u884c\u3002</li> <li>0: \u6700\u5f00\u59cb\u4e00\u884c\uff08\u53ef\u80fd\u662f\u8fd9\u6837\uff09\u3002</li> <li>$: \u6700\u540e\u4e00\u884c</li> <li>.: \u5f53\u524d\u884c</li> <li>%: \u6240\u6709\u884c</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#73-\u6b63\u5219\u8868\u8fbe\u5f0f","title":"7.3 \u6b63\u5219\u8868\u8fbe\u5f0f","text":"<p>\u9ad8\u7ea7\u7684\u67e5\u627e\u66ff\u6362\u5c31\u8981\u7528\u5230\u6b63\u5219\u8868\u8fbe\u5f0f\u3002</p> <ul> <li>d: \u8868\u793a\u5341\u8fdb\u5236\u6570\uff08\u6211\u731c\u7684\uff09</li> <li>s: \u8868\u793a\u7a7a\u683c</li> <li>S: \u975e\u7a7a\u5b57\u7b26</li> <li>a: \u82f1\u6587\u5b57\u6bcd</li> <li>|: \u8868\u793a \u6216</li> <li>.: \u8868\u793a.</li> <li>{m,n}: \u8868\u793am\u5230n\u4e2a\u5b57\u7b26\u3002\u8fd9\u8981\u548c s\u4e0ea\u7b49\u8fde\u7528\uff0c\u5982 a{m,n} \u8868\u793am \u5230n\u4e2a\u82f1\u6587\u5b57\u6bcd\u3002</li> <li>{m,}: \u8868\u793am\u5230\u65e0\u9650\u591a\u4e2a\u5b57\u7b26\u3002</li> <li>**: \u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u5b50\u76ee\u5f55\u3002</li> </ul> <p>:help pattern\u5f97\u5230\u66f4\u591a\u5e2e\u52a9\u3002</p>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#8\u6392\u7248","title":"8.\u6392\u7248","text":"","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#81-\u57fa\u672c\u6392\u7248","title":"8.1 \u57fa\u672c\u6392\u7248","text":"<ul> <li>&lt;&lt; \u5411\u5de6\u7f29\u8fdb\u4e00\u4e2ashiftwidth</li> <li>&gt;&gt; \u5411\u53f3\u7f29\u8fdb\u4e00\u4e2ashiftwidth</li> <li>:ce(nter) \u672c\u884c\u6587\u5b57\u5c45\u4e2d</li> <li>:le(ft) \u672c\u884c\u6587\u5b57\u9760\u5de6</li> <li>:ri(ght) \u672c\u884c\u6587\u5b57\u9760\u53f3</li> <li>gq \u5bf9\u9009\u4e2d\u7684\u6587\u5b57\u91cd\u6392\uff0c\u5373\u5bf9\u8fc7\u957f\u7684\u6587\u5b57\u8fdb\u884c\u65ad\u884c</li> <li>gqq \u91cd\u6392\u5f53\u524d\u884c</li> <li>gqnq \u91cd\u6392n\u884c</li> <li>gqap \u91cd\u6392\u5f53\u524d\u6bb5</li> <li>gqnap \u91cd\u6392n\u6bb5</li> <li>gqnj \u91cd\u6392\u5f53\u524d\u884c\u548c\u4e0b\u9762n\u884c</li> <li>gqQ \u91cd\u6392\u5f53\u524d\u6bb5\u5bf9\u6587\u7ae0\u672b\u5c3e</li> <li>J \u62fc\u63a5\u5f53\u524d\u884c\u548c\u4e0b\u4e00\u884c</li> <li>gJ \u540c J \uff0c\u4e0d\u8fc7\u5408\u5e76\u540e\u4e0d\u7559\u7a7a\u683c\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#82-\u62fc\u5199\u68c0\u67e5","title":"8.2 \u62fc\u5199\u68c0\u67e5","text":"<ul> <li>:set spell\uff0d\u5f00\u542f\u62fc\u5199\u68c0\u67e5\u529f\u80fd</li> <li>:set nospell\uff0d\u5173\u95ed\u62fc\u5199\u68c0\u67e5\u529f\u80fd</li> <li>]s\uff0d\u79fb\u5230\u4e0b\u4e00\u4e2a\u62fc\u5199\u9519\u8bef\u7684\u5355\u8bcd</li> <li>[s\uff0d\u4f5c\u7528\u4e0e\u4e0a\u4e00\u547d\u4ee4\u7c7b\u4f3c\uff0c\u4f46\u5b83\u662f\u4ece\u76f8\u53cd\u65b9\u5411\u8fdb\u884c\u641c\u7d22</li> <li>z=\uff0d\u663e\u793a\u4e00\u4e2a\u6709\u5173\u62fc\u5199\u9519\u8bef\u5355\u8bcd\u7684\u5217\u8868\uff0c\u53ef\u4ece\u4e2d\u9009\u62e9</li> <li>zg\uff0d\u544a\u8bc9\u62fc\u5199\u68c0\u67e5\u5668\u8be5\u5355\u8bcd\u662f\u62fc\u5199\u6b63\u786e\u7684</li> <li>zw\uff0d\u4e0e\u4e0a\u4e00\u547d\u4ee4\u76f8\u53cd\uff0c\u544a\u8bc9\u62fc\u5199\u68c0\u67e5\u5668\u8be5\u5355\u8bcd\u662f\u62fc\u5199\u9519\u8bef\u7684</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#83-\u7edf\u8ba1\u5b57\u6570","title":"8.3 \u7edf\u8ba1\u5b57\u6570","text":"<p>g ^g\u53ef\u4ee5\u7edf\u8ba1\u6587\u6863\u5b57\u7b26\u6570\uff0c\u884c\u6570\u3002 \u5c06\u5149\u6807\u653e\u5728\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u4e0a\uff0c\u7528\u5b57\u7b26\u6570\u51cf\u53bb\u884c\u6570\u53ef\u4ee5\u7c97\u7565\u7edf\u8ba1\u4e2d\u6587\u6587\u6863\u7684\u5b57\u6570\u3002 \u4ee5\u4e0a\u5bf9 Mac \u6216 Unix \u7684\u6587\u4ef6\u683c\u5f0f\u9002\u7528\u3002 \u5982\u679c\u662f Windows \u6587\u4ef6\u683c\u5f0f\uff08\u5373\u6362\u884c\u7b26\u6709\u4e24\u4e2a\u5b57\u8282\uff09\uff0c\u5b57\u6570\u7684\u7edf\u8ba1\u65b9\u6cd5\u4e3a\uff1a \u5b57\u7b26\u6570 - \u884c\u6570 * 2\u3002</p>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#9\u7f16\u8f91\u591a\u4e2a\u6587\u4ef6","title":"9.\u7f16\u8f91\u591a\u4e2a\u6587\u4ef6","text":"","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#91-\u4e00\u6b21\u7f16\u8f91\u591a\u4e2a\u6587\u4ef6","title":"9.1 \u4e00\u6b21\u7f16\u8f91\u591a\u4e2a\u6587\u4ef6","text":"<p>\u6211\u4eec\u53ef\u4ee5\u4e00\u6b21\u6253\u5f00\u591a\u4e2a\u6587\u4ef6\uff0c\u5982</p> <p>vi a.txt b.txt c.txt</p> <ul> <li>\u4f7f\u7528:next(:n)\u7f16\u8f91\u4e0b\u4e00\u4e2a\u6587\u4ef6\u3002</li> <li>:2n \u7f16\u8f91\u4e0b2\u4e2a\u6587\u4ef6\u3002</li> <li>\u4f7f\u7528:previous\u6216:N\u7f16\u8f91\u4e0a\u4e00\u4e2a\u6587\u4ef6\u3002</li> <li>\u4f7f\u7528:wnext\uff0c\u4fdd\u5b58\u5f53\u524d\u6587\u4ef6\uff0c\u5e76\u7f16\u8f91\u4e0b\u4e00\u4e2a\u6587\u4ef6\u3002</li> <li>\u4f7f\u7528:wprevious\uff0c\u4fdd\u5b58\u5f53\u524d\u6587\u4ef6\uff0c\u5e76\u7f16\u8f91\u4e0a\u4e00\u4e2a\u6587\u4ef6\u3002</li> <li>\u4f7f\u7528:args \u663e\u793a\u6587\u4ef6\u5217\u8868\u3002</li> <li>:n filenames\u6216:args filenames \u6307\u5b9a\u65b0\u7684\u6587\u4ef6\u5217\u8868\u3002</li> <li>vi -o filenames \u5728\u6c34\u5e73\u5206\u5272\u7684\u591a\u4e2a\u7a97\u53e3\u4e2d\u7f16\u8f91\u591a\u4e2a\u6587\u4ef6\u3002</li> <li>vi -O filenames \u5728\u5782\u76f4\u5206\u5272\u7684\u591a\u4e2a\u7a97\u53e3\u4e2d\u7f16\u8f91\u591a\u4e2a\u6587\u4ef6\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#92-\u591a\u6807\u7b7e\u7f16\u8f91","title":"9.2 \u591a\u6807\u7b7e\u7f16\u8f91","text":"<ul> <li>vim -p files: \u6253\u5f00\u591a\u4e2a\u6587\u4ef6\uff0c\u6bcf\u4e2a\u6587\u4ef6\u5360\u7528\u4e00\u4e2a\u6807\u7b7e\u9875\u3002</li> <li>:tabe, tabnew -- \u5982\u679c\u52a0\u6587\u4ef6\u540d\uff0c\u5c31\u5728\u65b0\u7684\u6807\u7b7e\u4e2d\u6253\u5f00\u8fd9\u4e2a\u6587\u4ef6\uff0c \u5426\u5219\u6253\u5f00\u4e00\u4e2a\u7a7a\u7f13\u51b2\u533a\u3002</li> <li>^w gf -- \u5728\u65b0\u7684\u6807\u7b7e\u9875\u91cc\u6253\u5f00\u5149\u6807\u4e0b\u8def\u5f84\u6307\u5b9a\u7684\u6587\u4ef6\u3002</li> <li>:tabn -- \u5207\u6362\u5230\u4e0b\u4e00\u4e2a\u6807\u7b7e\u3002Control + PageDown\uff0c\u4e5f\u53ef\u4ee5\u3002</li> <li>:tabp -- \u5207\u6362\u5230\u4e0a\u4e00\u4e2a\u6807\u7b7e\u3002Control + PageUp\uff0c\u4e5f\u53ef\u4ee5\u3002</li> <li>[n] gt -- \u5207\u6362\u5230\u4e0b\u4e00\u4e2a\u6807\u7b7e\u3002\u5982\u679c\u524d\u9762\u52a0\u4e86 </li> </ul> <p>n \uff0c \u5c31\u5207\u6362\u5230\u7b2cn\u4e2a\u6807\u7b7e\u3002\u7b2c\u4e00\u4e2a\u6807\u7b7e\u7684\u5e8f\u53f7\u5c31\u662f1\u3002</p> <ul> <li>:tab split -- \u5c06\u5f53\u524d\u7f13\u51b2\u533a\u7684\u5185\u5bb9\u5728\u65b0\u9875\u7b7e\u4e2d\u6253\u5f00\u3002</li> <li>:tabc[lose] -- \u5173\u95ed\u5f53\u524d\u7684\u6807\u7b7e\u9875\u3002</li> <li>:tabo[nly] -- \u5173\u95ed\u5176\u5b83\u7684\u6807\u7b7e\u9875\u3002</li> <li>:tabs -- \u5217\u51fa\u6240\u6709\u7684\u6807\u7b7e\u9875\u548c\u5b83\u4eec\u5305\u542b\u7684\u7a97\u53e3\u3002</li> <li>:tabm[ove] [N] -- \u79fb\u52a8\u6807\u7b7e\u9875\uff0c\u79fb\u52a8\u5230\u7b2cN\u4e2a\u6807\u7b7e\u9875\u4e4b\u540e\u3002 \u5982 </li> </ul> <p>tabm 0 \u5f53\u524d\u6807\u7b7e\u9875\uff0c\u5c31\u4f1a\u53d8\u6210\u7b2c\u4e00\u4e2a\u6807\u7b7e\u9875\u3002</p>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#93-\u7f13\u51b2\u533a","title":"9.3 \u7f13\u51b2\u533a","text":"<ul> <li>:buffers\u6216:ls\u6216:files \u663e\u793a\u7f13\u51b2\u533a\u5217\u8868\u3002</li> <li>ctrl+^\uff1a\u5728\u6700\u8fd1\u4e24\u4e2a\u7f13\u51b2\u533a\u95f4\u5207\u6362\u3002</li> <li>:bn -- \u4e0b\u4e00\u4e2a\u7f13\u51b2\u533a\u3002</li> <li>:bp -- \u4e0a\u4e00\u4e2a\u7f13\u51b2\u533a\u3002</li> <li>:bl -- \u6700\u540e\u4e00\u4e2a\u7f13\u51b2\u533a\u3002</li> <li>:b[n]\u6216:[n]b -- \u5207\u6362\u5230\u7b2cn\u4e2a\u7f13\u51b2\u533a\u3002</li> <li>:nbw(ipeout) -- \u5f7b\u5e95\u5220\u9664\u7b2cn\u4e2a\u7f13\u51b2\u533a\u3002</li> <li>:nbd(elete) -- \u5220\u9664\u7b2cn\u4e2a\u7f13\u51b2\u533a\uff0c\u5e76\u672a\u771f\u6b63\u5220\u9664\uff0c\u8fd8\u5728unlisted\u5217\u8868\u4e2d\u3002</li> <li>:ba[ll] -- \u628a\u6240\u6709\u7684\u7f13\u51b2\u533a\u5728\u5f53\u524d\u9875\u4e2d\u6253\u5f00\uff0c\u6bcf\u4e2a\u7f13\u51b2\u533a\u5360\u4e00\u4e2a\u7a97\u53e3\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#10\u5206\u5c4f\u7f16\u8f91","title":"10.\u5206\u5c4f\u7f16\u8f91","text":"<ul> <li>vim -o file1 file2:\u6c34\u5e73\u5206\u5272\u7a97\u53e3\uff0c\u540c\u65f6\u6253\u5f00file1\u548cfile2</li> <li>vim -O file1 file2:\u5782\u76f4\u5206\u5272\u7a97\u53e3\uff0c\u540c\u65f6\u6253\u5f00file1\u548cfile2</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#101-\u6c34\u5e73\u5206\u5272","title":"10.1 \u6c34\u5e73\u5206\u5272","text":"<ul> <li>:split(:sp) -- \u628a\u5f53\u524d\u7a97\u6c34\u5e73\u5206\u5272\u6210\u4e24\u4e2a\u7a97\u53e3\u3002(CTRL-W s \u6216 CTRL-W CTRL-S) \u6ce8\u610f\u5982\u679c\u5728\u7ec8\u7aef\u4e0b\uff0cCTRL-S\u53ef\u80fd\u4f1a\u51bb\u7ed3\u7ec8\u7aef\uff0c\u8bf7\u6309CTRL-Q\u7ee7\u7eed\u3002</li> <li>:split filename -- \u6c34\u5e73\u5206\u5272\u7a97\u53e3\uff0c\u5e76\u5728\u65b0\u7a97\u53e3\u4e2d\u663e\u793a\u53e6\u4e00\u4e2a\u6587\u4ef6\u3002</li> <li>:nsplit(:nsp) -- \u6c34\u5e73\u5206\u5272\u51fa\u4e00\u4e2an\u884c\u9ad8\u7684\u7a97\u53e3\u3002</li> <li>:[N]new -- \u6c34\u5e73\u5206\u5272\u51fa\u4e00\u4e2aN\u884c\u9ad8\u7684\u7a97\u53e3\uff0c\u5e76\u7f16\u8f91\u4e00\u4e2a\u65b0\u6587\u4ef6\u3002 (CTRL-W n\u6216 CTRL-W CTRL-N)</li> <li>ctrl+w f --\u6c34\u5e73\u5206\u5272\u51fa\u4e00\u4e2a\u7a97\u53e3\uff0c\u5e76\u5728\u65b0\u7a97\u53e3\u6253\u5f00\u540d\u79f0\u4e3a\u5149\u6807\u6240\u5728\u8bcd\u7684\u6587\u4ef6 \u3002</li> <li>C-w C-^ -- \u6c34\u5e73\u5206\u5272\u4e00\u4e2a\u7a97\u53e3\uff0c\u6253\u5f00\u521a\u624d\u7f16\u8f91\u7684\u6587\u4ef6\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#102-\u5782\u76f4\u5206\u5272","title":"10.2 \u5782\u76f4\u5206\u5272","text":"<ul> <li>:vsplit(:vsp) -- \u628a\u5f53\u524d\u7a97\u53e3\u5206\u5272\u6210\u6c34\u5e73\u5206\u5e03\u7684\u4e24\u4e2a\u7a97\u53e3\u3002 (CTRL-W v\u6216CTRL CTRL-V)</li> <li>:[N]vne[w] -- \u5782\u76f4\u5206\u5272\u51fa\u4e00\u4e2a\u65b0\u7a97\u53e3\u3002</li> <li>:vertical \u6c34\u5e73\u5206\u5272\u7684\u547d\u4ee4\uff1a \u76f8\u5e94\u7684\u5782\u76f4\u5206\u5272\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#103-\u5173\u95ed\u5b50\u7a97\u53e3","title":"10.3 \u5173\u95ed\u5b50\u7a97\u53e3","text":"<ul> <li>:qall -- \u5173\u95ed\u6240\u6709\u7a97\u53e3\uff0c\u9000\u51favim\u3002</li> <li>:wall -- \u4fdd\u5b58\u6240\u6709\u4fee\u6539\u8fc7\u7684\u7a97\u53e3\u3002</li> <li>:only -- \u53ea\u4fdd\u7559\u5f53\u524d\u7a97\u53e3\uff0c\u5173\u95ed\u5176\u5b83\u7a97\u53e3\u3002(CTRL-W o)</li> <li>:close -- \u5173\u95ed\u5f53\u524d\u7a97\u53e3\uff0cCTRL-W c\u80fd\u5b9e\u73b0\u540c\u6837\u7684\u529f\u80fd\u3002 (\u8c61 :q :x\u540c\u6837\u5de5\u4f5c )</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#104-\u8c03\u6574\u7a97\u53e3\u5927\u5c0f","title":"10.4 \u8c03\u6574\u7a97\u53e3\u5927\u5c0f","text":"<ul> <li>ctrl+w + --\u5f53\u524d\u7a97\u53e3\u589e\u9ad8\u4e00\u884c\u3002\u4e5f\u53ef\u4ee5\u7528n\u589e\u9ad8n\u884c\u3002</li> <li>ctrl+w - --\u5f53\u524d\u7a97\u53e3\u51cf\u5c0f\u4e00\u884c\u3002\u4e5f\u53ef\u4ee5\u7528n\u51cf\u5c0fn\u884c\u3002</li> <li>ctrl+w _ --\u5f53\u524d\u7a97\u53e3\u6269\u5c55\u5230\u5c3d\u53ef\u80fd\u7684\u5927\u3002\u4e5f\u53ef\u4ee5\u7528n\u8bbe\u5b9a\u884c\u6570\u3002</li> <li>:resize n -- \u5f53\u524d\u7a97\u53e3n\u884c\u9ad8\u3002</li> <li>ctrl+w = -- \u6240\u6709\u7a97\u53e3\u540c\u6837\u9ad8\u5ea6\u3002</li> <li>n ctrl+w _ -- \u5f53\u524d\u7a97\u53e3\u7684\u9ad8\u5ea6\u8bbe\u5b9a\u4e3an\u884c\u3002</li> <li>ctrl+w &lt; --\u5f53\u524d\u7a97\u53e3\u51cf\u5c11\u4e00\u5217\u3002\u4e5f\u53ef\u4ee5\u7528n\u51cf\u5c11n\u5217\u3002</li> <li>ctrl+w &gt; --\u5f53\u524d\u7a97\u53e3\u589e\u5bbd\u4e00\u5217\u3002\u4e5f\u53ef\u4ee5\u7528n\u589e\u5bbdn\u5217\u3002</li> <li>ctrl+w | --\u5f53\u524d\u7a97\u53e3\u5c3d\u53ef\u80fd\u7684\u5bbd\u3002\u4e5f\u53ef\u4ee5\u7528n\u8bbe\u5b9a\u5217\u6570\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#105-\u5207\u6362\u548c\u79fb\u52a8\u7a97\u53e3","title":"10.5 \u5207\u6362\u548c\u79fb\u52a8\u7a97\u53e3","text":"<p>\u5982\u679c\u652f\u6301\u9f20\u6807\uff0c\u5207\u6362\u548c\u8c03\u6574\u5b50\u7a97\u53e3\u7684\u5927\u5c0f\u5c31\u7b80\u5355\u4e86\u3002</p> <ul> <li>ctrl+w ctrl+w: \u5207\u6362\u5230\u4e0b\u4e00\u4e2a\u7a97\u53e3\u3002\u6216\u8005\u662fctrl+w w\u3002</li> <li>ctrl+w p: \u5207\u6362\u5230\u524d\u4e00\u4e2a\u7a97\u53e3\u3002</li> <li>ctrl+w h(l,j,k):\u5207\u6362\u5230\u5de6\uff08\u53f3\uff0c\u4e0b\uff0c\u4e0a\uff09\u7684\u7a97\u53e3\u3002</li> <li>ctrl+w t(b):\u5207\u6362\u5230\u6700\u4e0a\uff08\u4e0b\uff09\u9762\u7684\u7a97\u53e3\u3002</li> <li>ctrl+w H(L,K,J): \u5c06\u5f53\u524d\u7a97\u53e3\u79fb\u52a8\u5230\u6700\u5de6\uff08\u53f3\u3001\u4e0a\u3001\u4e0b\uff09\u9762\u3002</li> <li>ctrl+w r\uff1a\u65cb\u8f6c\u7a97\u53e3\u7684\u4f4d\u7f6e\u3002</li> <li>ctrl+w T: \u5c06\u5f53\u524d\u7684\u7a97\u53e3\u79fb\u52a8\u5230\u65b0\u7684\u6807\u7b7e\u9875\u4e0a\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#11\u5feb\u901f\u7f16\u8f91","title":"11.\u5feb\u901f\u7f16\u8f91","text":"","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#111-\u6539\u53d8\u5927\u5c0f\u5199","title":"11.1 \u6539\u53d8\u5927\u5c0f\u5199","text":"<ul> <li>~: \u53cd\u8f6c\u5149\u6807\u6240\u5728\u5b57\u7b26\u7684\u5927\u5c0f\u5199\u3002</li> <li>\u53ef\u89c6\u6a21\u5f0f\u4e0b\u7684U\u6216u\uff1a\u628a\u9009\u4e2d\u7684\u6587\u672c\u53d8\u4e3a\u5927\u5199\u6216\u5c0f\u5199\u3002</li> <li>gu(U)\u63a5\u8303\u56f4\uff08\u5982$\uff0c\u6216G\uff09\uff0c\u53ef\u4ee5\u628a\u4ece\u5149\u6807\u5f53\u524d\u4f4d\u7f6e\u5230\u6307\u5b9a\u4f4d\u7f6e\u4e4b\u95f4\u5b57\u6bcd\u5168\u90e8 \u8f6c\u6362\u6210\u5c0f\u5199\u6216\u5927\u5199\u3002\u5982ggguG\uff0c\u5c31\u662f\u628a\u5f00\u5934\u5230\u6700\u540e\u4e00\u884c\u4e4b\u95f4\u7684\u5b57\u6bcd\u5168\u90e8\u53d8\u4e3a\u5c0f \u5199\u3002\u518d\u5982gu5j\uff0c\u628a\u5f53\u524d\u884c\u548c\u4e0b\u9762\u56db\u884c\u5168\u90e8\u53d8\u6210\u5c0f\u5199\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#112-\u66ff\u6362normal\u6a21\u5f0f","title":"11.2 \u66ff\u6362\uff08normal\u6a21\u5f0f\uff09","text":"<ul> <li>r: \u66ff\u6362\u5149\u6807\u5904\u7684\u5b57\u7b26\uff0c\u540c\u6837\u652f\u6301\u6c49\u5b57\u3002</li> <li>R: \u8fdb\u5165\u66ff\u6362\u6a21\u5f0f\uff0c\u6309esc\u56de\u5230\u6b63\u5e38\u6a21\u5f0f\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#113-\u64a4\u6d88\u4e0e\u91cd\u505anormal\u6a21\u5f0f","title":"11.3 \u64a4\u6d88\u4e0e\u91cd\u505a\uff08normal\u6a21\u5f0f\uff09","text":"<ul> <li>[n] u: \u53d6\u6d88\u4e00(n)\u4e2a\u6539\u52a8\u3002</li> <li>:undo 5 -- \u64a4\u95005\u4e2a\u6539\u53d8\u3002</li> <li>:undolist -- \u4f60\u7684\u64a4\u9500\u5386\u53f2\u3002</li> <li>ctrl + r: \u91cd\u505a\u6700\u540e\u7684\u6539\u52a8\u3002</li> <li>U: \u53d6\u6d88\u5f53\u524d\u884c\u4e2d\u6240\u6709\u7684\u6539\u52a8\u3002</li> <li>:earlier 4m -- \u56de\u52304\u5206\u949f\u524d</li> <li>:later 55s -- \u524d\u8fdb55\u79d2</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#114-\u5b8f---\u91cd\u590d\u4e0a\u4e00\u4e2a\u7f16\u8f91\u52a8\u4f5c","title":"11.4 \u5b8f. --\u91cd\u590d\u4e0a\u4e00\u4e2a\u7f16\u8f91\u52a8\u4f5c","text":"<ul> <li>qa\uff1a\u5f00\u59cb\u5f55\u5236\u5b8fa\uff08\u952e\u76d8\u64cd\u4f5c\u8bb0\u5f55\uff09</li> <li>q\uff1a\u505c\u6b62\u5f55\u5236</li> <li>@a\uff1a\u64ad\u653e\u5b8fa</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#12\u7f16\u8f91\u7279\u6b8a\u6587\u4ef6","title":"12.\u7f16\u8f91\u7279\u6b8a\u6587\u4ef6","text":"","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#121-\u6587\u4ef6\u52a0\u89e3\u5bc6","title":"12.1 \u6587\u4ef6\u52a0\u89e3\u5bc6","text":"<ul> <li>vim -x file: \u5f00\u59cb\u7f16\u8f91\u4e00\u4e2a\u52a0\u5bc6\u7684\u6587\u4ef6\u3002</li> <li>:X -- \u4e3a\u5f53\u524d\u6587\u4ef6\u8bbe\u7f6e\u5bc6\u7801\u3002</li> <li>:set key= -- \u53bb\u9664\u6587\u4ef6\u7684\u5bc6\u7801\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#122-\u6587\u4ef6\u7684\u7f16\u7801","title":"12.2 \u6587\u4ef6\u7684\u7f16\u7801","text":"<ul> <li>:e ++enc=utf8 filename, \u8ba9vim\u7528utf-8\u7684\u7f16\u7801\u6253\u5f00\u8fd9\u4e2a\u6587\u4ef6\u3002</li> <li>:w ++enc=gbk\uff0c\u4e0d\u7ba1\u5f53\u524d\u6587\u4ef6\u4ec0\u4e48\u7f16\u7801\uff0c\u628a\u5b83\u8f6c\u5b58\u6210gbk\u7f16\u7801\u3002</li> <li>:set fenc\u6216:set fileencoding\uff0c\u67e5\u770b\u5f53\u524d\u6587\u4ef6\u7684\u7f16\u7801\u3002</li> <li>\u5728vimrc\u4e2d\u6dfb\u52a0set fileencoding=ucs-bom,utf-8,cp936\uff0cvim\u4f1a\u6839\u636e\u8981\u6253\u5f00\u7684\u6587\u4ef6\u9009\u62e9\u5408\u9002\u7684\u7f16\u7801\u3002 \u6ce8\u610f\uff1a\u7f16\u7801\u4e4b\u95f4\u4e0d\u8981\u7559\u7a7a\u683c\u3002 cp936\u5bf9\u5e94\u4e8egbk\u7f16\u7801\u3002 ucs-bom\u5bf9\u5e94\u4e8ewindows\u4e0b\u7684\u6587\u4ef6\u683c\u5f0f\u3002</li> </ul> <p>\u8ba9vim \u6b63\u786e\u5904\u7406\u6587\u4ef6\u683c\u5f0f\u548c\u6587\u4ef6\u7f16\u7801\uff0c\u6709\u8d56\u4e8e ~/.vimrc\u7684\u6b63\u786e\u914d\u7f6e\u3002</p>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#123-\u6587\u4ef6\u683c\u5f0f","title":"12.3 \u6587\u4ef6\u683c\u5f0f","text":"<p>\u5927\u81f4\u6709\u4e09\u79cd\u6587\u4ef6\u683c\u5f0f\uff1aunix, dos, mac. \u4e09\u79cd\u683c\u5f0f\u7684\u533a\u522b\u4e3b\u8981\u5728\u4e8e\u56de\u8f66\u952e\u7684\u7f16\u7801\uff1ados \u4e0b\u662f\u56de\u8f66\u52a0\u6362\u884c\uff0cunix \u4e0b\u53ea\u6709 \u6362\u884c\u7b26\uff0cmac \u4e0b\u53ea\u6709\u56de\u8f66\u7b26\u3002</p> <ul> <li>:e ++ff=dos filename, \u8ba9vim\u7528dos\u683c\u5f0f\u6253\u5f00\u8fd9\u4e2a\u6587\u4ef6\u3002</li> <li>:w ++ff=mac filename, \u4ee5mac\u683c\u5f0f\u5b58\u50a8\u8fd9\u4e2a\u6587\u4ef6\u3002</li> <li>:set ff\uff0c\u663e\u793a\u5f53\u524d\u6587\u4ef6\u7684\u683c\u5f0f\u3002</li> <li>\u5728vimrc\u4e2d\u6dfb\u52a0set fileformats=unix,dos,mac\uff0c\u8ba9vim\u81ea\u52a8\u8bc6\u522b\u6587\u4ef6\u683c\u5f0f\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#13\u7f16\u7a0b\u8f85\u52a9","title":"13.\u7f16\u7a0b\u8f85\u52a9","text":"","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#131-\u4e00\u4e9b\u6309\u952e","title":"13.1 \u4e00\u4e9b\u6309\u952e","text":"<ul> <li>gd: \u8df3\u8f6c\u5230\u5c40\u90e8\u53d8\u91cf\u7684\u5b9a\u4e49\u5904\uff1b</li> <li>gD: \u8df3\u8f6c\u5230\u5168\u5c40\u53d8\u91cf\u7684\u5b9a\u4e49\u5904\uff0c\u4ece\u5f53\u524d\u6587\u4ef6\u5f00\u5934\u5f00\u59cb\u641c\u7d22\uff1b</li> <li>g;: \u4e0a\u4e00\u4e2a\u4fee\u6539\u8fc7\u7684\u5730\u65b9\uff1b</li> <li>g,: \u4e0b\u4e00\u4e2a\u4fee\u6539\u8fc7\u7684\u5730\u65b9\uff1b</li> <li>[[: \u8df3\u8f6c\u5230\u4e0a\u4e00\u4e2a\u51fd\u6570\u5757\u5f00\u59cb\uff0c\u9700\u8981\u6709\u5355\u72ec\u4e00\u884c\u7684{\u3002</li> <li>]]: \u8df3\u8f6c\u5230\u4e0b\u4e00\u4e2a\u51fd\u6570\u5757\u5f00\u59cb\uff0c\u9700\u8981\u6709\u5355\u72ec\u4e00\u884c\u7684{\u3002</li> <li>[] : \u8df3\u8f6c\u5230\u4e0a\u4e00\u4e2a\u51fd\u6570\u5757\u7ed3\u675f\uff0c\u9700\u8981\u6709\u5355\u72ec\u4e00\u884c\u7684}\u3002</li> <li>][: \u8df3\u8f6c\u5230\u4e0b\u4e00\u4e2a\u51fd\u6570\u5757\u7ed3\u675f\uff0c\u9700\u8981\u6709\u5355\u72ec\u4e00\u884c\u7684}\u3002</li> <li>[{: \u8df3\u8f6c\u5230\u5f53\u524d\u5757\u5f00\u59cb\u5904\uff1b</li> <li>]}: \u8df3\u8f6c\u5230\u5f53\u524d\u5757\u7ed3\u675f\u5904\uff1b</li> <li>[/: \u8df3\u8f6c\u5230\u5f53\u524d\u6ce8\u91ca\u5757\u5f00\u59cb\u5904\uff1b</li> <li>]/: \u8df3\u8f6c\u5230\u5f53\u524d\u6ce8\u91ca\u5757\u7ed3\u675f\u5904\uff1b</li> <li>%: \u4e0d\u4ec5\u80fd\u79fb\u52a8\u5230\u5339\u914d\u7684(),{}\u6216[]\u4e0a\uff0c\u800c\u4e14\u80fd\u5728#if\uff0c#else\uff0c #endif\u4e4b\u95f4\u8df3\u8dc3\u3002</li> </ul> <p>\u4e0b\u9762\u7684\u62ec\u53f7\u5339\u914d\u5bf9\u7f16\u7a0b\u5f88\u5b9e\u7528\u7684\u3002</p> <ul> <li>ci', di', yi'\uff1a\u4fee\u6539\u3001\u526a\u5207\u6216\u590d\u5236'\u4e4b\u95f4\u7684\u5185\u5bb9\u3002</li> <li>ca', da', ya'\uff1a\u4fee\u6539\u3001\u526a\u5207\u6216\u590d\u5236'\u4e4b\u95f4\u7684\u5185\u5bb9\uff0c\u5305\u542b'\u3002</li> <li>ci\", di\", yi\"\uff1a\u4fee\u6539\u3001\u526a\u5207\u6216\u590d\u5236\"\u4e4b\u95f4\u7684\u5185\u5bb9\u3002</li> <li>ca\", da\", ya\"\uff1a\u4fee\u6539\u3001\u526a\u5207\u6216\u590d\u5236\"\u4e4b\u95f4\u7684\u5185\u5bb9\uff0c\u5305\u542b\"\u3002</li> <li>ci(, di(, yi(\uff1a\u4fee\u6539\u3001\u526a\u5207\u6216\u590d\u5236()\u4e4b\u95f4\u7684\u5185\u5bb9\u3002</li> <li>ca(, da(, ya(\uff1a\u4fee\u6539\u3001\u526a\u5207\u6216\u590d\u5236()\u4e4b\u95f4\u7684\u5185\u5bb9\uff0c\u5305\u542b()\u3002</li> <li>ci[, di[, yi[\uff1a\u4fee\u6539\u3001\u526a\u5207\u6216\u590d\u5236[]\u4e4b\u95f4\u7684\u5185\u5bb9\u3002</li> <li>ca[, da[, ya[\uff1a\u4fee\u6539\u3001\u526a\u5207\u6216\u590d\u5236[]\u4e4b\u95f4\u7684\u5185\u5bb9\uff0c\u5305\u542b[]\u3002</li> <li>ci{, di{, yi{\uff1a\u4fee\u6539\u3001\u526a\u5207\u6216\u590d\u5236{}\u4e4b\u95f4\u7684\u5185\u5bb9\u3002</li> <li>ca{, da{, ya{\uff1a\u4fee\u6539\u3001\u526a\u5207\u6216\u590d\u5236{}\u4e4b\u95f4\u7684\u5185\u5bb9\uff0c\u5305\u542b{}\u3002</li> <li>ci&lt;, di&lt;, yi&lt;\uff1a\u4fee\u6539\u3001\u526a\u5207\u6216\u590d\u5236&lt;&gt;\u4e4b\u95f4\u7684\u5185\u5bb9\u3002</li> <li>ca&lt;, da&lt;, ya&lt;\uff1a\u4fee\u6539\u3001\u526a\u5207\u6216\u590d\u5236&lt;&gt;\u4e4b\u95f4\u7684\u5185\u5bb9\uff0c\u5305\u542b&lt;&gt;\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#132-ctags","title":"13.2 ctags","text":"<ul> <li>ctags -R: \u751f\u6210tag\u6587\u4ef6\uff0c-R\u8868\u793a\u4e5f\u4e3a\u5b50\u76ee\u5f55\u4e2d\u7684\u6587\u4ef6\u751f\u6210tags</li> <li>:set tags=path/tags -- \u544a\u8bc9ctags\u4f7f\u7528\u54ea\u4e2atag\u6587\u4ef6</li> <li>:tag xyz -- \u8df3\u5230xyz\u7684\u5b9a\u4e49\u5904\uff0c\u6216\u8005\u5c06\u5149\u6807\u653e\u5728xyz\u4e0a\u6309C-]\uff0c\u8fd4\u56de\u7528C-t</li> <li>:stag xyz -- \u7528\u5206\u5272\u7684\u7a97\u53e3\u663e\u793axyz\u7684\u5b9a\u4e49\uff0c\u6216\u8005C-w ]\uff0c \u5982\u679c\u7528C-w n ]\uff0c\u5c31\u4f1a\u6253\u5f00\u4e00\u4e2an\u884c\u9ad8\u7684\u7a97\u53e3</li> <li>:ptag xyz -- \u5728\u9884\u89c8\u7a97\u53e3\u4e2d\u6253\u5f00xyz\u7684\u5b9a\u4e49\uff0c\u70ed\u952e\u662fC-w }\u3002</li> <li>:pclose -- \u5173\u95ed\u9884\u89c8\u7a97\u53e3\u3002\u70ed\u952e\u662fC-w z\u3002</li> <li>:pedit abc.h -- \u5728\u9884\u89c8\u7a97\u53e3\u4e2d\u7f16\u8f91abc.h</li> <li>:psearch abc -- \u641c\u7d22\u5f53\u524d\u6587\u4ef6\u548c\u5f53\u524d\u6587\u4ef6include\u7684\u6587\u4ef6\uff0c\u663e\u793a\u5305\u542babc\u7684\u884c\u3002</li> </ul> <p>\u6709\u65f6\u4e00\u4e2atag\u53ef\u80fd\u6709\u591a\u4e2a\u5339\u914d\uff0c\u5982\u51fd\u6570\u91cd\u8f7d\uff0c\u4e00\u4e2a\u51fd\u6570\u540d\u5c31\u4f1a\u6709\u591a\u4e2a\u5339\u914d\u3002 \u8fd9\u79cd\u60c5\u51b5\u4f1a\u5148\u8df3\u8f6c\u5230\u7b2c\u4e00\u4e2a\u5339\u914d\u5904\u3002</p> <ul> <li>:[n]tnext -- \u4e0b\u4e00[n]\u4e2a\u5339\u914d\u3002</li> <li>:[n]tprev -- \u4e0a\u4e00[n]\u4e2a\u5339\u914d\u3002</li> <li>:tfirst -- \u7b2c\u4e00\u4e2a\u5339\u914d</li> <li>:tlast -- \u6700\u540e\u4e00\u4e2a\u5339\u914d</li> <li>:tselect tagname -- \u6253\u5f00\u9009\u62e9\u5217\u8868</li> </ul> <p>tab\u952e\u8865\u9f50</p> <ul> <li>:tag xyz -- \u8865\u9f50\u4ee5xyz\u5f00\u5934\u7684tag\u540d\uff0c\u7ee7\u7eed\u6309tab\u952e\uff0c\u4f1a\u663e\u793a\u5176\u4ed6\u7684\u3002</li> <li>:tag /xyz -- \u4f1a\u7528\u540d\u5b57\u4e2d\u542b\u6709xyz\u7684tag\u540d\u8865\u5168\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#133-cscope","title":"13.3 cscope","text":"<ul> <li>cscope -Rbq: \u751f\u6210cscope.out\u6587\u4ef6</li> <li>:cs add /path/to/cscope.out /your/work/dir</li> <li>:cs find c func -- \u67e5\u627efunc\u5728\u54ea\u4e9b\u5730\u65b9\u88ab\u8c03\u7528</li> <li>:cw -- \u6253\u5f00quickfix\u7a97\u53e3\u67e5\u770b\u7ed3\u679c</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#134-gtags","title":"13.4 gtags","text":"<p>Gtags\u7efc\u5408\u4e86ctags\u548ccscope\u7684\u529f\u80fd\u3002 \u4f7f\u7528Gtags\u4e4b\u524d\uff0c\u4f60\u9700\u8981\u5b89\u88c5GNU Gtags\u3002 \u7136\u540e\u5728\u5de5\u7a0b\u76ee\u5f55\u8fd0\u884c gtags \u3002</p> <ul> <li>:Gtags funcname \u5b9a\u4f4d\u5230 funcname \u7684\u5b9a\u4e49\u5904\u3002</li> <li>:Gtags -r funcname \u67e5\u8be2 funcname\u88ab\u5f15\u7528\u7684\u5730\u65b9\u3002</li> <li>:Gtags -s symbol \u5b9a\u4f4d symbol \u51fa\u73b0\u7684\u5730\u65b9\u3002</li> <li>:Gtags -g string Goto string \u51fa\u73b0\u7684\u5730\u65b9\u3002 :Gtags -gi string \u5ffd\u7565\u5927\u5c0f\u5199\u3002</li> <li>:Gtags -f filename \u663e\u793a filename \u4e2d\u7684\u51fd\u6570\u5217\u8868\u3002 \u4f60\u53ef\u4ee5\u7528 :Gtags -f % \u663e\u793a\u5f53\u524d\u6587\u4ef6\u3002</li> <li>:Gtags -P pattern \u663e\u793a\u8def\u5f84\u4e2d\u5305\u542b\u7279\u5b9a\u6a21\u5f0f\u7684\u6587\u4ef6\u3002 \u5982 :Gtags -P .h$ \u663e\u793a\u6240\u6709\u5934\u6587\u4ef6\uff0c :Gtags -P /vm/ \u663e\u793avm\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#135-\u7f16\u8bd1","title":"13.5 \u7f16\u8bd1","text":"<p>vim\u63d0\u4f9b\u4e86:make\u6765\u7f16\u8bd1\u7a0b\u5e8f\uff0c\u9ed8\u8ba4\u8c03\u7528\u7684\u662fmake\uff0c \u5982\u679c\u4f60\u5f53\u524d\u76ee\u5f55\u4e0b\u6709makefile\uff0c\u7b80\u5355\u5730:make\u5373\u53ef\u3002</p> <p>\u5982\u679c\u4f60\u6ca1\u6709make\u7a0b\u5e8f\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6emakeprg\u9009\u9879\u6765\u66f4\u6539make\u8c03\u7528\u7684\u7a0b\u5e8f\u3002 \u5982\u679c\u4f60\u53ea\u6709\u4e00\u4e2aabc.java\u6587\u4ef6\uff0c\u4f60\u53ef\u4ee5\u8fd9\u6837\u8bbe\u7f6e\uff1a</p> <p>set makeprg=javac abc.java</p> <p>\u7136\u540e:make\u5373\u53ef\u3002\u5982\u679c\u7a0b\u5e8f\u6709\u9519\uff0c\u53ef\u4ee5\u901a\u8fc7quickfix\u7a97\u53e3\u67e5\u770b\u9519\u8bef\u3002 \u4e0d\u8fc7\u5982\u679c\u8981\u6b63\u786e\u5b9a\u4f4d\u9519\u8bef\uff0c\u9700\u8981\u8bbe\u7f6e\u597derrorformat\uff0c\u8ba9vim\u8bc6\u522b\u9519\u8bef\u4fe1\u606f\u3002 \u5982\uff1a</p> <p>:setl efm=%A%f:%l: %m,%-Z%p^,%-C%.%#</p> <p>%f\u8868\u793a\u6587\u4ef6\u540d\uff0c%l\u8868\u793a\u884c\u53f7\uff0c %m\u8868\u793a\u9519\u8bef\u4fe1\u606f\uff0c\u5176\u5b83\u7684\u8fd8\u4e0d\u80fd\u7406\u89e3\u3002 \u8bf7\u53c2\u8003 :help errorformat\u3002</p>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#136-\u5feb\u901f\u4fee\u6539\u7a97\u53e3","title":"13.6 \u5feb\u901f\u4fee\u6539\u7a97\u53e3","text":"<p>\u5176\u5b9e\u662fquickfix\u63d2\u4ef6\u63d0\u4f9b\u7684\u529f\u80fd\uff0c \u5bf9\u7f16\u8bd1\u8c03\u8bd5\u7a0b\u5e8f\u975e\u5e38\u6709\u7528 :)</p> <ul> <li>:copen -- \u6253\u5f00\u5feb\u901f\u4fee\u6539\u7a97\u53e3\u3002</li> <li>:cclose -- \u5173\u95ed\u5feb\u901f\u4fee\u6539\u7a97\u53e3\u3002</li> </ul> <p>\u5feb\u901f\u4fee\u6539\u7a97\u53e3\u5728make\u7a0b\u5e8f\u65f6\u975e\u5e38\u6709\u7528\uff0c\u5f53make\u4e4b\u540e\uff1a</p> <ul> <li>:cl -- \u5728\u5feb\u901f\u4fee\u6539\u7a97\u53e3\u4e2d\u5217\u51fa\u9519\u8bef\u3002</li> <li>:cn -- \u5b9a\u4f4d\u5230\u4e0b\u4e00\u4e2a\u9519\u8bef\u3002</li> <li>:cp -- \u5b9a\u4f4d\u5230\u4e0a\u4e00\u4e2a\u9519\u8bef\u3002</li> <li>:cr -- \u5b9a\u4f4d\u5230\u7b2c\u4e00\u4e2a\u9519\u8bef\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#137-\u81ea\u52a8\u8865\u5168","title":"13.7 \u81ea\u52a8\u8865\u5168","text":"<ul> <li>C-x C-s -- \u62fc\u5199\u5efa\u8bae\u3002</li> <li>C-x C-v -- \u8865\u5168vim\u9009\u9879\u548c\u547d\u4ee4\u3002</li> <li>C-x C-l -- \u6574\u884c\u8865\u5168\u3002</li> <li>C-x C-f -- \u81ea\u52a8\u8865\u5168\u6587\u4ef6\u8def\u5f84\u3002\u5f39\u51fa\u83dc\u5355\u540e\uff0c\u6309C-f\u5faa\u73af\u9009\u62e9\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u6309 C-n\u548cC-p\u3002</li> <li>C-x C-p \u548cC-x C-n -- \u7528\u6587\u6863\u4e2d\u51fa\u73b0\u8fc7\u7684\u5355\u8bcd\u8865\u5168\u5f53\u524d\u7684\u8bcd\u3002 \u76f4\u63a5\u6309C-p\u548cC-n\u4e5f\u53ef\u4ee5\u3002</li> <li>C-x C-o -- \u7f16\u7a0b\u65f6\u53ef\u4ee5\u8865\u5168\u5173\u952e\u5b57\u548c\u51fd\u6570\u540d\u554a\u3002</li> <li>C-x C-i -- \u6839\u636e\u5934\u6587\u4ef6\u5185\u5173\u952e\u5b57\u8865\u5168\u3002</li> <li>C-x C-d -- \u8865\u5168\u5b8f\u5b9a\u4e49\u3002</li> <li>C-x C-n -- \u6309\u7f13\u51b2\u533a\u4e2d\u51fa\u73b0\u8fc7\u7684\u5173\u952e\u5b57\u8865\u5168\u3002 \u76f4\u63a5\u6309C-n\u6216C-p\u5373\u53ef\u3002</li> </ul> <p>\u5f53\u5f39\u51fa\u8865\u5168\u83dc\u5355\u540e\uff1a</p> <ul> <li>C-p \u5411\u524d\u5207\u6362\u6210\u5458\uff1b</li> <li>C-n \u5411\u540e\u5207\u6362\u6210\u5458\uff1b</li> <li>C-e \u9000\u51fa\u4e0b\u62c9\u83dc\u5355\uff0c\u5e76\u9000\u56de\u5230\u539f\u6765\u5f55\u5165\u7684\u6587\u5b57\uff1b</li> <li>C-y \u9000\u51fa\u4e0b\u62c9\u83dc\u5355\uff0c\u5e76\u63a5\u53d7\u5f53\u524d\u9009\u9879\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#138-\u591a\u884c\u7f29\u8fdb\u7f29\u51fa","title":"13.8 \u591a\u884c\u7f29\u8fdb\u7f29\u51fa","text":"<ul> <li>\u6b63\u5e38\u6a21\u5f0f\u4e0b\uff0c\u6309\u4e24\u4e0b&gt;;\u5149\u6807\u6240\u5728\u884c\u4f1a\u7f29\u8fdb\u3002</li> <li>\u5982\u679c\u5148\u6309\u4e86n\uff0c\u518d\u6309\u4e24\u4e0b&gt;;\uff0c\u5149\u6807\u4ee5\u4e0b\u7684n\u884c\u4f1a\u7f29\u8fdb\u3002</li> <li>\u5bf9\u5e94\u7684\uff0c\u6309\u4e24\u4e0b&lt;;\uff0c\u5149\u6807\u6240\u5728\u884c\u4f1a\u7f29\u51fa\u3002</li> <li>\u5982\u679c\u5728\u7f16\u8f91\u4ee3\u7801\u6587\u4ef6\uff0c\u53ef\u4ee5\u7528=\u8fdb\u884c\u8c03\u6574\u3002</li> <li>\u5728\u53ef\u89c6\u6a21\u5f0f\u4e0b\uff0c\u9009\u62e9\u8981\u8c03\u6574\u7684\u4ee3\u7801\u5757\uff0c\u6309=\uff0c\u4ee3\u7801\u4f1a\u6309\u4e66\u5199\u89c4\u5219\u7f29\u6392\u597d\u3002</li> <li>\u6216\u8005n =\uff0c\u8c03\u6574n\u884c\u4ee3\u7801\u7684\u7f29\u6392\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#139-\u6298\u53e0","title":"13.9 \u6298\u53e0","text":"<ul> <li>zf -- \u521b\u5efa\u6298\u53e0\u7684\u547d\u4ee4\uff0c\u53ef\u4ee5\u5728\u4e00\u4e2a\u53ef\u89c6\u533a\u57df\u4e0a\u4f7f\u7528\u8be5\u547d\u4ee4\uff1b</li> <li>zd -- \u5220\u9664\u5f53\u524d\u884c\u7684\u6298\u53e0\uff1b</li> <li>zD -- \u5220\u9664\u5f53\u524d\u884c\u7684\u6298\u53e0\uff1b</li> <li>zfap -- \u6298\u53e0\u5149\u6807\u6240\u5728\u7684\u6bb5\uff1b</li> <li>zo -- \u6253\u5f00\u6298\u53e0\u7684\u6587\u672c\uff1b</li> <li>zc -- \u6536\u8d77\u6298\u53e0\uff1b</li> <li>za -- \u6253\u5f00/\u5173\u95ed\u5f53\u524d\u6298\u53e0\uff1b</li> <li>zr -- \u6253\u5f00\u5d4c\u5957\u7684\u6298\u884c\uff1b</li> <li>zm -- \u6536\u8d77\u5d4c\u5957\u7684\u6298\u884c\uff1b</li> <li>zR (zO) -- \u6253\u5f00\u6240\u6709\u6298\u884c\uff1b</li> <li>zM (zC) -- \u6536\u8d77\u6240\u6709\u6298\u884c\uff1b</li> <li>zj -- \u8df3\u5230\u4e0b\u4e00\u4e2a\u6298\u53e0\u5904\uff1b</li> <li>zk -- \u8df3\u5230\u4e0a\u4e00\u4e2a\u6298\u53e0\u5904\uff1b</li> <li>zi -- enable/disable fold;</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#14\u547d\u4ee4\u884c","title":"14.\u547d\u4ee4\u884c","text":"<p>normal\u6a21\u5f0f\u4e0b\u6309:\u8fdb\u5165\u547d\u4ee4\u884c\u6a21\u5f0f</p>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#141-\u547d\u4ee4\u884c\u6a21\u5f0f\u4e0b\u7684\u5feb\u6377\u952e","title":"14.1 \u547d\u4ee4\u884c\u6a21\u5f0f\u4e0b\u7684\u5feb\u6377\u952e","text":"<ul> <li>\u4e0a\u4e0b\u65b9\u5411\u952e\uff1a\u4e0a\u4e00\u6761\u6216\u8005\u4e0b\u4e00\u6761\u547d\u4ee4\u3002\u5982\u679c\u5df2\u7ecf\u8f93\u5165\u4e86\u90e8\u5206\u547d\u4ee4\uff0c\u5219\u627e\u4e0a\u4e00 \u6761\u6216\u8005\u4e0b\u4e00\u6761\u5339\u914d\u7684\u547d\u4ee4\u3002</li> <li>\u5de6\u53f3\u65b9\u5411\u952e\uff1a\u5de6/\u53f3\u79fb\u4e00\u4e2a\u5b57\u7b26\u3002</li> <li>C-w\uff1a \u5411\u524d\u5220\u9664\u4e00\u4e2a\u5355\u8bcd\u3002</li> <li>C-h\uff1a \u5411\u524d\u5220\u9664\u4e00\u4e2a\u5b57\u7b26\uff0c\u7b49\u540c\u4e8eBackspace\u3002</li> <li>C-u\uff1a \u4ece\u5f53\u524d\u4f4d\u7f6e\u79fb\u52a8\u5230\u547d\u4ee4\u884c\u5f00\u5934\u3002</li> <li>C-b\uff1a \u79fb\u52a8\u5230\u547d\u4ee4\u884c\u5f00\u5934\u3002</li> <li>C-e\uff1a \u79fb\u52a8\u5230\u547d\u4ee4\u884c\u672b\u5c3e\u3002</li> <li>Shift-Left\uff1a \u5de6\u79fb\u4e00\u4e2a\u5355\u8bcd\u3002</li> <li>Shift-Right\uff1a \u53f3\u79fb\u4e00\u4e2a\u5355\u8bcd\u3002</li> <li>@\uff1a \u91cd\u590d\u4e0a\u4e00\u6b21\u7684\u5192\u53f7\u547d\u4ee4\u3002</li> <li>q\uff1a \u6b63\u5e38\u6a21\u5f0f\u4e0b\uff0cq\u7136\u540e\u6309':'\uff0c\u6253\u5f00\u547d\u4ee4\u884c\u5386\u53f2\u7f13\u51b2\u533a\uff0c \u53ef\u4ee5\u50cf\u7f16\u8f91\u6587\u4ef6\u4e00\u6837\u7f16\u8f91\u547d\u4ee4\u3002</li> <li>q/\u548cq? \u53ef\u4ee5\u6253\u5f00\u67e5\u627e\u5386\u53f2\u8bb0\u5f55\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#142-\u6267\u884c\u5916\u90e8\u547d\u4ee4","title":"14.2 \u6267\u884c\u5916\u90e8\u547d\u4ee4","text":"<ul> <li>:! cmd \u6267\u884c\u5916\u90e8\u547d\u4ee4\u3002</li> <li>:!! \u6267\u884c\u4e0a\u4e00\u6b21\u7684\u5916\u90e8\u547d\u4ee4\u3002</li> <li>:sh \u8c03\u7528shell\uff0c\u7528exit\u8fd4\u56devim\u3002</li> <li>:r !cmd \u5c06\u547d\u4ee4\u7684\u8fd4\u56de\u7ed3\u679c\u63d2\u5165\u6587\u4ef6\u5f53\u524d\u4f4d\u7f6e\u3002</li> <li>:m,nw !cmd \u5c06\u6587\u4ef6\u7684m\u884c\u5230n\u884c\u4e4b\u95f4\u7684\u5185\u5bb9\u505a\u4e3a\u547d\u4ee4\u8f93\u5165\u6267\u884c\u547d\u4ee4\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#15\u5176\u5b83","title":"15.\u5176\u5b83","text":"","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#151-\u5de5\u4f5c\u76ee\u5f55","title":"15.1 \u5de5\u4f5c\u76ee\u5f55","text":"<ul> <li>:pwd \u663e\u793avim\u7684\u5de5\u4f5c\u76ee\u5f55\u3002</li> <li>:cd path \u6539\u53d8vim\u7684\u5de5\u4f5c\u76ee\u5f55\u3002</li> <li>:set autochdir \u53ef\u4ee5\u8ba9vim \u6839\u636e\u7f16\u8f91\u7684\u6587\u4ef6\u81ea\u52a8\u5207\u6362\u5de5\u4f5c\u76ee\u5f55\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#152-\u4e00\u4e9b\u5feb\u6377\u952e","title":"15.2 \u4e00\u4e9b\u5feb\u6377\u952e","text":"<ul> <li>K: \u6253\u5f00\u5149\u6807\u6240\u5728\u8bcd\u7684manpage\u3002</li> <li>*: \u5411\u4e0b\u641c\u7d22\u5149\u6807\u6240\u5728\u8bcd\u3002</li> <li>g*: \u540c\u4e0a\uff0c\u4f46\u90e8\u5206\u7b26\u5408\u5373\u53ef\u3002</li> <li>#: \u5411\u4e0a\u641c\u7d22\u5149\u6807\u6240\u5728\u8bcd\u3002</li> <li>g#: \u540c\u4e0a\uff0c\u4f46\u90e8\u5206\u7b26\u5408\u5373\u53ef\u3002</li> <li>g C-g: \u7edf\u8ba1\u5168\u6587\u6216\u7edf\u8ba1\u90e8\u5206\u7684\u5b57\u6570\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#153-\u5728\u7ebf\u5e2e\u52a9","title":"15.3 \u5728\u7ebf\u5e2e\u52a9","text":"<ul> <li>:h(elp)\u6216F1 \u6253\u5f00\u603b\u7684\u5e2e\u52a9\u3002</li> <li>:help user-manual \u6253\u5f00\u7528\u6237\u624b\u518c\u3002</li> <li>\u547d\u4ee4\u5e2e\u52a9\u7684\u683c\u5f0f\u4e3a\uff1a\u7b2c\u4e00\u884c\u6307\u660e\u600e\u4e48\u4f7f\u7528\u90a3\u4e2a\u547d\u4ee4\uff1b \u7136\u540e\u662f\u7f29\u8fdb\u7684\u4e00\u6bb5\u89e3\u91ca\u8fd9\u4e2a\u547d\u4ee4\u7684\u4f5c\u7528\uff0c\u7136\u540e\u662f\u8fdb\u4e00\u6b65\u7684\u4fe1\u606f\u3002</li> <li>:helptags somepath \u4e3asomepath\u4e2d\u7684\u6587\u6863\u751f\u6210\u7d22\u5f15\u3002</li> <li>:helpgrep \u53ef\u4ee5\u641c\u7d22\u6574\u4e2a\u5e2e\u52a9\u6587\u6863\uff0c\u5339\u914d\u7684\u5217\u8868\u663e\u793a\u5728quickfix\u7a97\u53e3\u4e2d\u3002</li> <li>Ctrl+] \u8df3\u8f6c\u5230tag\u4e3b\u9898\uff0cCtrl+t \u8df3\u56de\u3002</li> <li>:ver \u663e\u793a\u7248\u672c\u4fe1\u606f\u3002</li> </ul>","tags":["vim","linux"]},{"location":"2024/12/01/vim%E5%85%A5%E9%97%A8%E8%BD%AC%E8%BD%BD/#154-\u4e00\u4e9b\u5c0f\u529f\u80fd","title":"15.4 \u4e00\u4e9b\u5c0f\u529f\u80fd","text":"<ul> <li>\u7b80\u5355\u8ba1\u7b97\u5668: \u5728\u63d2\u5165\u6a21\u5f0f\u4e0b\uff0c\u8f93\u5165C-r =\uff0c\u7136\u540e\u8f93\u5165\u8868\u8fbe\u5f0f\uff0c\u5c31\u80fd\u5728 \u5149\u6807\u5904\u5f97\u5230\u8ba1\u7b97\u7ed3\u679c\u3002</li> </ul>","tags":["vim","linux"]},{"location":"archive/2024/","title":"2024","text":""},{"location":"page/2/","title":"\u535a\u5ba2","text":""},{"location":"archive/2024/page/2/","title":"2024","text":""},{"location":"tags/","title":"Tags","text":""},{"location":"tags/#dtd","title":"dtd","text":"<ul> <li>\u600e\u4e48\u7f16\u5199DTD\u6587\u4ef6</li> </ul>"},{"location":"tags/#g1","title":"g1","text":"<ul> <li>G1\u5783\u573e\u6536\u96c6\u5668(\u8f6c\u8f7d)</li> </ul>"},{"location":"tags/#giscus","title":"giscus","text":"<ul> <li>\u767d\u5ad6GithubPage\u642d\u5efa\u81ea\u5df1\u7684\u535a\u5ba2!\uff08\u4e8c\uff09</li> </ul>"},{"location":"tags/#github","title":"github","text":"<ul> <li>\u767d\u5ad6GithubPage\u642d\u5efa\u81ea\u5df1\u7684\u535a\u5ba2!\uff08\u4e00\uff09</li> <li>\u767d\u5ad6GithubPage\u642d\u5efa\u81ea\u5df1\u7684\u535a\u5ba2!\uff08\u4e8c\uff09</li> </ul>"},{"location":"tags/#http","title":"http","text":"<ul> <li>HTTP\u72b6\u6001\u7801</li> </ul>"},{"location":"tags/#java","title":"java","text":"<ul> <li>G1\u5783\u573e\u6536\u96c6\u5668(\u8f6c\u8f7d)</li> <li>Redis\u5f00\u542f\u5de5\u4f5c\u7a7a\u95f4</li> <li>Skywalking\u6559\u7a0b</li> </ul>"},{"location":"tags/#jstack","title":"jstack","text":"<ul> <li>JVM\u6545\u969c\u5206\u6790\u53ca\u6027\u80fd\u4f18\u5316\u7cfb\u5217\u4e4b\u4e00\uff1a\u4f7f\u7528jstack\u5b9a\u4f4d\u7ebf\u7a0b\u5806\u6808\u4fe1\u606f(\u8f6c\u8f7d)</li> <li>JVM\u6545\u969c\u5206\u6790\u53ca\u6027\u80fd\u4f18\u5316\u7cfb\u5217\u4e4b\u4e8c\uff1ajstack\u751f\u6210\u7684Thread Dump\u65e5\u5fd7\u7ed3\u6784\u89e3\u6790(\u8f6c\u8f7d)</li> </ul>"},{"location":"tags/#jstat","title":"jstat","text":"<ul> <li>JVM\u6545\u969c\u5206\u6790\u53ca\u6027\u80fd\u4f18\u5316\u7cfb\u5217\u4e4b\u4e09\uff1ajstat\u547d\u4ee4\u7684\u4f7f\u7528\u53caVM Thread\u5206\u6790(\u8f6c\u8f7d)</li> </ul>"},{"location":"tags/#jvm","title":"jvm","text":"<ul> <li>JVM\u6545\u969c\u5206\u6790\u53ca\u6027\u80fd\u4f18\u5316\u7cfb\u5217\u4e4b\u4e00\uff1a\u4f7f\u7528jstack\u5b9a\u4f4d\u7ebf\u7a0b\u5806\u6808\u4fe1\u606f(\u8f6c\u8f7d)</li> <li>JVM\u6545\u969c\u5206\u6790\u53ca\u6027\u80fd\u4f18\u5316\u7cfb\u5217\u4e4b\u4e09\uff1ajstat\u547d\u4ee4\u7684\u4f7f\u7528\u53caVM Thread\u5206\u6790(\u8f6c\u8f7d)</li> <li>JVM\u6545\u969c\u5206\u6790\u53ca\u6027\u80fd\u4f18\u5316\u7cfb\u5217\u4e4b\u4e8c\uff1ajstack\u751f\u6210\u7684Thread Dump\u65e5\u5fd7\u7ed3\u6784\u89e3\u6790(\u8f6c\u8f7d)</li> </ul>"},{"location":"tags/#linux","title":"linux","text":"<ul> <li>Vim\u5165\u95e8(\u8f6c\u8f7d)</li> </ul>"},{"location":"tags/#mkdocs","title":"mkdocs","text":"<ul> <li>\u767d\u5ad6GithubPage\u642d\u5efa\u81ea\u5df1\u7684\u535a\u5ba2!\uff08\u4e00\uff09</li> <li>\u767d\u5ad6GithubPage\u642d\u5efa\u81ea\u5df1\u7684\u535a\u5ba2!\uff08\u4e8c\uff09</li> </ul>"},{"location":"tags/#python","title":"python","text":"<ul> <li>\u767d\u5ad6GithubPage\u642d\u5efa\u81ea\u5df1\u7684\u535a\u5ba2!\uff08\u4e00\uff09</li> <li>\u767d\u5ad6GithubPage\u642d\u5efa\u81ea\u5df1\u7684\u535a\u5ba2!\uff08\u4e8c\uff09</li> </ul>"},{"location":"tags/#redis","title":"redis","text":"<ul> <li>Redis\u5f00\u542f\u5de5\u4f5c\u7a7a\u95f4</li> </ul>"},{"location":"tags/#skywalking","title":"skywalking","text":"<ul> <li>Skywalking\u6559\u7a0b</li> </ul>"},{"location":"tags/#springboot","title":"springboot","text":"<ul> <li>Redis\u5f00\u542f\u5de5\u4f5c\u7a7a\u95f4</li> </ul>"},{"location":"tags/#vim","title":"vim","text":"<ul> <li>Vim\u5165\u95e8(\u8f6c\u8f7d)</li> </ul>"},{"location":"tags/#xml","title":"xml","text":"<ul> <li>\u600e\u4e48\u7f16\u5199DTD\u6587\u4ef6</li> </ul>"},{"location":"tags/#\u4e91\u539f\u751f","title":"\u4e91\u539f\u751f","text":"<ul> <li>Skywalking\u6559\u7a0b</li> </ul>"},{"location":"tags/#\u6027\u80fd\u4f18\u5316","title":"\u6027\u80fd\u4f18\u5316","text":"<ul> <li>JVM\u6545\u969c\u5206\u6790\u53ca\u6027\u80fd\u4f18\u5316\u7cfb\u5217\u4e4b\u4e00\uff1a\u4f7f\u7528jstack\u5b9a\u4f4d\u7ebf\u7a0b\u5806\u6808\u4fe1\u606f(\u8f6c\u8f7d)</li> <li>JVM\u6545\u969c\u5206\u6790\u53ca\u6027\u80fd\u4f18\u5316\u7cfb\u5217\u4e4b\u4e09\uff1ajstat\u547d\u4ee4\u7684\u4f7f\u7528\u53caVM Thread\u5206\u6790(\u8f6c\u8f7d)</li> <li>JVM\u6545\u969c\u5206\u6790\u53ca\u6027\u80fd\u4f18\u5316\u7cfb\u5217\u4e4b\u4e8c\uff1ajstack\u751f\u6210\u7684Thread Dump\u65e5\u5fd7\u7ed3\u6784\u89e3\u6790(\u8f6c\u8f7d)</li> </ul>"},{"location":"tags/#\u6295\u8d44","title":"\u6295\u8d44","text":"<ul> <li>\u80a1\u7968\u6295\u8d44\u5fc3\u5f97</li> </ul>"},{"location":"tags/#\u80a1\u7968","title":"\u80a1\u7968","text":"<ul> <li>\u80a1\u7968\u6295\u8d44\u5fc3\u5f97</li> </ul>"}]}